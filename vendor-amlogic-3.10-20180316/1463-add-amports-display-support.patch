From 5e27199c12d38286835ac16e56f54a43c8847812 Mon Sep 17 00:00:00 2001
From: "yun.cai" <yun.cai@amlogic.com>
Date: Fri, 18 Oct 2013 17:35:23 +0800
Subject: [PATCH 1463/5965] add amports/display support

---
 arch/arm/configs/meson8_defconfig             |  11 +-
 drivers/amlogic/Kconfig                       |   1 -
 drivers/amlogic/Makefile                      |   6 +-
 drivers/amlogic/amports/adec.c                |   4 +-
 drivers/amlogic/amports/amcm.c                |   4 +-
 drivers/amlogic/amports/amcm.h                |   4 +-
 drivers/amlogic/amports/amstream.c            |  14 +-
 drivers/amlogic/amports/amstream_profile.c    |   2 +-
 drivers/amlogic/amports/amvdec.c              |   2 +-
 drivers/amlogic/amports/amve.c                |   4 +-
 drivers/amlogic/amports/amve.h                |   4 +-
 drivers/amlogic/amports/deinterlace.c         |   6 +-
 drivers/amlogic/amports/encoder.c             |  12 +-
 drivers/amlogic/amports/esparser.c            |   2 +-
 drivers/amlogic/amports/jpegdec.c             |   4 +-
 drivers/amlogic/amports/psparser.c            |   4 +-
 drivers/amlogic/amports/ptsserv.c             |   6 +-
 drivers/amlogic/amports/rdma.c                |   4 +-
 drivers/amlogic/amports/rmparser.c            |   4 +-
 drivers/amlogic/amports/streambuf.c           |   4 +-
 drivers/amlogic/amports/subtitle.c            |   2 +-
 drivers/amlogic/amports/tsdemux.c             |   6 +-
 drivers/amlogic/amports/tsync.c               |   8 +-
 drivers/amlogic/amports/vdec.c                |   2 +-
 drivers/amlogic/amports/vh264.c               |  14 +-
 drivers/amlogic/amports/vh264_4k2k.c          |  16 +-
 drivers/amlogic/amports/vh264mvc.c            |  12 +-
 drivers/amlogic/amports/video.c               |  30 ++--
 drivers/amlogic/amports/video2.c              |  28 +--
 drivers/amlogic/amports/vmjpeg.c              |  14 +-
 drivers/amlogic/amports/vmpeg12.c             |  16 +-
 drivers/amlogic/amports/vmpeg4.c              |  14 +-
 drivers/amlogic/amports/vpp.c                 |   8 +-
 drivers/amlogic/amports/vpp2.c                |   8 +-
 drivers/amlogic/amports/vreal.c               |  12 +-
 drivers/amlogic/amports/vvc1.c                |  12 +-
 drivers/amlogic/display/aml_logo/Makefile     |   4 +-
 .../aml_logo/loader/logo_setup_uboot.c        |   2 +-
 .../display/aml_logo/logo_display/dev_ge2d.c  |   2 +-
 .../aml_logo/logo_display/logo_output.c       |   2 +-
 .../aml_logo/logo_display/output_dev_osd.c    |   2 +-
 .../aml_logo/logo_display/output_dev_vid.c    |   2 +-
 .../display/aml_logo/logo_parse/bmp_parser.c  |   2 +-
 .../display/aml_logo/logo_parse/jpeg_parser.c |   8 +-
 .../display/aml_logo/logo_parse/logo_parse.c  |   2 +-
 drivers/amlogic/display/backlight/aml_bl.c    |   2 +-
 drivers/amlogic/display/ge2d/bitblt.c         |   2 +-
 drivers/amlogic/display/ge2d/blend.c          |   2 +-
 drivers/amlogic/display/ge2d/fillrect.c       |   2 +-
 drivers/amlogic/display/ge2d/ge2d_hw.c        |   2 +-
 drivers/amlogic/display/ge2d/ge2d_main.c      |   4 +-
 drivers/amlogic/display/ge2d/ge2d_wq.c        |   6 +-
 drivers/amlogic/display/ge2d/ge2dgen.c        |   2 +-
 drivers/amlogic/display/ge2d/stretchblt.c     |   2 +-
 drivers/amlogic/display/osd_ext/osd_clone.c   |  12 +-
 drivers/amlogic/display/osd_ext/osd_dev.c     |   2 +-
 drivers/amlogic/display/osd_ext/osd_dev.h     |   6 +-
 drivers/amlogic/display/osd_ext/osd_hw.c      |   8 +-
 drivers/amlogic/display/osd_ext/osd_hw_def.h  |   2 +-
 drivers/amlogic/display/osd_ext/osd_main.c    |   2 +-
 drivers/amlogic/display/osd_ext/osd_main.h    |   2 +-
 drivers/amlogic/display/vout2/nulldisp.c      |   4 +-
 drivers/amlogic/display/vout2/tvconf.h        |   2 +-
 drivers/amlogic/display/vout2/tvconf2.c       |   6 +-
 drivers/amlogic/display/vout2/tvoutc2.c       |   2 +-
 drivers/amlogic/display/vout2/vout2_notify.c  |   2 +-
 drivers/amlogic/display/vout2/vout2_serve.c   |   6 +-
 drivers/amlogic/display/vout2/vout_serve.h    |   2 +-
 drivers/amlogic/vfm/vfm.c                     |   6 +-
 drivers/amlogic/vfm/vframe_provider.c         |   6 +-
 drivers/amlogic/vfm/vframe_receiver.c         |   4 +-
 include/linux/amlogic/aml_common.h            |  71 ++++++++
 include/linux/amlogic/amports/aformat.h       |  54 ++++++
 include/linux/amlogic/amports/cm.h            | 169 ++++++++++++++++++
 include/linux/amlogic/amports/jpegdec.h       |  93 ++++++++++
 include/linux/amlogic/amports/vformat.h       |  40 +++++
 include/linux/amlogic/amports/vfp.h           | 104 +++++++++++
 include/linux/amlogic/ge2d/ge2d_main.h        |   2 +-
 include/linux/amlogic/logo/amlogo_log.h       |  27 +++
 include/linux/amlogic/logo/bmp_parser.h       |  50 ++++++
 include/linux/amlogic/logo/dev_ge2d.h         |  17 ++
 include/linux/amlogic/logo/jpeg_parser.h      |  40 +++++
 include/linux/amlogic/logo/loader.h           |  33 ++++
 include/linux/amlogic/logo/logo_dev_osd.h     |  10 ++
 include/linux/amlogic/logo/logo_dev_vid.h     |   9 +
 85 files changed, 935 insertions(+), 212 deletions(-)
 mode change 100644 => 100755 drivers/amlogic/vfm/vframe_provider.c
 mode change 100644 => 100755 drivers/amlogic/vfm/vframe_receiver.c
 create mode 100755 include/linux/amlogic/aml_common.h
 create mode 100755 include/linux/amlogic/amports/aformat.h
 create mode 100755 include/linux/amlogic/amports/cm.h
 create mode 100755 include/linux/amlogic/amports/jpegdec.h
 create mode 100755 include/linux/amlogic/amports/vformat.h
 create mode 100755 include/linux/amlogic/amports/vfp.h
 create mode 100755 include/linux/amlogic/logo/amlogo_log.h
 create mode 100755 include/linux/amlogic/logo/bmp_parser.h
 create mode 100755 include/linux/amlogic/logo/dev_ge2d.h
 create mode 100755 include/linux/amlogic/logo/jpeg_parser.h
 create mode 100755 include/linux/amlogic/logo/loader.h
 create mode 100755 include/linux/amlogic/logo/logo_dev_osd.h
 create mode 100755 include/linux/amlogic/logo/logo_dev_vid.h

diff --git a/arch/arm/configs/meson8_defconfig b/arch/arm/configs/meson8_defconfig
index 7f598b0189b0..488a3630052b 100755
--- a/arch/arm/configs/meson8_defconfig
+++ b/arch/arm/configs/meson8_defconfig
@@ -25,14 +25,20 @@ CONFIG_NEON=y
 CONFIG_BINFMT_MISC=y
 # CONFIG_SUSPEND is not set
 CONFIG_I2C_AML=y
-# CONFIG_AML_RTC is not set
 # CONFIG_MESON_INPUT_REMOTE is not set
 # CONFIG_MESON_INPUT_KEYBOARD is not set
+CONFIG_AML_PMU_ALGORITHM_SUPPORT=y
 CONFIG_EFUSE=y
 CONFIG_AML_NEXT_GEN_NAND=y
 # CONFIG_AMAUDIO is not set
-# CONFIG_AM_LCD_OUTPUT is not set
+CONFIG_AM_VIDEO=y
+CONFIG_AM_TV_OUTPUT2=y
 CONFIG_FB_AM=y
+CONFIG_FB_OSD2_CURSOR=y
+CONFIG_AM_FB_EXT=y
+CONFIG_AMLOGIC_BACKLIGHT=y
+CONFIG_AM_GE2D=y
+CONFIG_AM_LOGO=y
 CONFIG_UEVENT_HELPER_PATH="/sbin/hotplug"
 CONFIG_DEVTMPFS=y
 CONFIG_DEVTMPFS_MOUNT=y
@@ -51,6 +57,7 @@ CONFIG_SND_SOC=y
 # CONFIG_HID is not set
 # CONFIG_USB_SUPPORT is not set
 CONFIG_MMC=y
+CONFIG_UIO=y
 # CONFIG_IOMMU_SUPPORT is not set
 # CONFIG_FILE_LOCKING is not set
 # CONFIG_DNOTIFY is not set
diff --git a/drivers/amlogic/Kconfig b/drivers/amlogic/Kconfig
index a2f0b4c27ff6..47186cdd41f3 100755
--- a/drivers/amlogic/Kconfig
+++ b/drivers/amlogic/Kconfig
@@ -22,7 +22,6 @@ source "drivers/amlogic/power/Kconfig"
 #source "drivers/amlogic/securitykeys/Kconfig"
 #source "drivers/amlogic/keymanage/Kconfig"
 #source "drivers/amlogic/extern_io/Kconfig"
-source "drivers/amlogic/gpio/Kconfig"
 #source "drivers/amlogic/minilvds/Kconfig"
 source "drivers/amlogic/efuse/Kconfig"
 #source "drivers/amlogic/smartcard/Kconfig"
diff --git a/drivers/amlogic/Makefile b/drivers/amlogic/Makefile
index e95d538511ce..7c6610fe579f 100755
--- a/drivers/amlogic/Makefile
+++ b/drivers/amlogic/Makefile
@@ -42,7 +42,7 @@ obj-y += ethernet/
 
 obj-$(CONFIG_AM_CANVAS) += canvas/
 
-#obj-y += amports/
+obj-y += amports/
 
 # ve&cm
 #obj-y += amvecm/
@@ -51,14 +51,14 @@ obj-$(CONFIG_I2C) += i2c/
 
 #obj-y += extern_io/
 
-#obj-y += input/
+obj-y += input/
 
 obj-$(CONFIG_AMLOGIC_SPI_NOR) += spi_nor/
 
 #obj-$(CONFIG_CARDREADER) += cardreader/
 obj-$(CONFIG_MMC_AML) +=mmc/
 
-#obj-y += vfm/
+obj-y += vfm/
 
 obj-$(CONFIG_AML_AUDIO_DSP) += audiodsp/
 
diff --git a/drivers/amlogic/amports/adec.c b/drivers/amlogic/amports/adec.c
index 912836606470..550b18b62425 100755
--- a/drivers/amlogic/amports/adec.c
+++ b/drivers/amlogic/amports/adec.c
@@ -26,8 +26,8 @@
 #include <linux/slab.h>
 #include <linux/uio_driver.h>
 
-#include <linux/amports/aformat.h>
-#include <linux/amports/ptsserv.h>
+#include <linux/amlogic/amports/aformat.h>
+#include <linux/amlogic/amports/ptsserv.h>
 
 #include <mach/am_regs.h>
 
diff --git a/drivers/amlogic/amports/amcm.c b/drivers/amlogic/amports/amcm.c
index 00bf02216cb4..61bdecdb8e1c 100755
--- a/drivers/amlogic/amports/amcm.c
+++ b/drivers/amlogic/amports/amcm.c
@@ -14,8 +14,8 @@
 
 #include <mach/am_regs.h>
 
-#include "linux/amports/vframe.h"
-#include "linux/amports/cm.h"
+#include "linux/amlogic/amports/vframe.h"
+#include "linux/amlogic/amports/cm.h"
 
 #include "cm_regs.h"
 #include "amcm.h"
diff --git a/drivers/amlogic/amports/amcm.h b/drivers/amlogic/amports/amcm.h
index 286c09c25ec4..ab5a83f6c1e6 100755
--- a/drivers/amlogic/amports/amcm.h
+++ b/drivers/amlogic/amports/amcm.h
@@ -15,8 +15,8 @@
 #define __AM_CM_H
 
 
-#include "linux/amports/vframe.h"
-#include "linux/amports/cm.h"
+#include "linux/amlogic/amports/vframe.h"
+#include "linux/amlogic/amports/cm.h"
 
 typedef struct cm_regs_s {
     unsigned int val  : 32;
diff --git a/drivers/amlogic/amports/amstream.c b/drivers/amlogic/amports/amstream.c
index 73bb1f525b05..edd4cc1f0ce8 100755
--- a/drivers/amlogic/amports/amstream.c
+++ b/drivers/amlogic/amports/amstream.c
@@ -27,17 +27,17 @@
 #include <linux/device.h>
 #include <linux/vmalloc.h>
 #include <linux/mm.h>
-#include <linux/major.h>
+#include <linux/amlogic/major.h>
 #include <linux/sched.h>
 #include <linux/interrupt.h>
 #include <linux/delay.h>
 #include <linux/kthread.h>
-#include <linux/amports/amstream.h>
-#include <linux/amports/vformat.h>
-#include <linux/amports/aformat.h>
-#include <linux/amports/tsync.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/timestamp.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/amports/vformat.h>
+#include <linux/amlogic/amports/aformat.h>
+#include <linux/amlogic/amports/tsync.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/timestamp.h>
 
 #include <asm/types.h>
 #include <asm/uaccess.h>
diff --git a/drivers/amlogic/amports/amstream_profile.c b/drivers/amlogic/amports/amstream_profile.c
index ec5b993a6bcc..bc4a31c35007 100755
--- a/drivers/amlogic/amports/amstream_profile.c
+++ b/drivers/amlogic/amports/amstream_profile.c
@@ -3,7 +3,7 @@
 #include <linux/fs.h>
 #include <linux/device.h>
 #include <linux/interrupt.h>
-#include <linux/amports/amstream.h>
+#include <linux/amlogic/amports/amstream.h>
 
 static const struct codec_profile_t *vcodec_profile[SUPPORT_VDEC_NUM] = {0};
 static int vcodec_profile_idx = 0;
diff --git a/drivers/amlogic/amports/amvdec.c b/drivers/amlogic/amports/amvdec.c
index a362cc6dbdf6..3c0f3f3e66e6 100755
--- a/drivers/amlogic/amports/amvdec.c
+++ b/drivers/amlogic/amports/amvdec.c
@@ -26,7 +26,7 @@
 #include <linux/sched.h>
 #include <linux/slab.h>
 #include <linux/dma-mapping.h>
-#include <linux/amports/vformat.h>
+#include <linux/amlogic/amports/vformat.h>
 #include <linux/module.h>
 #include <linux/delay.h>
 
diff --git a/drivers/amlogic/amports/amve.c b/drivers/amlogic/amports/amve.c
index 896705881d52..c5fcd0a45acf 100755
--- a/drivers/amlogic/amports/amve.c
+++ b/drivers/amlogic/amports/amve.c
@@ -14,8 +14,8 @@
 
 #include <mach/am_regs.h>
 
-#include "linux/amports/vframe.h"
-#include "linux/amports/ve.h"
+#include "linux/amlogic/amports/vframe.h"
+#include "linux/amlogic/amports/ve.h"
 
 #include "ve_regs.h"
 #include "amve.h"
diff --git a/drivers/amlogic/amports/amve.h b/drivers/amlogic/amports/amve.h
index 43298d42c6fc..1c706ec743ce 100755
--- a/drivers/amlogic/amports/amve.h
+++ b/drivers/amlogic/amports/amve.h
@@ -14,8 +14,8 @@
 #ifndef __AM_VE_H
 #define __AM_VE_H
 
-#include "linux/amports/vframe.h"
-#include "linux/amports/ve.h"
+#include "linux/amlogic/amports/vframe.h"
+#include "linux/amlogic/amports/ve.h"
 
 typedef struct ve_regs_s {
     unsigned int val  : 32;
diff --git a/drivers/amlogic/amports/deinterlace.c b/drivers/amlogic/amports/deinterlace.c
index 4ec572e03dc6..81484985f6cb 100755
--- a/drivers/amlogic/amports/deinterlace.c
+++ b/drivers/amlogic/amports/deinterlace.c
@@ -4,9 +4,9 @@
 #include <linux/platform_device.h>
 
 #include <mach/am_regs.h>
-#include <linux/amports/canvas.h>
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
 
 #include "deinterlace.h"
 
diff --git a/drivers/amlogic/amports/encoder.c b/drivers/amlogic/amports/encoder.c
index 39988725102f..7a4c8f4d529c 100755
--- a/drivers/amlogic/amports/encoder.c
+++ b/drivers/amlogic/amports/encoder.c
@@ -19,12 +19,12 @@
 #include <mach/am_regs.h>
 #include <plat/io.h>
 #include <linux/ctype.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/amstream.h>
-#include <linux/amports/canvas.h>
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
-#include <linux/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
 #include "vdec_reg.h"
 #include <linux/delay.h>
 
diff --git a/drivers/amlogic/amports/esparser.c b/drivers/amlogic/amports/esparser.c
index c984e2e2f26c..163c6989b3b6 100755
--- a/drivers/amlogic/amports/esparser.c
+++ b/drivers/amlogic/amports/esparser.c
@@ -29,7 +29,7 @@
 #include <linux/mutex.h>
 #include <linux/slab.h>
 #include <linux/dma-mapping.h>
-#include <linux/amports/ptsserv.h>
+#include <linux/amlogic/amports/ptsserv.h>
 
 #include <asm/uaccess.h>
 #include <asm/atomic.h>
diff --git a/drivers/amlogic/amports/jpegdec.c b/drivers/amlogic/amports/jpegdec.c
index a9626dad2756..99f8108f1a1e 100755
--- a/drivers/amlogic/amports/jpegdec.c
+++ b/drivers/amlogic/amports/jpegdec.c
@@ -34,8 +34,8 @@
 #include <mach/am_regs.h>
 #include <plat/io.h>
 
-#include <linux/amports/jpegdec.h>
-#include <linux/amports/canvas.h>
+#include <linux/amlogic/amports/jpegdec.h>
+#include <linux/amlogic/amports/canvas.h>
 
 #include <asm/uaccess.h>
 
diff --git a/drivers/amlogic/amports/psparser.c b/drivers/amlogic/amports/psparser.c
index 7f8871f3a00f..059988340f3a 100755
--- a/drivers/amlogic/amports/psparser.c
+++ b/drivers/amlogic/amports/psparser.c
@@ -27,8 +27,8 @@
 #include <linux/sched.h>
 #include <linux/fs.h>
 #include <linux/slab.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/amstream.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/amstream.h>
 
 #include <asm/uaccess.h>
 #include <mach/am_regs.h>
diff --git a/drivers/amlogic/amports/ptsserv.c b/drivers/amlogic/amports/ptsserv.c
index b0533d68a467..51a63ad96a40 100755
--- a/drivers/amlogic/amports/ptsserv.c
+++ b/drivers/amlogic/amports/ptsserv.c
@@ -2,9 +2,9 @@
 #include <linux/list.h>
 #include <linux/spinlock.h>
 #include <linux/slab.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/timestamp.h>
-#include <linux/amports/tsync.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/timestamp.h>
+#include <linux/amlogic/amports/tsync.h>
 
 #include <mach/am_regs.h>
 
diff --git a/drivers/amlogic/amports/rdma.c b/drivers/amlogic/amports/rdma.c
index 915f1d036700..b0ec27ead345 100755
--- a/drivers/amlogic/amports/rdma.c
+++ b/drivers/amlogic/amports/rdma.c
@@ -35,11 +35,11 @@
 #include <linux/mutex.h>
 #include <linux/platform_device.h>
 #include <linux/ctype.h>
-#include <linux/vout/vout_notify.h>
+#include <linux/amlogic/vout/vout_notify.h>
 #include <linux/sched.h>
 #include <linux/poll.h>
 #include <linux/clk.h>
-#include <linux/logo/logo.h>
+#include <linux/amlogic/logo/logo.h>
 
 #ifndef MESON_CPU_TYPE_MESON8
 #define MESON_CPU_TYPE_MESON8 (MESON_CPU_TYPE_MESON6TV+1)
diff --git a/drivers/amlogic/amports/rmparser.c b/drivers/amlogic/amports/rmparser.c
index 7b7392836592..86a031c2a23d 100755
--- a/drivers/amlogic/amports/rmparser.c
+++ b/drivers/amlogic/amports/rmparser.c
@@ -27,8 +27,8 @@
 #include <linux/sched.h>
 #include <linux/fs.h>
 #include <linux/platform_device.h>
-#include <linux/amports/amstream.h>
-#include <linux/amports/ptsserv.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/amports/ptsserv.h>
 #include <mach/am_regs.h>
 #include <asm/uaccess.h>
 
diff --git a/drivers/amlogic/amports/streambuf.c b/drivers/amlogic/amports/streambuf.c
index dc88302f0dc4..871fd6e10696 100755
--- a/drivers/amlogic/amports/streambuf.c
+++ b/drivers/amlogic/amports/streambuf.c
@@ -24,8 +24,8 @@
 #include <linux/timer.h>
 #include <linux/sched.h>
 #include <linux/fs.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/vformat.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/vformat.h>
 
 #include <asm/cacheflush.h>
 #include <asm/uaccess.h>
diff --git a/drivers/amlogic/amports/subtitle.c b/drivers/amlogic/amports/subtitle.c
index 747f12fe76c0..08060d5670d3 100755
--- a/drivers/amlogic/amports/subtitle.c
+++ b/drivers/amlogic/amports/subtitle.c
@@ -4,7 +4,7 @@
 #include <linux/device.h>
 #include <linux/vmalloc.h>
 
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 MODULE_AMLOG(AMLOG_DEFAULT_LEVEL, 0, LOG_DEFAULT_LEVEL_DESC, LOG_DEFAULT_MASK_DESC);
 
 #define MAX_SUBTITLE_PACKET 10
diff --git a/drivers/amlogic/amports/tsdemux.c b/drivers/amlogic/amports/tsdemux.c
index 003d97db6afa..40dcce6d45d5 100755
--- a/drivers/amlogic/amports/tsdemux.c
+++ b/drivers/amlogic/amports/tsdemux.c
@@ -26,9 +26,9 @@
 #include <linux/wait.h>
 #include <linux/sched.h>
 #include <linux/fs.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/amstream.h>
-#include <linux/amports/vframe_provider.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/amports/vframe_provider.h>
 #include <linux/device.h>
 #include <linux/delay.h>
 
diff --git a/drivers/amlogic/amports/tsync.c b/drivers/amlogic/amports/tsync.c
index 896e5bf77887..1efedde283df 100755
--- a/drivers/amlogic/amports/tsync.c
+++ b/drivers/amlogic/amports/tsync.c
@@ -2,9 +2,9 @@
 #include <linux/spinlock.h>
 #include <linux/kernel.h>
 #include <linux/platform_device.h>
-#include <linux/amports/timestamp.h>
-#include <linux/amports/tsync.h>
-#include <linux/amports/ptsserv.h>
+#include <linux/amlogic/amports/timestamp.h>
+#include <linux/amlogic/amports/tsync.h>
+#include <linux/amlogic/amports/ptsserv.h>
 #ifdef ARC_700
 #include <asm/arch/am_regs.h>
 #else
@@ -31,7 +31,7 @@
 #define LOG_LEVEL_VAR       amlog_level_tsync
 #define LOG_MASK_VAR        amlog_mask_tsync
 #endif
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 MODULE_AMLOG(AMLOG_DEFAULT_LEVEL, 0, LOG_DEFAULT_LEVEL_DESC, LOG_DEFAULT_MASK_DESC);
 
 //#define DEBUG
diff --git a/drivers/amlogic/amports/vdec.c b/drivers/amlogic/amports/vdec.c
index 77bb7ee676c4..60a8def8521b 100755
--- a/drivers/amlogic/amports/vdec.c
+++ b/drivers/amlogic/amports/vdec.c
@@ -25,7 +25,7 @@
 #include <linux/errno.h>
 #include <linux/delay.h>
 #include <linux/platform_device.h>
-#include <linux/amports/vformat.h>
+#include <linux/amlogic/amports/vformat.h>
 #include <mach/am_regs.h>
 #if MESON_CPU_TYPE >= MESON_CPU_TYPE_MESON6
 #include <mach/mod_gate.h>
diff --git a/drivers/amlogic/amports/vh264.c b/drivers/amlogic/amports/vh264.c
index 4ee4dd2f77d4..168168553c23 100755
--- a/drivers/amlogic/amports/vh264.c
+++ b/drivers/amlogic/amports/vh264.c
@@ -26,13 +26,13 @@
 #include <linux/timer.h>
 #include <linux/platform_device.h>
 #include <mach/am_regs.h>
-#include <linux/amports/amstream.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/canvas.h>
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
-#include <linux/amports/vframe_receiver.h>
-#include <linux/amports/vformat.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/vformat.h>
 #include <linux/workqueue.h>
 #include <linux/dma-mapping.h>
 #include <asm/atomic.h>
diff --git a/drivers/amlogic/amports/vh264_4k2k.c b/drivers/amlogic/amports/vh264_4k2k.c
index be725e9c7227..4ffc83c2de64 100755
--- a/drivers/amlogic/amports/vh264_4k2k.c
+++ b/drivers/amlogic/amports/vh264_4k2k.c
@@ -25,14 +25,14 @@
 #include <linux/timer.h>
 #include <linux/kfifo.h>
 #include <linux/platform_device.h>
-#include <linux/amports/vframe.h>
-#include <linux/amports/amstream.h>
-#include <linux/amports/vformat.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/canvas.h>
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
-#include <linux/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/amports/vformat.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
 #include <linux/dma-mapping.h>
 
 #include <mach/am_regs.h>
diff --git a/drivers/amlogic/amports/vh264mvc.c b/drivers/amlogic/amports/vh264mvc.c
index 16aa85d5fe20..0a96667f39ff 100755
--- a/drivers/amlogic/amports/vh264mvc.c
+++ b/drivers/amlogic/amports/vh264mvc.c
@@ -23,12 +23,12 @@
 #include <linux/interrupt.h>
 #include <linux/timer.h>
 #include <linux/platform_device.h>
-#include <linux/amports/amstream.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/canvas.h>
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
-#include <linux/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
 #include <linux/workqueue.h>
 #include <linux/dma-mapping.h>
 #include <asm/atomic.h>
diff --git a/drivers/amlogic/amports/video.c b/drivers/amlogic/amports/video.c
index c089898aee6d..173bed3ee1e2 100755
--- a/drivers/amlogic/amports/video.c
+++ b/drivers/amlogic/amports/video.c
@@ -30,26 +30,26 @@
 #include <linux/string.h>
 #include <linux/io.h>
 #include <linux/mm.h>
-#include <linux/major.h>
+#include <linux/amlogic/major.h>
 #include <linux/err.h>
 #include <linux/mutex.h>
 #include <linux/platform_device.h>
 #include <linux/ctype.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/timestamp.h>
-#include <linux/amports/tsync.h>
-#include <linux/amports/canvas.h>
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
-#include <linux/amports/vframe_receiver.h>
-#include <linux/amports/amstream.h>
-#include <linux/vout/vout_notify.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/timestamp.h>
+#include <linux/amlogic/amports/tsync.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/vout/vout_notify.h>
 #include <linux/sched.h>
 #include <linux/poll.h>
 #include <linux/clk.h>
-#include <linux/logo/logo.h>
+#include <linux/amlogic/logo/logo.h>
 #if defined(CONFIG_AM_VECM)
-#include <linux/aml_common.h>
+#include <linux/amlogic/aml_common.h>
 #endif
 
 #ifdef CONFIG_PM
@@ -66,14 +66,14 @@
 #ifdef CONFIG_AM_VIDEO_LOG
 #define AMLOG
 #endif
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 MODULE_AMLOG(LOG_LEVEL_ERROR, 0, LOG_DEFAULT_LEVEL_DESC, LOG_MASK_DESC);
 
 #include "video.h"
 #include "vpp.h"
 
-#include "linux/amports/ve.h"
-#include "linux/amports/cm.h"
+#include "linux/amlogic/amports/ve.h"
+#include "linux/amlogic/amports/cm.h"
 
 #include "ve_regs.h"
 #include "amve.h"
diff --git a/drivers/amlogic/amports/video2.c b/drivers/amlogic/amports/video2.c
index a3b28c73fd1f..ee4c7fa3b17e 100755
--- a/drivers/amlogic/amports/video2.c
+++ b/drivers/amlogic/amports/video2.c
@@ -36,20 +36,20 @@
 #include <linux/mutex.h>
 #include <linux/platform_device.h>
 #include <linux/ctype.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/timestamp.h>
-#include <linux/amports/tsync.h>
-#include <linux/amports/canvas.h>
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
-#include <linux/amports/vframe_receiver.h>
-#include <linux/amports/amstream.h>
-#include <linux/vout/vout_notify.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/timestamp.h>
+#include <linux/amlogic/amports/tsync.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/vout/vout_notify.h>
 #include <linux/sched.h>
 #include <linux/poll.h>
 #include <linux/clk.h>
-#include <linux/logo/logo.h>
-#include <linux/tvin/tvin_v4l2.h>
+#include <linux/amlogic/logo/logo.h>
+#include <linux/amlogic/tvin/tvin_v4l2.h>
 
 #ifdef CONFIG_PM
 #include <linux/delay.h>
@@ -67,7 +67,7 @@
 #ifdef CONFIG_AM_VIDEO_LOG
 #define AMLOG
 #endif
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 MODULE_AMLOG(LOG_LEVEL_ERROR, 0, LOG_DEFAULT_LEVEL_DESC, LOG_MASK_DESC);
 
 #include "video.h"
@@ -75,8 +75,8 @@ MODULE_AMLOG(LOG_LEVEL_ERROR, 0, LOG_DEFAULT_LEVEL_DESC, LOG_MASK_DESC);
 
 #undef CONFIG_AM_DEINTERLACE
 
-#include "linux/amports/ve.h"
-#include "linux/amports/cm.h"
+#include "linux/amlogic/amports/ve.h"
+#include "linux/amlogic/amports/cm.h"
 
 #include "ve_regs.h"
 #include "amve.h"
diff --git a/drivers/amlogic/amports/vmjpeg.c b/drivers/amlogic/amports/vmjpeg.c
index 8eb4823e7606..1dbb99c17ed4 100755
--- a/drivers/amlogic/amports/vmjpeg.c
+++ b/drivers/amlogic/amports/vmjpeg.c
@@ -27,12 +27,12 @@
 #include <linux/platform_device.h>
 #include <mach/am_regs.h>
 #include <plat/io.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/amstream.h>
-#include <linux/amports/canvas.h>
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
-#include <linux/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
 
 #include "vdec_reg.h"
 
@@ -44,7 +44,7 @@
 #define LOG_LEVEL_INFO      1
 #define LOG_LEVEL_DESC  "0:ERROR, 1:INFO"
 #endif
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 MODULE_AMLOG(LOG_LEVEL_ERROR, 0, LOG_LEVEL_DESC, LOG_DEFAULT_MASK_DESC);
 
 #include "amvdec.h"
diff --git a/drivers/amlogic/amports/vmpeg12.c b/drivers/amlogic/amports/vmpeg12.c
index 4937c06f890e..080a1ddf945c 100755
--- a/drivers/amlogic/amports/vmpeg12.c
+++ b/drivers/amlogic/amports/vmpeg12.c
@@ -27,13 +27,13 @@
 #include <linux/platform_device.h>
 #include <mach/am_regs.h>
 #include <plat/io.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/amstream.h>
-#include <linux/amports/canvas.h>
-#include <linux/amports/vframe.h>
-#include <linux/amports/vfp.h>
-#include <linux/amports/vframe_provider.h>
-#include <linux/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vfp.h>
+#include <linux/amlogic/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
 
 #include "vdec_reg.h"
 #include "vmpeg12.h"
@@ -46,7 +46,7 @@
 #define LOG_LEVEL_INFO      1
 #define LOG_LEVEL_DESC  "0:ERROR, 1:INFO"
 #endif
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 MODULE_AMLOG(LOG_LEVEL_ERROR, 0, LOG_LEVEL_DESC, LOG_DEFAULT_MASK_DESC);
 
 #include "amvdec.h"
diff --git a/drivers/amlogic/amports/vmpeg4.c b/drivers/amlogic/amports/vmpeg4.c
index 82113cf740d2..68a3cd3ae481 100755
--- a/drivers/amlogic/amports/vmpeg4.c
+++ b/drivers/amlogic/amports/vmpeg4.c
@@ -28,12 +28,12 @@
 #include <linux/dma-mapping.h>
 #include <mach/am_regs.h>
 #include <plat/io.h>
-#include <linux/amports/amstream.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/canvas.h>
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
-#include <linux/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
 
 #include "vdec_reg.h"
 #include "vmpeg4.h"
@@ -49,7 +49,7 @@
 #define LOG_MASK_PTS    0x01
 #define LOG_MASK_DESC   "0x01:DEBUG_PTS"
 #endif
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 MODULE_AMLOG(LOG_LEVEL_ERROR, 0, LOG_LEVEL_DESC, LOG_DEFAULT_MASK_DESC);
 
 #include "amvdec.h"
diff --git a/drivers/amlogic/amports/vpp.c b/drivers/amlogic/amports/vpp.c
index d5871232f614..61e4542de096 100755
--- a/drivers/amlogic/amports/vpp.c
+++ b/drivers/amlogic/amports/vpp.c
@@ -21,13 +21,13 @@
 
 #include <linux/kernel.h>
 #include <linux/err.h>
-#include <linux/vout/vinfo.h>
+#include <linux/amlogic/vout/vinfo.h>
 #include <mach/am_regs.h>
-#include <linux/amports/vframe.h>
+#include <linux/amlogic/amports/vframe.h>
 #include "video.h"
 #include "vpp.h"
 
-#include <linux/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_provider.h>
 
 #ifdef CONFIG_AM_DEINTERLACE
 #include "deinterlace.h"
@@ -38,7 +38,7 @@
 #ifdef CONFIG_VIDEO_LOG
 #define AMLOG
 #endif
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 
 /* vpp filter coefficients */
 #define COEF_BICUBIC         0
diff --git a/drivers/amlogic/amports/vpp2.c b/drivers/amlogic/amports/vpp2.c
index 403e119a2961..af7485cc2ac9 100755
--- a/drivers/amlogic/amports/vpp2.c
+++ b/drivers/amlogic/amports/vpp2.c
@@ -19,12 +19,12 @@
  */
 
 #include <linux/kernel.h>
-#include <linux/vout/vinfo.h>
-#include <linux/amports/vframe.h>
+#include <linux/amlogic/vout/vinfo.h>
+#include <linux/amlogic/amports/vframe.h>
 #include "video.h"
 #include "vpp.h"
 
-#include <linux/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_provider.h>
 #undef CONFIG_AM_DEINTERLACE
 #ifdef CONFIG_AM_DEINTERLACE
 #include "deinterlace.h"
@@ -35,7 +35,7 @@
 #ifdef CONFIG_VIDEO_LOG
 #define AMLOG
 #endif
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 
 /* vpp filter coefficients */
 #define COEF_BICUBIC         0
diff --git a/drivers/amlogic/amports/vreal.c b/drivers/amlogic/amports/vreal.c
index 4369e1bad925..2eb1413977f3 100755
--- a/drivers/amlogic/amports/vreal.c
+++ b/drivers/amlogic/amports/vreal.c
@@ -29,12 +29,12 @@
 #include <mach/am_regs.h>
 #include <plat/io.h>
 #include <linux/dma-mapping.h>
-#include <linux/amports/amstream.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/canvas.h>
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
-#include <linux/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
 #include <linux/module.h>
 
 #include <asm/uaccess.h>
diff --git a/drivers/amlogic/amports/vvc1.c b/drivers/amlogic/amports/vvc1.c
index 3418e7202069..43a380bde726 100755
--- a/drivers/amlogic/amports/vvc1.c
+++ b/drivers/amlogic/amports/vvc1.c
@@ -28,12 +28,12 @@
 #include <linux/platform_device.h>
 #include <mach/am_regs.h>
 #include <plat/io.h>
-#include <linux/amports/amstream.h>
-#include <linux/amports/ptsserv.h>
-#include <linux/amports/canvas.h>
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
-#include <linux/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/amstream.h>
+#include <linux/amlogic/amports/ptsserv.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
 
 
 #include "vdec_reg.h"
diff --git a/drivers/amlogic/display/aml_logo/Makefile b/drivers/amlogic/display/aml_logo/Makefile
index b22c948b8304..d5cbddd1706c 100755
--- a/drivers/amlogic/display/aml_logo/Makefile
+++ b/drivers/amlogic/display/aml_logo/Makefile
@@ -16,10 +16,10 @@ amlogo-objs := ./loader/logo_setup_uboot.o  \
 			./logo_display/output_dev_vid.o \
 			./logo_parse/jpeg_parser.o
 
-EXTRA_CFLAGS += -Iinclude/linux/logo/			  
+EXTRA_CFLAGS += -Iinclude/linux/amlogic/logo/			  
 EXTRA_CFLAGS += -Idrivers/amlogic/display/ge2d
 EXTRA_CFLAGS += -Idrivers/amlogic/amports/
 else
 obj-y=./loader/logo_empty_setup.o
-EXTRA_CFLAGS += -Iinclude/linux/logo/
+EXTRA_CFLAGS += -Iinclude/linux/amlogic/logo/
 endif
diff --git a/drivers/amlogic/display/aml_logo/loader/logo_setup_uboot.c b/drivers/amlogic/display/aml_logo/loader/logo_setup_uboot.c
index f081295a63a5..ce15b6d04208 100755
--- a/drivers/amlogic/display/aml_logo/loader/logo_setup_uboot.c
+++ b/drivers/amlogic/display/aml_logo/loader/logo_setup_uboot.c
@@ -11,7 +11,7 @@
  *******************************************************************/
  #include	"loader.h"
  #include	"amlogo_log.h"
- #include <linux/amlog.h>
+ #include <linux/amlogic/amlog.h>
 
 /******************************************************************
 **																   **
diff --git a/drivers/amlogic/display/aml_logo/logo_display/dev_ge2d.c b/drivers/amlogic/display/aml_logo/logo_display/dev_ge2d.c
index 5e4b034b3f8a..ef68ee2b81ec 100755
--- a/drivers/amlogic/display/aml_logo/logo_display/dev_ge2d.c
+++ b/drivers/amlogic/display/aml_logo/logo_display/dev_ge2d.c
@@ -16,7 +16,7 @@
  #include "logo.h"
  #include "dev_ge2d.h"
  #include	"amlogo_log.h"
- #include <linux/amlog.h>
+ #include <linux/amlogic/amlog.h>
 ge2d_context_t*	dev_ge2d_setup(void* para)
 {
 	config_para_t  *config=(config_para_t*)para;
diff --git a/drivers/amlogic/display/aml_logo/logo_display/logo_output.c b/drivers/amlogic/display/aml_logo/logo_display/logo_output.c
index 834500a9155a..d161595ca61f 100755
--- a/drivers/amlogic/display/aml_logo/logo_display/logo_output.c
+++ b/drivers/amlogic/display/aml_logo/logo_display/logo_output.c
@@ -11,7 +11,7 @@
  *******************************************************************/
 #include  "logo.h"
 #include	"amlogo_log.h"
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 static  LIST_HEAD(output_dev_line);
 static  output_dev_list_t aml_output_dev[LOGO_DEV_MAX];
 
diff --git a/drivers/amlogic/display/aml_logo/logo_display/output_dev_osd.c b/drivers/amlogic/display/aml_logo/logo_display/output_dev_osd.c
index 482c306f79c4..f6b48ececf49 100755
--- a/drivers/amlogic/display/aml_logo/logo_display/output_dev_osd.c
+++ b/drivers/amlogic/display/aml_logo/logo_display/output_dev_osd.c
@@ -5,7 +5,7 @@
 #include "dev_ge2d.h"
 #include <linux/wait.h>
 #include	"amlogo_log.h" 
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 
 #define DisableVideoLayer() \
     do { aml_clr_reg32_mask(P_VPP_MISC, \
diff --git a/drivers/amlogic/display/aml_logo/logo_display/output_dev_vid.c b/drivers/amlogic/display/aml_logo/logo_display/output_dev_vid.c
index b0b5b2e68fc5..cd7ba95b1bf1 100755
--- a/drivers/amlogic/display/aml_logo/logo_display/output_dev_vid.c
+++ b/drivers/amlogic/display/aml_logo/logo_display/output_dev_vid.c
@@ -2,7 +2,7 @@
 #include <linux/wait.h>
 #include "logo_dev_vid.h"
  #include	"amlogo_log.h"
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 static  logo_output_dev_t   output_vid={
 	.idx=LOGO_DEV_VID,
 	.hw_initialized=0,	
diff --git a/drivers/amlogic/display/aml_logo/logo_parse/bmp_parser.c b/drivers/amlogic/display/aml_logo/logo_parse/bmp_parser.c
index c680a5fe469d..2072c155a637 100755
--- a/drivers/amlogic/display/aml_logo/logo_parse/bmp_parser.c
+++ b/drivers/amlogic/display/aml_logo/logo_parse/bmp_parser.c
@@ -13,7 +13,7 @@
 #include "bmp_parser.h"
 #include <asm/cacheflush.h>
  #include	"amlogo_log.h"
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 
 static  logo_parser_t    logo_bmp_parser={
  	.name="bmp",
diff --git a/drivers/amlogic/display/aml_logo/logo_parse/jpeg_parser.c b/drivers/amlogic/display/aml_logo/logo_parse/jpeg_parser.c
index 484c9a2ecc6d..25284e3ee763 100755
--- a/drivers/amlogic/display/aml_logo/logo_parse/jpeg_parser.c
+++ b/drivers/amlogic/display/aml_logo/logo_parse/jpeg_parser.c
@@ -13,12 +13,12 @@
 #include <mach/am_regs.h>
 #include <asm/cacheflush.h>
 #include	"amlogo_log.h"
-#include <linux/amlog.h>
-#include <linux/amports/canvas.h>
+#include <linux/amlogic/amlog.h>
+#include <linux/amlogic/amports/canvas.h>
 #include "amvdec.h"
 #include "vmjpeg_mc.h"
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
 #include "jpeg_parser.h"
 #include <linux/delay.h>
 #include <linux/syscalls.h>
diff --git a/drivers/amlogic/display/aml_logo/logo_parse/logo_parse.c b/drivers/amlogic/display/aml_logo/logo_parse/logo_parse.c
index 37fafc3afe83..b49cca8c3895 100755
--- a/drivers/amlogic/display/aml_logo/logo_parse/logo_parse.c
+++ b/drivers/amlogic/display/aml_logo/logo_parse/logo_parse.c
@@ -11,7 +11,7 @@
  *******************************************************************/
 #include  "logo.h"
  #include	"amlogo_log.h"
-#include  <linux/amlog.h>
+#include  <linux/amlogic/amlog.h>
 //#define SETUP_SELF_RAISE
 
 static  LIST_HEAD(parser_line);
diff --git a/drivers/amlogic/display/backlight/aml_bl.c b/drivers/amlogic/display/backlight/aml_bl.c
index 064b3baf127d..ec0ee1fef228 100755
--- a/drivers/amlogic/display/backlight/aml_bl.c
+++ b/drivers/amlogic/display/backlight/aml_bl.c
@@ -28,7 +28,7 @@
 #include <linux/gpio.h>
 #include <linux/backlight.h>
 #include <linux/slab.h>
-#include <linux/aml_bl.h>
+#include <linux/amlogic/aml_bl.h>
 #include <mach/power_gate.h>
 #ifdef CONFIG_ARCH_MESON6    
 #include <mach/mod_gate.h>
diff --git a/drivers/amlogic/display/ge2d/bitblt.c b/drivers/amlogic/display/ge2d/bitblt.c
index 890fe13c378f..0f5bbb86ed19 100755
--- a/drivers/amlogic/display/ge2d/bitblt.c
+++ b/drivers/amlogic/display/ge2d/bitblt.c
@@ -1,4 +1,4 @@
-#include <linux/ge2d/ge2d.h>
+#include <linux/amlogic/ge2d/ge2d.h>
 
 
 static void inline _bitblt(ge2d_context_t *wq,
diff --git a/drivers/amlogic/display/ge2d/blend.c b/drivers/amlogic/display/ge2d/blend.c
index c64adb2e4193..6019cc2eab3c 100755
--- a/drivers/amlogic/display/ge2d/blend.c
+++ b/drivers/amlogic/display/ge2d/blend.c
@@ -1,4 +1,4 @@
-#include <linux/ge2d/ge2d.h>
+#include <linux/amlogic/ge2d/ge2d.h>
 
 
 void blend(ge2d_context_t *wq,
diff --git a/drivers/amlogic/display/ge2d/fillrect.c b/drivers/amlogic/display/ge2d/fillrect.c
index 52c0418883fa..bf6e115de262 100755
--- a/drivers/amlogic/display/ge2d/fillrect.c
+++ b/drivers/amlogic/display/ge2d/fillrect.c
@@ -1,4 +1,4 @@
-#include <linux/ge2d/ge2d.h>
+#include <linux/amlogic/ge2d/ge2d.h>
 
 
 
diff --git a/drivers/amlogic/display/ge2d/ge2d_hw.c b/drivers/amlogic/display/ge2d/ge2d_hw.c
index 44c15cc82d4a..5d83ebf0264d 100755
--- a/drivers/amlogic/display/ge2d/ge2d_hw.c
+++ b/drivers/amlogic/display/ge2d/ge2d_hw.c
@@ -1,4 +1,4 @@
-#include <linux/ge2d/ge2d.h>
+#include <linux/amlogic/ge2d/ge2d.h>
 
 static const  unsigned int filt_coef0[] =   //bicubic
 			{
diff --git a/drivers/amlogic/display/ge2d/ge2d_main.c b/drivers/amlogic/display/ge2d/ge2d_main.c
index e6d73b607443..034767aeb88b 100755
--- a/drivers/amlogic/display/ge2d/ge2d_main.c
+++ b/drivers/amlogic/display/ge2d/ge2d_main.c
@@ -8,10 +8,10 @@
  *  Created: 2010/4/1   19:46
  *
  *******************************************************************/
-#include <linux/ge2d/ge2d_main.h>
+#include <linux/amlogic/ge2d/ge2d_main.h>
 #include "ge2d_log.h"
 #include "ge2d_dev.h"
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 #include <mach/mod_gate.h>
 
 MODULE_AMLOG(AMLOG_DEFAULT_LEVEL, 0x00, LOG_LEVEL_DESC, LOG_MASK_DESC);
diff --git a/drivers/amlogic/display/ge2d/ge2d_wq.c b/drivers/amlogic/display/ge2d/ge2d_wq.c
index 543cc673b8d1..b6be504c0ce7 100755
--- a/drivers/amlogic/display/ge2d/ge2d_wq.c
+++ b/drivers/amlogic/display/ge2d/ge2d_wq.c
@@ -10,10 +10,10 @@
  *******************************************************************/
 
 
-#include <linux/ge2d/ge2d.h>
+#include <linux/amlogic/ge2d/ge2d.h>
 #include <linux/interrupt.h>
 #include <mach/am_regs.h>
-#include <linux/amports/canvas.h>
+#include <linux/amlogic/amports/canvas.h>
 #include <linux/fb.h>
 #include <linux/list.h>
 #include  <linux/spinlock.h>
@@ -21,7 +21,7 @@
 #include <mach/power_gate.h>
 #include <mach/irqs.h>
 #include "ge2d_log.h"
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 static  ge2d_manager_t  ge2d_manager;
 
 
diff --git a/drivers/amlogic/display/ge2d/ge2dgen.c b/drivers/amlogic/display/ge2d/ge2dgen.c
index ba8427b6478e..a76c1b834011 100755
--- a/drivers/amlogic/display/ge2d/ge2dgen.c
+++ b/drivers/amlogic/display/ge2d/ge2dgen.c
@@ -1,4 +1,4 @@
-#include <linux/ge2d/ge2d.h>
+#include <linux/amlogic/ge2d/ge2d.h>
 
 static inline void _set_src1_format(ge2d_src1_data_t *src1_data_cfg,
                                      ge2d_src1_gen_t *src1_gen_cfg,
diff --git a/drivers/amlogic/display/ge2d/stretchblt.c b/drivers/amlogic/display/ge2d/stretchblt.c
index 3713603a03b9..431d6f1f1ee9 100755
--- a/drivers/amlogic/display/ge2d/stretchblt.c
+++ b/drivers/amlogic/display/ge2d/stretchblt.c
@@ -1,4 +1,4 @@
-#include <linux/ge2d/ge2d.h>
+#include <linux/amlogic/ge2d/ge2d.h>
 
 static inline void _stretchblt(ge2d_context_t *wq,
                 int src_x, int src_y, int src_w, int src_h,
diff --git a/drivers/amlogic/display/osd_ext/osd_clone.c b/drivers/amlogic/display/osd_ext/osd_clone.c
index d921f3b0db36..16606f2b3c63 100755
--- a/drivers/amlogic/display/osd_ext/osd_clone.c
+++ b/drivers/amlogic/display/osd_ext/osd_clone.c
@@ -26,16 +26,16 @@
 #include <linux/errno.h>
 #include <linux/interrupt.h>
 #include <linux/timer.h>
-#include <linux/amports/canvas.h>
-#include <linux/ge2d/ge2d_main.h>
-#include <linux/ge2d/ge2d.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/ge2d/ge2d_main.h>
+#include <linux/amlogic/ge2d/ge2d.h>
 #include <linux/kthread.h>
 #include <linux/delay.h>
 #include <linux/semaphore.h>
 #include <linux/sched.h>
-#include <linux/amlog.h>
-#include <linux/vout/vout_notify.h>
-#include <linux/vout/vinfo.h>
+#include <linux/amlogic/amlog.h>
+#include <linux/amlogic/vout/vout_notify.h>
+#include <linux/amlogic/vout/vinfo.h>
 
 #include <mach/am_regs.h>
 #include <mach/mod_gate.h>
diff --git a/drivers/amlogic/display/osd_ext/osd_dev.c b/drivers/amlogic/display/osd_ext/osd_dev.c
index 7ebdc892c737..7401e7071285 100755
--- a/drivers/amlogic/display/osd_ext/osd_dev.c
+++ b/drivers/amlogic/display/osd_ext/osd_dev.c
@@ -28,7 +28,7 @@
 #include <linux/platform_device.h>
 #include <linux/fb.h>
 #include <mach/am_regs.h>
-#include <linux/osd/osd.h>
+#include <linux/amlogic/osd/osd.h>
 
 #include "osd_hw.h"
 #include "osd_dev.h"
diff --git a/drivers/amlogic/display/osd_ext/osd_dev.h b/drivers/amlogic/display/osd_ext/osd_dev.h
index 23b54ab785e2..14dc6a88fd11 100755
--- a/drivers/amlogic/display/osd_ext/osd_dev.h
+++ b/drivers/amlogic/display/osd_ext/osd_dev.h
@@ -25,9 +25,9 @@
 #ifndef OSD_DEV_H
 #define OSD_DEV_H
 
-#include <linux/osd/osd.h>
-#include <linux/vout/vinfo.h>
-#include <linux/logo/logo.h>
+#include <linux/amlogic/osd/osd.h>
+#include <linux/amlogic/vout/vinfo.h>
+#include <linux/amlogic/logo/logo.h>
 
 #define OSD_COUNT 	2 /* we have two osd layer on hardware*/
 
diff --git a/drivers/amlogic/display/osd_ext/osd_hw.c b/drivers/amlogic/display/osd_ext/osd_hw.c
index 3e98ee9d64fa..10af2990612c 100755
--- a/drivers/amlogic/display/osd_ext/osd_hw.c
+++ b/drivers/amlogic/display/osd_ext/osd_hw.c
@@ -31,10 +31,10 @@
 #include <linux/irq.h>
 #include <linux/slab.h>
 #include <linux/interrupt.h>
-#include <linux/amports/canvas.h>
-#include <linux/amlog.h>
-#include <linux/amports/vframe_receiver.h>
-#include <linux/osd/osd.h>
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/amlog.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
+#include <linux/amlogic/osd/osd.h>
 
 #ifdef CONFIG_AML_VSYNC_FIQ_ENABLE
 #define FIQ_VSYNC
diff --git a/drivers/amlogic/display/osd_ext/osd_hw_def.h b/drivers/amlogic/display/osd_ext/osd_hw_def.h
index f05f1ffd222c..d7d70c0a8d82 100755
--- a/drivers/amlogic/display/osd_ext/osd_hw_def.h
+++ b/drivers/amlogic/display/osd_ext/osd_hw_def.h
@@ -1,6 +1,6 @@
 #ifndef _OSD_HW_DEF_H
 #define	_OSD_HW_DEF_H
-#include <linux/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_provider.h>
 #include <plat/fiq_bridge.h>
 #include "osd_hw.h"
 
diff --git a/drivers/amlogic/display/osd_ext/osd_main.c b/drivers/amlogic/display/osd_ext/osd_main.c
index e5a82441c450..1bdffc05c038 100755
--- a/drivers/amlogic/display/osd_ext/osd_main.c
+++ b/drivers/amlogic/display/osd_ext/osd_main.c
@@ -46,7 +46,7 @@
 #include "osd_log.h"
 #include "osd_main.h"
 #include "osd_dev.h"
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 #ifdef CONFIG_HAS_EARLYSUSPEND
 #include <linux/earlysuspend.h>
 static struct early_suspend early_suspend;
diff --git a/drivers/amlogic/display/osd_ext/osd_main.h b/drivers/amlogic/display/osd_ext/osd_main.h
index a3a46e3effbc..bfea23cb813e 100755
--- a/drivers/amlogic/display/osd_ext/osd_main.h
+++ b/drivers/amlogic/display/osd_ext/osd_main.h
@@ -25,7 +25,7 @@
 #ifndef OSD_MAIN_H
 #define OSD_MAIN_H
 #include <linux/list.h>
-#include <linux/vout/vout_notify.h>
+#include <linux/amlogic/vout/vout_notify.h>
 #include <linux/fb.h>
 
 static __u32 var_screeninfo[5];
diff --git a/drivers/amlogic/display/vout2/nulldisp.c b/drivers/amlogic/display/vout2/nulldisp.c
index 9386c666362c..0c4ff887eac1 100755
--- a/drivers/amlogic/display/vout2/nulldisp.c
+++ b/drivers/amlogic/display/vout2/nulldisp.c
@@ -29,8 +29,8 @@
 
 #include <mach/am_regs.h>
 
-#include <linux/vout/vinfo.h>
-#include <linux/vout/vout_notify.h>
+#include <linux/amlogic/vout/vinfo.h>
+#include <linux/amlogic/vout/vout_notify.h>
 
 
 #define DisableVideoLayer() \
diff --git a/drivers/amlogic/display/vout2/tvconf.h b/drivers/amlogic/display/vout2/tvconf.h
index 61d193423798..d56c331b4685 100755
--- a/drivers/amlogic/display/vout2/tvconf.h
+++ b/drivers/amlogic/display/vout2/tvconf.h
@@ -2,7 +2,7 @@
 #define   _TV_CONF_H
 
 #include "tvoutc.h"
-#include  <linux/vout/vout_notify.h>
+#include  <linux/amlogic/vout/vout_notify.h>
 
 
 /*****************************************************************
diff --git a/drivers/amlogic/display/vout2/tvconf2.c b/drivers/amlogic/display/vout2/tvconf2.c
index 8cffcbb2ed29..0d921b8c2fbd 100755
--- a/drivers/amlogic/display/vout2/tvconf2.c
+++ b/drivers/amlogic/display/vout2/tvconf2.c
@@ -37,14 +37,14 @@
 #include <linux/slab.h>
 #include <linux/interrupt.h>
 #include <linux/ctype.h>
-#include <linux/vout/vinfo.h>
+#include <linux/amlogic/vout/vinfo.h>
 #include <mach/am_regs.h>
 #include <asm/uaccess.h>
-#include <linux/major.h>
+#include <linux/amlogic/major.h>
 #include "tvconf.h"
 #include "tvmode.h"
 #include "vout_log.h"
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 #include <mach/power_gate.h>
 
 
diff --git a/drivers/amlogic/display/vout2/tvoutc2.c b/drivers/amlogic/display/vout2/tvoutc2.c
index caff3e18490f..850176b39daf 100755
--- a/drivers/amlogic/display/vout2/tvoutc2.c
+++ b/drivers/amlogic/display/vout2/tvoutc2.c
@@ -28,7 +28,7 @@
 
 #include <mach/am_regs.h>
 
-#include <linux/vout/vinfo.h>
+#include <linux/amlogic/vout/vinfo.h>
 #include "tvoutc.h"
 #include <linux/clk.h>
 
diff --git a/drivers/amlogic/display/vout2/vout2_notify.c b/drivers/amlogic/display/vout2/vout2_notify.c
index 616fdc01329a..2870740bf460 100755
--- a/drivers/amlogic/display/vout2/vout2_notify.c
+++ b/drivers/amlogic/display/vout2/vout2_notify.c
@@ -10,7 +10,7 @@
  *		 jianfeng_wang@amlogic
  */
 #include <linux/module.h>
-#include <linux/vout/vout_notify.h>
+#include <linux/amlogic/vout/vout_notify.h>
 
 
 static BLOCKING_NOTIFIER_HEAD(vout_notifier_list);
diff --git a/drivers/amlogic/display/vout2/vout2_serve.c b/drivers/amlogic/display/vout2/vout2_serve.c
index 87268750a716..45c7073d56e2 100755
--- a/drivers/amlogic/display/vout2/vout2_serve.c
+++ b/drivers/amlogic/display/vout2/vout2_serve.c
@@ -36,14 +36,14 @@
 #include <linux/slab.h>
 #include <linux/interrupt.h>
 #include <linux/ctype.h>
-#include <linux/vout/vinfo.h>
+#include <linux/amlogic/vout/vinfo.h>
 #include <mach/am_regs.h>
 #include <asm/uaccess.h>
-#include <linux/major.h>
+#include <linux/amlogic/major.h>
 #include "vout_serve.h"
 #include "tvmode.h"
 #include "vout_log.h"
-#include <linux/amlog.h>
+#include <linux/amlogic/amlog.h>
 #include <plat/io.h>
 #ifdef CONFIG_HAS_EARLYSUSPEND
 #include <linux/earlysuspend.h>
diff --git a/drivers/amlogic/display/vout2/vout_serve.h b/drivers/amlogic/display/vout2/vout_serve.h
index ff43c7149522..836991ce1219 100755
--- a/drivers/amlogic/display/vout2/vout_serve.h
+++ b/drivers/amlogic/display/vout2/vout_serve.h
@@ -4,7 +4,7 @@
 #ifdef CONFIG_AM_TV_OUTPUT
 #include  "tvoutc.h"	
 #endif
-#include  <linux/vout/vout_notify.h>
+#include  <linux/amlogic/vout/vout_notify.h>
 
 /*****************************************************************
 **
diff --git a/drivers/amlogic/vfm/vfm.c b/drivers/amlogic/vfm/vfm.c
index 9d075dc902ff..fba5f95acd4b 100755
--- a/drivers/amlogic/vfm/vfm.c
+++ b/drivers/amlogic/vfm/vfm.c
@@ -22,9 +22,9 @@
 #include <linux/list.h>
 
 /* Amlogic headers */
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
-#include <linux/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
 
 /* Local headers */
 #include "vfm.h"
diff --git a/drivers/amlogic/vfm/vframe_provider.c b/drivers/amlogic/vfm/vframe_provider.c
old mode 100644
new mode 100755
index 409e72cd6f94..ae75cdfa0d1e
--- a/drivers/amlogic/vfm/vframe_provider.c
+++ b/drivers/amlogic/vfm/vframe_provider.c
@@ -17,9 +17,9 @@
 #include <linux/list.h>
 
 /* Amlogic headers */
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_provider.h>
-#include <linux/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_provider.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
 
 /* Local headers */
 #include "vfm.h"
diff --git a/drivers/amlogic/vfm/vframe_receiver.c b/drivers/amlogic/vfm/vframe_receiver.c
old mode 100644
new mode 100755
index 1e07746d29bc..95124346486a
--- a/drivers/amlogic/vfm/vframe_receiver.c
+++ b/drivers/amlogic/vfm/vframe_receiver.c
@@ -18,8 +18,8 @@
 #include <linux/list.h>
 
 /* Amlogic headers */
-#include <linux/amports/vframe.h>
-#include <linux/amports/vframe_receiver.h>
+#include <linux/amlogic/amports/vframe.h>
+#include <linux/amlogic/amports/vframe_receiver.h>
 
 /* Local headers */
 #include "vfm.h"
diff --git a/include/linux/amlogic/aml_common.h b/include/linux/amlogic/aml_common.h
new file mode 100755
index 000000000000..a6dc85b1350c
--- /dev/null
+++ b/include/linux/amlogic/aml_common.h
@@ -0,0 +1,71 @@
+/*
+ * common header file for all modules.
+ *
+ * Author: Lin Xu <lin.xu@amlogic.com>
+ *         Bobby Yang <bo.yang@amlogic.com>
+ *
+ * Copyright (C) 2010 Amlogic Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+#ifndef __AML_COMMON_H
+#define __AML_COMMON_H
+
+#include "linux/amlogic/amports/vframe.h"
+
+/* used in get_foreign_affairs()
+ *         set_foreign_affairs()
+ *         rst_foreign_affairs()
+ */
+typedef enum foreign_affairs_e {
+        FOREIGN_AFFAIRS_00 = 0x00000001, // VDIN  -> VIDEO @ DDR_IF
+        FOREIGN_AFFAIRS_01 = 0x00000002, // DI    -> VIDEO @ DDR_IF
+        FOREIGN_AFFAIRS_02 = 0x00000004, // VIDEO -> VDIN  @ DDR_IF
+        FOREIGN_AFFAIRS_03 = 0x00000008,
+        FOREIGN_AFFAIRS_04 = 0x00000010,
+        FOREIGN_AFFAIRS_05 = 0x00000020,
+        FOREIGN_AFFAIRS_06 = 0x00000040,
+        FOREIGN_AFFAIRS_07 = 0x00000080,
+        FOREIGN_AFFAIRS_08 = 0x00000100,
+        FOREIGN_AFFAIRS_09 = 0x00000200,
+        FOREIGN_AFFAIRS_10 = 0x00000400,
+        FOREIGN_AFFAIRS_11 = 0x00000800,
+        FOREIGN_AFFAIRS_12 = 0x00001000,
+        FOREIGN_AFFAIRS_13 = 0x00002000,
+        FOREIGN_AFFAIRS_14 = 0x00004000,
+        FOREIGN_AFFAIRS_15 = 0x00008000,
+        FOREIGN_AFFAIRS_16 = 0x00010000,
+        FOREIGN_AFFAIRS_17 = 0x00020000,
+        FOREIGN_AFFAIRS_18 = 0x00040000,
+        FOREIGN_AFFAIRS_19 = 0x00080000,
+        FOREIGN_AFFAIRS_20 = 0x00100000,
+        FOREIGN_AFFAIRS_21 = 0x00200000,
+        FOREIGN_AFFAIRS_22 = 0x00400000,
+        FOREIGN_AFFAIRS_23 = 0x00800000,
+        FOREIGN_AFFAIRS_24 = 0x01000000,
+        FOREIGN_AFFAIRS_25 = 0x02000000,
+        FOREIGN_AFFAIRS_26 = 0x04000000,
+        FOREIGN_AFFAIRS_27 = 0x08000000,
+        FOREIGN_AFFAIRS_28 = 0x10000000,
+        FOREIGN_AFFAIRS_29 = 0x20000000,
+        FOREIGN_AFFAIRS_30 = 0x40000000,
+        FOREIGN_AFFAIRS_31 = 0x80000000,
+} foreign_affairs_t;
+
+/* workround for DDR_IF
+ * defined in video.c, used in vdin.c & deinterlace.c
+ */
+extern bool get_foreign_affairs(enum foreign_affairs_e foreign_affairs);
+extern void set_foreign_affairs(enum foreign_affairs_e foreign_affairs);
+extern void rst_foreign_affairs(enum foreign_affairs_e foreign_affairs);
+
+#if defined(CONFIG_AM_VECM)
+extern void amvecm_video_latch(void);
+extern void ve_on_vs(vframe_t *vf);
+#endif
+
+#endif /* __AML_COMMON_H */
+
diff --git a/include/linux/amlogic/amports/aformat.h b/include/linux/amlogic/amports/aformat.h
new file mode 100755
index 000000000000..038e30072d54
--- /dev/null
+++ b/include/linux/amlogic/amports/aformat.h
@@ -0,0 +1,54 @@
+/*
+ * AMLOGIC Audio/Video streaming port driver.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the named License,
+ * or any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA
+ *
+ * Author:  Tim Yao <timyao@amlogic.com>
+ *
+ */
+
+#ifndef AFORMAT_H
+#define AFORMAT_H
+
+typedef enum {
+    AFORMAT_MPEG   = 0,
+    AFORMAT_PCM_S16LE = 1,
+    AFORMAT_AAC   = 2,
+    AFORMAT_AC3   =3,
+    AFORMAT_ALAW = 4,
+    AFORMAT_MULAW = 5,
+    AFORMAT_DTS = 6,
+    AFORMAT_PCM_S16BE = 7,
+    AFORMAT_FLAC = 8,
+    AFORMAT_COOK = 9,
+    AFORMAT_PCM_U8 = 10,
+    AFORMAT_ADPCM = 11,
+    AFORMAT_AMR  = 12,
+    AFORMAT_RAAC  = 13,
+    AFORMAT_WMA  = 14,
+    AFORMAT_WMAPRO    = 15,
+    AFORMAT_PCM_BLURAY	= 16,
+    AFORMAT_ALAC  = 17,
+    AFORMAT_VORBIS    = 18,
+    AFORMAT_AAC_LATM   = 19,
+    AFORMAT_APE   = 20,
+    AFORMAT_EAC3   = 21,
+    AFORMAT_PCM_WIFIDISPLAY = 22,
+    AFORMAT_UNSUPPORT = 23,
+    AFORMAT_MAX    = 24
+} aformat_t;
+
+#endif /* AFORMAT_H */
+
diff --git a/include/linux/amlogic/amports/cm.h b/include/linux/amlogic/amports/cm.h
new file mode 100755
index 000000000000..3405656cd5d2
--- /dev/null
+++ b/include/linux/amlogic/amports/cm.h
@@ -0,0 +1,169 @@
+/*
+ * Color Management
+ *
+ * Author: Lin Xu <lin.xu@amlogic.com>
+ *         Bobby Yang <bo.yang@amlogic.com>
+ *
+ * Copyright (C) 2010 Amlogic Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+
+#ifndef _TVOUT_CM_H
+#define _TVOUT_CM_H
+
+// ***************************************************************************
+// *** enum definitions *********************************************
+// ***************************************************************************
+
+typedef enum cm_region_idx_e {
+    CM_REGION_IDX_0 = 0,
+    CM_REGION_IDX_1,
+    CM_REGION_IDX_2,
+    CM_REGION_IDX_3,
+    CM_REGION_IDX_4,
+    CM_REGION_IDX_5,
+    CM_REGION_IDX_6,
+    CM_REGION_IDX_7,
+} cm_region_idx_t;
+
+typedef enum cm_sat_shape_e {
+    CM_SAT_SHAPE_RIGHT_BIGGEST = 0,
+    CM_SAT_SHAPE_LEFT_BIGGEST,
+} cm_sat_shape_t;
+
+typedef enum cm_hue_shape_e {
+    CM_HUE_SHAPE_LEFT_MORE = 0,
+    CM_HUE_SHAPE_RIGHT_MORE,
+} cm_hue_shape_t;
+
+typedef enum cm_demo_pos_e {
+    CM_DEMO_POS_TOP = 0,
+    CM_DEMO_POS_BOTTOM,
+    CM_DEMO_POS_LEFT,
+    CM_DEMO_POS_RIGHT,
+} cm_demo_pos_t;
+
+typedef enum cm_sat_sel_e {
+    CM_SAT_SEL_U2_V2 = 0,
+    CM_SAT_SEL_UV_MAX,
+} cm_sat_sel_t;
+
+typedef enum cm_csc_e {
+    CM_CSC_601 = 0,
+    CM_CSC_709,
+    CM_CSC_FULL_601,
+    CM_CSC_FULL_709,
+} cm_csc_t;
+
+// ***************************************************************************
+// *** struct definitions *********************************************
+// ***************************************************************************
+
+typedef struct cm_region_s {
+    enum cm_region_idx_e region_idx;
+    // sym
+    unsigned char       sym_en;
+    // sat - top
+    unsigned char       sat_en;
+    unsigned char       sat_central_en;
+    enum cm_sat_shape_e sat_shape;
+    unsigned char       sat_gain;
+    unsigned char       sat_inc;
+    // sat - lum
+    unsigned char       sat_lum_h_slope;
+    unsigned char       sat_lum_l_slope;
+    unsigned char       sat_lum_h;
+    unsigned char       sat_lum_l;
+    // sat - sat
+    unsigned char       sat_sat_h_slope;
+    unsigned char       sat_sat_l_slope;
+    unsigned char       sat_sat_h;
+    unsigned char       sat_sat_l;
+    // hue - top
+    unsigned char       hue_en;
+    unsigned char       hue_central_en;
+    enum cm_hue_shape_e hue_shape;
+    unsigned char       hue_gain;
+    unsigned char       hue_clockwise;
+    unsigned char       hue_shf_ran;
+    ushort              hue_shf_sta;
+    // hue - lum
+    unsigned char       hue_lum_h_slope;
+    unsigned char       hue_lum_l_slope;
+    unsigned char       hue_lum_h;
+    unsigned char       hue_lum_l;
+    // hue - sat
+    unsigned char       hue_sat_h_slope;
+    unsigned char       hue_sat_l_slope;
+    unsigned char       hue_sat_h;
+    unsigned char       hue_sat_l;
+} cm_region_t;
+
+typedef struct cm_top_s {
+    unsigned char       chroma_en;
+    enum cm_sat_sel_e   sat_sel;
+    unsigned char       uv_adj_en;
+    unsigned char       rgb_to_hue_en;
+    enum cm_csc_e       csc_sel;
+} cm_top_t;
+
+typedef struct cm_cbar_s {
+    unsigned char en;
+    unsigned char wid;
+    unsigned char cr;
+    unsigned char cb;
+    unsigned char y;
+} cm_cbar_t;
+typedef struct cm_demo_s {
+    unsigned char       en;
+    enum cm_demo_pos_e  pos;
+    unsigned char       hlight_adj;
+    ushort              wid;
+    struct cm_cbar_s   cbar;
+} cm_demo_t;
+
+typedef struct cm_regmap_s {
+    ulong reg[50];
+} cm_regmap_t;
+
+#if defined(CONFIG_AM_VECM)
+typedef enum reg_bus_type_e {
+    REG_TYPE_PHY = 0,
+    REG_TYPE_CBUS,
+    REG_TYPE_APB,
+    REG_TYPE_AXI,
+    REG_TYPE_AHB,
+    REG_TYPE_MPEG,
+    REG_TYPE_INDEX_VPPCHROMA,
+    REG_TYPE_INDEX_GAMMA,
+    VALUE_TYPE_CONTRAST_BRIGHTNESS,
+    REG_TYPE_INDEX_VPP_COEF,
+    REG_TYPE_MAX,
+} reg_bus_type_t;
+
+/* Register table structure */
+typedef struct am_reg_s {
+    unsigned int type; //32-bits; 0: CBUS; 1: APB BUS...
+    unsigned int addr; //32-bits; Register address
+    unsigned int mask; //32-bits; Valid bits
+    unsigned int  val; //32-bits; Register Value
+} am_reg_t;
+
+#ifdef AMVIDEO_REG_TABLE_DYNAMIC
+typedef struct am_regs_s {
+    unsigned int    length; // Length of total am_reg
+    struct am_reg_s *am_reg;
+} am_regs_t;
+#else
+typedef struct am_regs_s {
+    unsigned int    length; // Length of total am_reg
+    struct am_reg_s am_reg[512];
+} am_regs_t;
+#endif
+#endif
+
+#endif  // _TVOUT_CM_H
diff --git a/include/linux/amlogic/amports/jpegdec.h b/include/linux/amlogic/amports/jpegdec.h
new file mode 100755
index 000000000000..7387d9f39f12
--- /dev/null
+++ b/include/linux/amlogic/amports/jpegdec.h
@@ -0,0 +1,93 @@
+/*
+ * AMLOGIC HW Jpeg decoder driver.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the named License,
+ * or any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA
+ *
+ * Author:  Tim Yao <timyao@amlogic.com>
+ *
+ */
+
+#ifndef JPEGDEC_H
+#define JPEGDEC_H
+
+#define JPEGDEC_IOC_MAGIC  'J'
+
+#define JPEGDEC_IOC_INFOCONFIG	_IOW(JPEGDEC_IOC_MAGIC, 0x00, unsigned int)
+#define JPEGDEC_IOC_DECCONFIG	_IOW(JPEGDEC_IOC_MAGIC, 0x01, unsigned int)
+#define JPEGDEC_IOC_INFO		_IOW(JPEGDEC_IOC_MAGIC, 0x02, unsigned int)
+#define JPEGDEC_IOC_STAT		_IOW(JPEGDEC_IOC_MAGIC, 0x03, unsigned int)
+#define JPEGDEC_G_MEM_INFO		_IOW(JPEGDEC_IOC_MAGIC, 0x04, unsigned int)
+
+#define JPEGDEC_OPT_THUMBNAIL_ONLY		0x01
+#define JPEGDEC_OPT_THUMBNAIL_PREFERED	0x02
+#define JPEGDEC_OPT_FULLRANGE			0x04
+#define JPEGDEC_OPT_SRC_CROP			0x08
+
+#define JPEGINFO_TYPE_PROGRESSIVE		0x01
+#define JPEGINFO_TYPE_MULTISCAN			0x02
+#define JPEGINFO_TYPE_GRAYSCALE			0x04
+
+#define JPEGDEC_STAT_WAIT_DATA			0x01
+#define JPEGDEC_STAT_WAIT_INFOCONFIG	0x02
+#define JPEGDEC_STAT_WAIT_DECCONFIG		0x04
+#define JPEGDEC_STAT_ERROR				0x08
+#define JPEGDEC_STAT_UNSUPPORT			0x10
+#define JPEGDEC_STAT_INFO_READY			0x20
+#define JPEGDEC_STAT_DONE				0x40
+
+typedef enum {
+	CLKWISE_0    = 0,
+	CLKWISE_90   = 1,
+	CLKWISE_180  = 2,
+	CLKWISE_270  = 3,
+} jpegdec_angle_t;
+
+typedef struct {
+	unsigned long	addr_y;
+	unsigned long	addr_u;
+	unsigned long	addr_v;
+	unsigned 		canvas_width;
+
+	unsigned		opt;
+
+	unsigned		src_crop_x;
+	unsigned		src_crop_y;
+	unsigned		src_crop_w;
+	unsigned		src_crop_h;
+	
+	unsigned		dec_x;
+	unsigned		dec_y;
+	unsigned		dec_w;
+	unsigned		dec_h;	
+	jpegdec_angle_t	angle;
+} jpegdec_config_t;
+
+typedef struct {
+	unsigned width;
+	unsigned height;
+	unsigned comp_num;
+	unsigned type;
+} jpegdec_info_t;
+
+typedef struct {
+	jpegdec_angle_t	angle;
+	unsigned	dec_w;
+	unsigned	dec_h;
+	unsigned canv_addr;
+	unsigned canv_len;
+}  jpegdec_mem_info_t;
+
+#endif /* JPEGDEC_H */
+
diff --git a/include/linux/amlogic/amports/vformat.h b/include/linux/amlogic/amports/vformat.h
new file mode 100755
index 000000000000..8db99536bdfb
--- /dev/null
+++ b/include/linux/amlogic/amports/vformat.h
@@ -0,0 +1,40 @@
+/*
+ * AMLOGIC Audio/Video streaming port driver.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the named License,
+ * or any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA
+ *
+ * Author:  Tim Yao <timyao@amlogic.com>
+ *
+ */
+
+#ifndef VFORMAT_H
+#define VFORMAT_H
+
+typedef enum {
+    VFORMAT_MPEG12 = 0,
+    VFORMAT_MPEG4,
+    VFORMAT_H264,
+    VFORMAT_MJPEG,
+    VFORMAT_REAL,
+    VFORMAT_JPEG,
+    VFORMAT_VC1,
+    VFORMAT_AVS,
+    VFORMAT_YUV,    // Use SW decoder
+    VFORMAT_H264MVC,
+    VFORMAT_H264_4K2K,
+    VFORMAT_MAX
+} vformat_t;
+
+#endif /* VFORMAT_H */
diff --git a/include/linux/amlogic/amports/vfp.h b/include/linux/amlogic/amports/vfp.h
new file mode 100755
index 000000000000..269b0fc84b18
--- /dev/null
+++ b/include/linux/amlogic/amports/vfp.h
@@ -0,0 +1,104 @@
+/*
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the named License,
+ * or any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA
+ *
+ * Author:  Tim Yao <timyao@amlogic.com>
+ *
+ */
+
+#ifndef __VFP_H_
+#define __VFP_H_
+
+typedef struct {
+    int rp;
+    int wp;
+    int size;
+    int pre_rp;
+    int pre_wp;
+    struct vframe_s **pool;
+} vfq_t;
+
+static inline void vfq_lookup_start(vfq_t *q)
+{
+	 q->pre_rp =  q->rp ;
+	 q->pre_wp = q->wp;
+}
+static inline void vfq_lookup_end(vfq_t *q)
+{
+	  q->rp = q->pre_rp ;
+	  q->wp = q->pre_wp ;	
+}
+
+static inline void vfq_init(vfq_t *q, u32 size, struct vframe_s **pool)
+{
+    q->rp = q->wp = 0;
+    q->size = size;
+    q->pool = pool;
+}
+
+static inline bool vfq_empty(vfq_t *q)
+{
+    return (q->rp == q->wp);
+}
+
+static inline void vfq_push(vfq_t *q, vframe_t *vf)
+{
+    int wp = q->wp;
+
+    smp_mb();
+
+    q->pool[wp] = vf;
+
+    smp_wmb();
+
+    q->wp = (wp == (q->size-1)) ? 0 : (wp+1);
+}
+
+static inline vframe_t *vfq_pop(vfq_t *q)
+{
+    vframe_t *vf;
+    int rp;
+
+    if (vfq_empty(q))
+        return NULL;
+
+    rp = q->rp;
+
+    smp_rmb();
+
+    vf = q->pool[rp];
+
+    smp_mb();
+
+    q->rp = (rp == (q->size-1)) ? 0 : (rp+1);
+
+    return vf;
+}
+
+static inline vframe_t *vfq_peek(vfq_t *q)
+{
+    return (vfq_empty(q)) ? NULL : q->pool[q->rp];
+}
+
+static inline int vfq_level(vfq_t *q)
+{
+    int level = q->wp - q->rp;
+    
+    if (level < 0)
+        level += q->size;
+
+    return level;
+}
+
+#endif /* __VFP_H_ */
diff --git a/include/linux/amlogic/ge2d/ge2d_main.h b/include/linux/amlogic/ge2d/ge2d_main.h
index b80d86b3f838..e76410fc90f9 100755
--- a/include/linux/amlogic/ge2d/ge2d_main.h
+++ b/include/linux/amlogic/ge2d/ge2d_main.h
@@ -4,7 +4,7 @@
 #include <linux/interrupt.h>
 #include <linux/compat.h>
 #include <mach/am_regs.h>
-#include <linux/amports/canvas.h>
+#include <linux/amlogic/amports/canvas.h>
 #include <linux/fb.h>
 #include <linux/list.h>
 #include <asm/uaccess.h>
diff --git a/include/linux/amlogic/logo/amlogo_log.h b/include/linux/amlogic/logo/amlogo_log.h
new file mode 100755
index 000000000000..532c752c0ca8
--- /dev/null
+++ b/include/linux/amlogic/logo/amlogo_log.h
@@ -0,0 +1,27 @@
+#ifndef  AMLOGO_LOG_H
+#define AMLOGO_LOG_H
+
+#define DEBUG
+#ifdef  DEBUG
+#define  AMLOG   1
+#define LOG_LEVEL_VAR amlog_level_logo
+#define LOG_MASK_VAR amlog_mask_logo
+#endif
+
+#define  	LOG_LEVEL_MAX 	0xf
+#define	LOG_MASK_ALL	0x0
+
+#define  	LOG_LEVEL_HIGH    		0x00f
+#define	LOG_LEVEL_1				0x001
+#define 	LOG_LEVEL_LOW			0x000
+
+#define LOG_LEVEL_DESC \
+"[0x00]LOW[0X01]LEVEL1[0xf]HIGH"	
+#define	LOG_MASK_LOADER		0x001
+#define	LOG_MASK_PARSER		0x002
+#define	LOG_MASK_DEVICE			0x004
+#define	LOG_MASK_DESC \
+"[01]LOADER[02]PARSER[04]DEVICE"	
+
+#endif
+
diff --git a/include/linux/amlogic/logo/bmp_parser.h b/include/linux/amlogic/logo/bmp_parser.h
new file mode 100755
index 000000000000..c9ff6262f25e
--- /dev/null
+++ b/include/linux/amlogic/logo/bmp_parser.h
@@ -0,0 +1,50 @@
+#ifndef  BMP_PARSER_H_
+#define BMP_PARSER_H_
+
+//parser
+#define  U32   		unsigned int 
+#define  U16   		unsigned short 
+#define  U8			unsigned char
+#define  INT32		int
+#define	INT16		short
+#define  UINT8 		U8
+#define  UINT16		U16
+#define  UINT32		U32
+#pragma pack(1)
+typedef struct tagBITMAPFILEHEADER
+{
+	U16	bfType;  //BM
+	U32 bfSize;   //file size 
+	U16	bfReserved1;  //0
+	U16	bfReserved2;  //0
+	U32 bfOffBits;  	//bitmap data offset to  file header	
+} BITMAPFILEHEADER;
+
+typedef struct tagBITMAPINFOHEADER{
+	U32 biSize;  //this structure occupy size 
+	U32	biWidth; //bitmap width (pixel unit)
+	U32 biHeight; //bitmap height (pixel unit)
+	U16 biPlanes; // 1
+	U16 biBitCount;//bits of erery pixel . must be one of follow values 1(double color)
+			// 4(16color) 8(256 color) 24(true color)
+	U32 biCompression; // bitmap compresstion type must be one of 0 (uncompress)
+					  // 1(BI_RLE8) 2(BI_RLE4)
+	U32 biSizeImage; 	// bitmap size 
+	U32	biXPelsPerMeter; //bitmap horizontal resolution.
+	U32	biYPelsPerMeter; //bitmap vertical resolution.
+	U32 biClrUsed;	//bitmap used color number.
+	U32 biClrImportant;//bitmap most important color number during display process.
+} BITMAPINFOHEADER;
+#pragma pack()
+
+typedef  struct {
+	BITMAPFILEHEADER *bmp_file_header;
+	BITMAPINFOHEADER *bmp_info_header;
+}bmp_header_t;
+
+static int bmp_init(logo_object_t *logo) ;
+static  int  bmp_decode(logo_object_t *plogo);
+static int  bmp_deinit(logo_object_t *plogo);
+
+
+#endif
diff --git a/include/linux/amlogic/logo/dev_ge2d.h b/include/linux/amlogic/logo/dev_ge2d.h
new file mode 100755
index 000000000000..935cb1fb2055
--- /dev/null
+++ b/include/linux/amlogic/logo/dev_ge2d.h
@@ -0,0 +1,17 @@
+#ifndef  DEV_GE2D_H
+#define DEV_GE2D_H
+#include <linux/amlogic/amports/canvas.h>
+#include <linux/amlogic/ge2d/ge2d.h> 
+typedef  struct {
+	rectangle_t  src_rect;
+	rectangle_t  dst_rect;
+	unsigned int		color;
+}src_dst_info_t;
+
+#define		CMD_FILLRECT			0x1
+#define		CMD_BITBLT				0x2
+#define		CMD_STRETCH_BLIT		0x3
+
+extern ge2d_context_t*	dev_ge2d_setup(void* para);
+extern int	dev_ge2d_cmd(ge2d_context_t *context ,int  cmd,src_dst_info_t  *info);
+#endif
diff --git a/include/linux/amlogic/logo/jpeg_parser.h b/include/linux/amlogic/logo/jpeg_parser.h
new file mode 100755
index 000000000000..363251e5c9a1
--- /dev/null
+++ b/include/linux/amlogic/logo/jpeg_parser.h
@@ -0,0 +1,40 @@
+#ifndef  JPEG_PARSER_H_
+#define JPEG_PARSER_H_
+
+
+
+#define JPEG_INFO               	AV_SCRATCH_0
+#define JPEG_PIC_WIDTH          AV_SCRATCH_1
+#define JPEG_PIC_HEIGHT         AV_SCRATCH_2
+#define PADDINGSIZE		1024
+#define JPEG_TAG		0xff
+#define JPEG_TAG_SOI	0xd8
+#define JPEG_TAG_SOF0	0xc0
+#define JPEG_TAG_EOI		0xd9
+#define JPEG_TAG_SOS		0xda
+#define MREG_DECODE_PARAM   AV_SCRATCH_2 /* bit 0-3: pico_addr_mode */
+                                         /* bit 15-4: reference height */
+#define MREG_TO_AMRISC      AV_SCRATCH_8
+#define MREG_FROM_AMRISC    AV_SCRATCH_9
+
+#define PICINFO_BUF_IDX_MASK        0x0007
+#define PICINFO_INTERLACE           0x0020
+#define PICINFO_INTERLACE_TOP       0x0010
+
+#define  JPEG_INVALID_FILE_SIZE	 0x2000000 
+enum {
+	PIC_NA = 0,
+	PIC_DECODED = 1,
+	PIC_FETCHED = 2
+};
+typedef  struct {
+	vframe_t  	vf;
+	volatile u32 	state;
+	u32 __iomem*	vaddr;
+	u32  canvas_index;
+	
+}jpeg_private_t;
+static int jpeg_init(logo_object_t *logo) ;
+static  int  jpeg_decode(logo_object_t *plogo);
+static int jpeg_deinit(logo_object_t *plogo);
+#endif 
diff --git a/include/linux/amlogic/logo/loader.h b/include/linux/amlogic/logo/loader.h
new file mode 100755
index 000000000000..be0a594c0ee9
--- /dev/null
+++ b/include/linux/amlogic/logo/loader.h
@@ -0,0 +1,33 @@
+#ifndef LOADER_H
+#define LOADER_H
+#include "logo.h"
+
+#define  INVALID_INFO   		0xffffffff
+#define  LOGO_DBG_ENABLE	0x10000001
+#define  LOGO_PROGRESS_ENABLE	0x10000002
+#define  LOGO_LOADED		0x10000003
+#define  LOGO_NEEDSCALER		0x10000004
+#define  PLATFORM_DEVICE_OSD		"apollofb"
+#define  PLATFORM_DEVICE_VID		"amstream"
+
+#define  	PARA_FIRST_GROUP_START   	1
+#define  	PARA_SECOND_GROUP_START 	5
+#define	PARA_THIRD_GROUP_START	17+4
+#define    PARA_FOURTH_GROUP_START  20+4
+#define    PARA_FIFTH_GROUP_START  	21+4
+#define    PARA_SIXTH_GROUP_START	22+4
+#define    PARA_SEVENTH_GROUP_START	23+4
+#define    PARA_END					23+4		
+
+typedef  struct {
+	char *name;
+	int   info;	
+	u32   prev_idx;
+	u32   next_idx;
+	u32   cur_group_start;
+	u32   cur_group_end;
+}para_info_pair_t;
+
+
+
+#endif
diff --git a/include/linux/amlogic/logo/logo_dev_osd.h b/include/linux/amlogic/logo/logo_dev_osd.h
new file mode 100755
index 000000000000..4c615ea731ef
--- /dev/null
+++ b/include/linux/amlogic/logo/logo_dev_osd.h
@@ -0,0 +1,10 @@
+#ifndef  LOGO_DEV_OSD_H
+#define LOGO_DEV_OSD_H
+
+static int osd0_init(logo_object_t *plogo);
+static int osd1_init(logo_object_t *plogo);
+static  int  osd_enable_set(int  enable);
+static int osd_deinit(void);
+static  int  osd_transfer(logo_object_t *plogo);
+
+#endif
diff --git a/include/linux/amlogic/logo/logo_dev_vid.h b/include/linux/amlogic/logo/logo_dev_vid.h
new file mode 100755
index 000000000000..b63e79612e42
--- /dev/null
+++ b/include/linux/amlogic/logo/logo_dev_vid.h
@@ -0,0 +1,9 @@
+#ifndef  LOGO_DEV_VID_H
+#define LOGO_DEV_VID_H
+static int vid_init(logo_object_t *plogo);
+static  int  vid_enable(int  enable);
+static int vid_deinit(void);
+static  int  vid_transfer(logo_object_t *plogo);
+
+#endif
+
-- 
2.19.0

