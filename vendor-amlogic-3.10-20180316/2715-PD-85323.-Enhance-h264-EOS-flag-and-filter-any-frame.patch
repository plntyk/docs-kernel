From 36dd28de9f63ae8413ca08be3e5be678cae4f018 Mon Sep 17 00:00:00 2001
From: timyao <tim.yao@amlogic.com>
Date: Mon, 30 Dec 2013 22:08:53 -0800
Subject: [PATCH 2715/5965] PD #85323. Enhance h264 EOS flag and filter any
 frames from decoder after EOS.

---
 .../amports/m8/ucode/h264/h264c_linux.h       | 102 ++++-----
 .../amports/m8/ucode/h264/h264data_linux.h    |   2 +-
 .../amports/m8/ucode/h264/h264header_linux.h  | 200 +++++++++---------
 .../amports/m8/ucode/h264/h264mmc_linux.h     | 152 ++++++-------
 .../amports/m8/ucode/h264/h264slice_linux.h   |  90 ++++----
 drivers/amlogic/amports/vh264.c               |  13 +-
 6 files changed, 283 insertions(+), 276 deletions(-)

diff --git a/drivers/amlogic/amports/m8/ucode/h264/h264c_linux.h b/drivers/amlogic/amports/m8/ucode/h264/h264c_linux.h
index dd03bbe965e6..472966176999 100755
--- a/drivers/amlogic/amports/m8/ucode/h264/h264c_linux.h
+++ b/drivers/amlogic/amports/m8/ucode/h264/h264c_linux.h
@@ -36,7 +36,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x60c2908,0x9808348,0x9c08208,0x60c2908,0x64c080a,0x980a34a,0x60c080a,0xc07e600,
 	0x0000000,0x680004a,0x60e0c0a,0x7c026ca,0x680000a,0x7c0248a,0x80c0600,0xfc081c0,
 	0xaa4ff87,0x90a2207,0x7c02048,0x481f1c7,0x7c02007,0xaa30147,0xaa2c047,0xa60c187,
-	0xc7804c0,0x682b60d,0xa60c1c7,0xc780400,0x682000d,0xa60c207,0xc780340,0x6826d4d,
+	0xc7804c0,0x682b50d,0xa60c1c7,0xc780400,0x682000d,0xa60c207,0xc780340,0x6826c8d,
 	0xc780800,0xc78d780,0x0000000,0xfc101c0,0x7c030c7,0xfc101c0,0x7c03087,0x6800047,
 	0x7c02d87,0xc7805c0,0x0000000,0x7803bc8,0x90821c8,0xaa18047,0x6800047,0x9482207,
 	0x680000a,0xc07e780,0x6c0444a,0xcb8000d,0x7c03bc8,0x64c2307,0xbefc047,0xcc00000,
@@ -157,56 +157,56 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c03b48,0x7803bc7,0xbe20047,0x694000a,0x6c0444a,0x6808009,0x6b0400b,0xc06fc80,
 	0x0000000,0xc780900,0x697000a,0x6c0444a,0x7803b48,0x540a1c8,0x200a1ca,0x6806009,
 	0x6b0400b,0xc06fa00,0x0000000,0x7804007,0x6905348,0xa805207,0x0000000,0x7c03b8d,
-	0xc7f1800,0x7c03b4e,0x680000a,0xc010380,0x0000000,0xc019680,0x0000000,0x7803bc7,
+	0xc7f1800,0x7c03b4e,0x680000a,0xc010340,0x0000000,0xc019540,0x0000000,0x7803bc7,
 	0xbe34107,0x694000a,0x6c0444a,0x6804009,0x6b0400b,0xc06f500,0x0000000,0x694c00a,
-	0x6c0444a,0x6802009,0x6b0a00b,0xc06f380,0x0000000,0xc014380,0x0000000,0x7803bc7,
-	0xbe38107,0x695000a,0x6c0444a,0x6804009,0x6b0c00b,0xc06f100,0x0000000,0xc7801c0,
-	0x694000a,0x6c0444a,0x680c009,0x6b0400b,0xc06ef40,0x0000000,0x78020c8,0xf8001c8,
-	0x649cf0a,0xbe5c0ca,0x7803bca,0xbe5420a,0x780200a,0xaa4c14a,0x7801f4a,0xa811287,
-	0x400128a,0x6800049,0x3409209,0x4401249,0x280a289,0xa80b287,0x780394a,0xa62400a,
-	0x7803bca,0xbe1c20a,0x0000000,0x649cf09,0x9081289,0xbe0c04a,0x0000000,0xc7fa880,
-	0x7c01f47,0x7802107,0xa61c007,0x68000c9,0xfc011c0,0xaa10007,0x0000000,0xfc011c0,
-	0x4001247,0x7c01f09,0x7802007,0xa614147,0x0000000,0xc070200,0x80c2301,0x7c01f87,
-	0x7802147,0xa65c007,0x7802187,0xf8001c7,0x7807388,0x7c01808,0x7c07387,0x78074c7,
-	0x7c01847,0x6800007,0x7c074c7,0x7c07507,0x78021c7,0xaa2c007,0x7801f07,0xa6240c7,
-	0x0000000,0xc06fd00,0x80c2301,0xc06fd80,0x0000000,0x7c074c7,0x58101c7,0x7c07507,
-	0x780738f,0x78074d0,0x7802147,0x6800048,0xa422207,0x7807547,0x7c01807,0x78075c7,
-	0x7c01847,0x6800007,0x7c07547,0x7c07587,0x7c075c7,0x7c07607,0x7803a87,0xaa54047,
-	0x0000000,0xc06f700,0x80c2301,0xc06f780,0x0000000,0x7c07547,0x58101c7,0x7c07587,
-	0x78021c7,0xaa2c007,0x7801f07,0xa6240c7,0x0000000,0xc06f400,0x80c2301,0xc06f480,
-	0x0000000,0x7c075c7,0x58101c7,0x7c07607,0x780754f,0x78075d0,0xc079800,0x0000000,
-	0x7802dc7,0xa608007,0xc781fc0,0x7801e87,0x69fffc8,0xb803207,0x40011c7,0x6800147,
-	0x7c01e87,0x7802d07,0x78023c8,0xb802207,0xc7801c0,0x780188a,0x78018cb,0x680000c,
-	0x78023cd,0xc07a9c0,0x6800049,0x7801d08,0x649cf09,0xaa28008,0x7803c0a,0xaa0800a,
-	0xc781a40,0x4401208,0x7c01d08,0xaa08008,0xc781940,0x9c09089,0x609cf09,0xa22c309,
-	0x780204a,0xa62400a,0x7802e0a,0xaa1c00a,0x7801f0a,0xaa0c0ca,0x680004a,0x680008a,
-	0xc781640,0x7c01d0a,0x680000a,0x7c01d0a,0x688000a,0xc06cf80,0x6c0444a,0x7803bc7,
-	0xbe54107,0x68001ca,0x6031e0a,0x649ce09,0xaa14009,0x0000000,0x6800009,0x609ce09,
-	0x8007401,0x6431e09,0xbee4049,0x0000000,0x649cf07,0xa2200c7,0x7801d87,0xaa18007,
-	0x7801ec7,0xaa10087,0x6800207,0xc7ee340,0x7c03bc7,0x6800013,0x7c02cd3,0x7c02d13,
-	0x7c02e93,0x7c01893,0x7c018d3,0x6803fc7,0x7c02b07,0x6800007,0x7c02547,0x7c025c7,
-	0x7c02607,0x7802c07,0x40011c7,0x7c024c7,0x6800047,0x60e0c07,0x7c026c7,0x7c02507,
-	0x68003c7,0x7c02807,0x6805c07,0x60c2107,0x80c2170,0x6800087,0x7c02a47,0x6800018,
-	0x7801ec7,0xa60c087,0x6800007,0x7c01e47,0x7802fc7,0x7c03007,0x68003c7,0x7c02fc7,
-	0x6800407,0x60c2407,0x6800007,0x7807048,0x6804009,0x5403287,0x200a289,0x400128a,
-	0x700028b,0x60c220b,0x400128a,0x700028b,0x400128a,0x700028c,0x96102cc,0x60c220b,
-	0x400128a,0x700028b,0x400128a,0x700028c,0x96102cc,0x60c220b,0x40011c7,0xb8ee207,
-	0x0000000,0x7801d07,0xaa08007,0xc7ed340,0x6800007,0x7c01947,0x6a00007,0x60c3d07,
-	0x7802dc7,0xa618007,0x0000000,0xc079600,0x0000000,0xaa08007,0xc7ed080,0x7802047,
-	0x7c02e07,0x7802007,0x7c02e47,0x7801ec7,0x7c02087,0x7801f47,0x7c07347,0x7801f07,
-	0x7c02407,0x7801f87,0x7c01fc7,0x780248a,0xa6fc00a,0x0000000,0xc073880,0x0000000,
-	0x7802dc7,0xaa10007,0x0000000,0xc073300,0x0000000,0xc073c40,0x0000000,0x7802087,
-	0x6840009,0x5c0c234,0x2009209,0x682609a,0xaa24087,0x6800008,0x6822d5a,0xaa18147,
-	0x6800048,0x6800088,0x6840009,0x5c0c1f4,0x20091c9,0x7c02788,0x7c02689,0x6800007,
-	0x7c02a87,0x7802c4a,0xb20c2ca,0x68004ca,0x6800c0a,0x6495107,0x97061ca,0x6095107,
-	0x7802c8a,0x7802107,0xa630007,0x7802409,0xaa280c9,0x540128a,0x580128a,0x6490707,
-	0x9807087,0x98070c7,0x6090707,0x6495107,0x98073c7,0x6095107,0x7c023ca,0x7802947,
-	0x94421c9,0x7c02947,0xa648387,0x68000c9,0x6495107,0x94041c9,0x9807647,0x6800009,
-	0x979d1c9,0x6095107,0x6490707,0x9807447,0x6090707,0x6498e07,0x9807787,0x6098e07,
-	0x7802087,0xaa0c087,0x6824f9a,0x68214da,0x7803bc8,0x90821c8,0xaa18087,0x6800087,
-	0x9482207,0x690000a,0xc069d40,0x6c0444a,0xc786500,0x7c03bc8,0x7802dc7,0xaa18007,
-	0x0000000,0xc077c80,0x0000000,0xaa08007,0xc7eb700,0x6800007,0x7803bc8,0x9082208,
-	0xaa10008,0x684000a,0xc069940,0x6c0444a,0xc786100,0x7c03bc7,0x0000000,0x0000000,
+	0x6c0444a,0x6802009,0x6b0a00b,0xc06f380,0x0000000,0xc0142c0,0x0000000,0x7803bc7,
+	0xbe34107,0x695000a,0x6c0444a,0x6804009,0x6b0c00b,0xc06f100,0x0000000,0xc780180,
+	0x694000a,0x6c0444a,0x680c009,0xc06ef80,0x6b0400b,0x78020c8,0xf8001c8,0x649cf0a,
+	0xbe5c0ca,0x7803bca,0xbe5420a,0x780200a,0xaa4c14a,0x7801f4a,0xa811287,0x400128a,
+	0x6800049,0x3409209,0x4401249,0x280a289,0xa80b287,0x780394a,0xa62400a,0x7803bca,
+	0xbe1c20a,0x0000000,0x649cf09,0x9081289,0xbe0c04a,0x0000000,0xc7fa8c0,0x7c01f47,
+	0x7802107,0xa61c007,0x68000c9,0xfc011c0,0xaa10007,0x0000000,0xfc011c0,0x4001247,
+	0x7c01f09,0x7802007,0xa614147,0x0000000,0xc070240,0x80c2301,0x7c01f87,0x7802147,
+	0xa65c007,0x7802187,0xf8001c7,0x7807388,0x7c01808,0x7c07387,0x78074c7,0x7c01847,
+	0x6800007,0x7c074c7,0x7c07507,0x78021c7,0xaa2c007,0x7801f07,0xa6240c7,0x0000000,
+	0xc06fd40,0x80c2301,0xc06fdc0,0x0000000,0x7c074c7,0x58101c7,0x7c07507,0x780738f,
+	0x78074d0,0x7802147,0x6800048,0xa422207,0x7807547,0x7c01807,0x78075c7,0x7c01847,
+	0x6800007,0x7c07547,0x7c07587,0x7c075c7,0x7c07607,0x7803a87,0xaa54047,0x0000000,
+	0xc06f740,0x80c2301,0xc06f7c0,0x0000000,0x7c07547,0x58101c7,0x7c07587,0x78021c7,
+	0xaa2c007,0x7801f07,0xa6240c7,0x0000000,0xc06f440,0x80c2301,0xc06f4c0,0x0000000,
+	0x7c075c7,0x58101c7,0x7c07607,0x780754f,0x78075d0,0xc079840,0x0000000,0x7802dc7,
+	0xa608007,0xc781fc0,0x7801e87,0x69fffc8,0xb803207,0x40011c7,0x6800147,0x7c01e87,
+	0x7802d07,0x78023c8,0xb802207,0xc7801c0,0x780188a,0x78018cb,0x680000c,0x78023cd,
+	0xc07aa00,0x6800049,0x7801d08,0x649cf09,0xaa28008,0x7803c0a,0xaa0800a,0xc781a40,
+	0x4401208,0x7c01d08,0xaa08008,0xc781940,0x9c09089,0x609cf09,0xa22c309,0x780204a,
+	0xa62400a,0x7802e0a,0xaa1c00a,0x7801f0a,0xaa0c0ca,0x680004a,0x680008a,0xc781640,
+	0x7c01d0a,0x680000a,0x7c01d0a,0x688000a,0xc06cfc0,0x6c0444a,0x7803bc7,0xbe54107,
+	0x68001ca,0x6031e0a,0x649ce09,0xaa14009,0x0000000,0x6800009,0x609ce09,0x8007401,
+	0x6431e09,0xbee4049,0x0000000,0x649cf07,0xa2200c7,0x7801d87,0xaa18007,0x7801ec7,
+	0xaa10087,0x6800207,0xc7ee380,0x7c03bc7,0x6800013,0x7c02cd3,0x7c02d13,0x7c02e93,
+	0x7c01893,0x7c018d3,0x6803fc7,0x7c02b07,0x6800007,0x7c02547,0x7c025c7,0x7c02607,
+	0x7802c07,0x40011c7,0x7c024c7,0x6800047,0x60e0c07,0x7c026c7,0x7c02507,0x68003c7,
+	0x7c02807,0x6805c07,0x60c2107,0x80c2170,0x6800087,0x7c02a47,0x6800018,0x7801ec7,
+	0xa60c087,0x6800007,0x7c01e47,0x7802fc7,0x7c03007,0x68003c7,0x7c02fc7,0x6800407,
+	0x60c2407,0x6800007,0x7807048,0x6804009,0x5403287,0x200a289,0x400128a,0x700028b,
+	0x60c220b,0x400128a,0x700028b,0x400128a,0x700028c,0x96102cc,0x60c220b,0x400128a,
+	0x700028b,0x400128a,0x700028c,0x96102cc,0x60c220b,0x40011c7,0xb8ee207,0x0000000,
+	0x7801d07,0xaa08007,0xc7ed380,0x6800007,0x7c01947,0x6a00007,0x60c3d07,0x7802dc7,
+	0xa618007,0x0000000,0xc079640,0x0000000,0xaa08007,0xc7ed0c0,0x7802047,0x7c02e07,
+	0x7802007,0x7c02e47,0x7801ec7,0x7c02087,0x7801f47,0x7c07347,0x7801f07,0x7c02407,
+	0x7801f87,0x7c01fc7,0x780248a,0xa6fc00a,0x0000000,0xc0738c0,0x0000000,0x7802dc7,
+	0xaa10007,0x0000000,0xc073340,0x0000000,0xc073c80,0x0000000,0x7802087,0x6840009,
+	0x5c0c234,0x2009209,0x682609a,0xaa24087,0x6800008,0x6822d5a,0xaa18147,0x6800048,
+	0x6800088,0x6840009,0x5c0c1f4,0x20091c9,0x7c02788,0x7c02689,0x6800007,0x7c02a87,
+	0x7802c4a,0xb20c2ca,0x68004ca,0x6800c0a,0x6495107,0x97061ca,0x6095107,0x7802c8a,
+	0x7802107,0xa630007,0x7802409,0xaa280c9,0x540128a,0x580128a,0x6490707,0x9807087,
+	0x98070c7,0x6090707,0x6495107,0x98073c7,0x6095107,0x7c023ca,0x7802947,0x94421c9,
+	0x7c02947,0xa648387,0x68000c9,0x6495107,0x94041c9,0x9807647,0x6800009,0x979d1c9,
+	0x6095107,0x6490707,0x9807447,0x6090707,0x6498e07,0x9807787,0x6098e07,0x7802087,
+	0xaa0c087,0x6824f9a,0x68214da,0x7803bc8,0x90821c8,0xaa18087,0x6800087,0x9482207,
+	0x690000a,0xc069d80,0x6c0444a,0xc786540,0x7c03bc8,0x7802dc7,0xaa18007,0x0000000,
+	0xc077cc0,0x0000000,0xaa08007,0xc7eb740,0x6800007,0x7803bc8,0x9082208,0xaa10008,
+	0x684000a,0xc069980,0x6c0444a,0xc786140,0x7c03bc7,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
@@ -335,7 +335,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c02e88,0x7802c48,0xb80b207,0x6800007,0x7c02cc7,0x7802d08,0x4002208,0x78023c9,
 	0xb805248,0x7c02d08,0x6800007,0xc7ff880,0x7c02e87,0x7801e07,0xb218a07,0x680004a,
 	0x7c01e4a,0x7c01d8a,0x680204a,0x7c0194a,0x7802cc7,0x95084c7,0x7802d09,0x94084c9,
-	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7edfc0,0x0000000,0x7802c49,
+	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7edf80,0x0000000,0x7802c49,
 	0xb014489,0x6808008,0xa628712,0xc780a40,0x0000000,0x7802d0a,0xa20c04a,0x500128a,
 	0x40011c7,0x54011c7,0xc780a40,0x94011ca,0x40011c7,0xa418247,0x7802b09,0x7802d07,
 	0xa27c047,0x40021c9,0xc780380,0x6800007,0xaa7c712,0x7802d0a,0xa2bc04a,0x4001287,
diff --git a/drivers/amlogic/amports/m8/ucode/h264/h264data_linux.h b/drivers/amlogic/amports/m8/ucode/h264/h264data_linux.h
index d9a7f356ec8e..921ff38c71dc 100755
--- a/drivers/amlogic/amports/m8/ucode/h264/h264data_linux.h
+++ b/drivers/amlogic/amports/m8/ucode/h264/h264data_linux.h
@@ -79,7 +79,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c02e88,0x7802c48,0xb80b207,0x6800007,0x7c02cc7,0x7802d08,0x4002208,0x78023c9,
 	0xb805248,0x7c02d08,0x6800007,0xc7ff880,0x7c02e87,0x7801e07,0xb218a07,0x680004a,
 	0x7c01e4a,0x7c01d8a,0x680204a,0x7c0194a,0x7802cc7,0x95084c7,0x7802d09,0x94084c9,
-	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7edfc0,0x0000000,0x7802c49,
+	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7edf80,0x0000000,0x7802c49,
 	0xb014489,0x6808008,0xa628712,0xc780a40,0x0000000,0x7802d0a,0xa20c04a,0x500128a,
 	0x40011c7,0x54011c7,0xc780a40,0x94011ca,0x40011c7,0xa418247,0x7802b09,0x7802d07,
 	0xa27c047,0x40021c9,0xc780380,0x6800007,0xaa7c712,0x7802d0a,0xa2bc04a,0x4001287,
diff --git a/drivers/amlogic/amports/m8/ucode/h264/h264header_linux.h b/drivers/amlogic/amports/m8/ucode/h264/h264header_linux.h
index 1db24f5d9ccf..cd081c693fd2 100755
--- a/drivers/amlogic/amports/m8/ucode/h264/h264header_linux.h
+++ b/drivers/amlogic/amports/m8/ucode/h264/h264header_linux.h
@@ -4,7 +4,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x4000407,0x9505287,0x740044a,0x4001451,0xb60d909,0xc7805c0,0x0000000,0xc064b80,
 	0x80c2301,0x5001387,0x7803ccd,0x9502347,0x7c03ccd,0xc064a00,0x80c2301,0xc064980,
 	0x80c2301,0xfc011c0,0xfc01340,0x942134e,0x740044d,0x4001451,0xaa1800d,0x680000e,
-	0x68001c7,0x7c01d47,0xc009480,0x6800009,0xc064640,0x80c2301,0x4004247,0x7400449,
+	0x68001c7,0x7c01d47,0xc0093c0,0x6800009,0xc064640,0x80c2301,0x4004247,0x7400449,
 	0x4001451,0xc064500,0x80c2301,0x7400447,0x4001451,0x6800088,0xa836207,0x6800008,
 	0xa82f207,0x0000000,0xfc011c0,0x7400447,0x4001451,0xc064200,0x80c2301,0xc064280,
 	0x0000000,0x7400447,0x4001451,0x58101c7,0x7400447,0x4001451,0xc063fc0,0x80c2301,
@@ -25,107 +25,107 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0xfc011c0,0xaa18007,0x0000000,0xc062280,0x80c2301,0xc062200,0x80c2301,0xfc011c0,
 	0x7400447,0xaa3c007,0x4001451,0xfc101c0,0x7400447,0x4001451,0xfc101c0,0x7400447,
 	0x4001451,0xfc101c0,0x7400447,0x4001451,0xfc101c0,0x7400447,0x4001451,0xfc011c0,
-	0x680000e,0xfc011c0,0xaa18007,0x9401387,0xc009b80,0x0000000,0x90aa207,0x7c02f88,
-	0xfc011c0,0xaa1c007,0x9421387,0xc0099c0,0x0000000,0xbe0c04e,0x90aa207,0x7c02f88,
+	0x680000e,0xfc011c0,0xaa18007,0x9401387,0xc009a40,0x0000000,0x90aa207,0x7c02f88,
+	0xfc011c0,0xaa1c007,0x9421387,0xc009880,0x0000000,0xbe0c04e,0x90aa207,0x7c02f88,
 	0xa20c0ce,0x0000000,0xfc011c0,0xfc011c0,0x9441387,0xfc011c0,0x9461387,0x740044e,
 	0x4001451,0xaa24007,0x6800188,0xfc011c0,0xc061640,0x80c2301,0xd07ff88,0x0000000,
 	0x7400447,0x4001451,0x7803b47,0xa404407,0x7803bc7,0x9807007,0x7c03bc7,0x697000a,
-	0x6c0444a,0x540a1d0,0x200a1ca,0x6806009,0x6a0400b,0xc05f500,0x0000000,0xc7e1440,
-	0x0000000,0xaa1000a,0x6804047,0xc782240,0x70001d1,0x6804091,0x7000447,0x4001451,
-	0x7c039c7,0x9108247,0x7000448,0x4001451,0x90081c8,0x7c03a07,0x64c2908,0x9c080c8,
-	0x60c2908,0xb60d909,0xc780680,0x80e0000,0x700044d,0x4001451,0x64c2908,0x90211cd,
-	0x9461207,0x60c2908,0xaa3000d,0x680000e,0x6800009,0x6c00049,0x60e0209,0x68001c7,
-	0x7c01d47,0xc0063c0,0x6800009,0x6800009,0x6c00049,0x60e0209,0x64e0007,0x96e91cd,
-	0x60e0007,0x64e0307,0x95081ce,0x60e0307,0x7000449,0x4001451,0x7c020c9,0x7000447,
-	0x4001451,0x7c02147,0x6800088,0xa81a207,0x6800008,0xa815207,0x0000000,0x7000447,
-	0x4001451,0x7c03a87,0x7000447,0x4001451,0x7c03807,0x7000447,0x4001451,0x7c03847,
-	0x7000447,0x4001451,0x7c03887,0x7000447,0x4001451,0x7c038c7,0x7000447,0x4001451,
-	0x7c03987,0xc780100,0x7000447,0x4001451,0x7c02187,0x7000449,0x4001451,0x90081c9,
-	0x7c03907,0x91011c9,0x7c03947,0x7000447,0x4001451,0x60c0907,0x7c02c47,0x4401247,
-	0x7c02c09,0x7000449,0x4001451,0x7c02c89,0x700044d,0x4001451,0x90011cd,0x7c02107,
-	0xa60c007,0x0000000,0x5401249,0x4000289,0x7802c48,0x9610288,0x609520a,0x5404289,
-	0x968c288,0x609080a,0x6031f08,0x6033f09,0xc05ab40,0x8031e15,0x6431f08,0x7c03a48,
-	0xa610007,0x0000000,0x902120d,0x94211c8,0x7c02947,0x90411cd,0xaa10007,0x54011c7,
-	0x7802108,0x94411c8,0x7c02307,0x6800087,0x7802108,0x2408207,0x7000447,0x4001451,
-	0x7000449,0x4001451,0x9508247,0x5401249,0x7c01a89,0x7000447,0x4001451,0x7000449,
-	0x4001451,0x9508247,0x3409209,0x7c01ac9,0x7000447,0x4001451,0xbe0c047,0xc780900,
-	0x5801347,0x5801347,0xa22c04d,0x7000447,0x4001451,0x7c03d47,0xa61ffc7,0x7000447,
-	0x4001451,0x7c03d87,0x7000447,0x4001451,0x7c03dc7,0x7000447,0x4001451,0xa238047,
-	0x9421347,0x7000447,0x4001451,0x7c03e47,0x7000447,0x4001451,0x7c03e07,0x7000447,
-	0x4001451,0x7c03ec7,0x7000447,0x4001451,0x7c03e87,0x7000447,0x4001451,0x9444347,
-	0xa20c207,0x7000447,0x7c01b87,0xcc00000,0x7c03d0d,0x680c011,0x6905347,0x7400447,
-	0x4001451,0xc05e300,0x80c2301,0xb20bfc7,0xc7de500,0x4000407,0x4000247,0xc05e180,
-	0x80c2301,0x9505247,0xfc011c0,0x95a1247,0xfc011c0,0x95c1247,0x7400449,0x4001451,
-	0xc05df40,0x80c2301,0xaa0c007,0xc7de140,0x0000000,0xc05de00,0x80c2301,0x4000207,
-	0xc05dd40,0x80c2301,0x94a5207,0xfc011c0,0x9541207,0xfc021c0,0x9562207,0x7400448,
-	0x4001451,0xc05db00,0x80c2301,0x4000247,0xc05da40,0x80c2301,0x9508247,0x7400449,
-	0x4001451,0xc05d900,0x80c2301,0x4000247,0xfc011c0,0x9501247,0xfc011c0,0x9521247,
-	0xfc011c0,0x9541247,0x7400449,0x64c2907,0x91c21c7,0xa60c0c7,0xc780580,0x4001451,
-	0x98092c9,0x7400449,0x4001451,0xfc011c0,0x6800149,0x5401347,0x2009349,0x7c01d49,
-	0xfc01340,0x94211cd,0x7400447,0x4001451,0xaa1000d,0x680000e,0xc001f80,0x6800009,
-	0xc05d140,0x80c2301,0x7400447,0x4001451,0x7803b87,0xa404407,0x7803bc7,0x9807047,
-	0x7c03bc7,0x6b7000a,0x6c0444a,0x54091d0,0x200a1ca,0x6804009,0x6a0c00b,0xc05b080,
-	0x0000000,0xc7dcfc0,0x0000000,0x680c051,0x7000449,0x4001451,0x91a11c9,0x7c02347,
-	0xaa0c007,0x6800007,0x687ffc7,0x7c02a07,0x91c11c9,0x7c021c7,0x6800808,0x7000449,
-	0x4001451,0x90051c9,0x7c03ac7,0x9505207,0x90a51c9,0x7c03b07,0x9605207,0x7802947,
-	0x96a2207,0x60c2108,0x91411c9,0x7c028c7,0x91621c9,0x7c02907,0x7000449,0x4001451,
-	0x90081c9,0xc05c600,0x0000000,0x7c02247,0x91081c9,0xc05c500,0x0000000,0x7000449,
-	0x4001451,0x90081c9,0xc05c3c0,0x0000000,0x6801008,0x9505207,0x60c2108,0x6801408,
-	0x9505207,0x60c2108,0x91011c9,0x7c02287,0x91211c9,0x64e0e08,0x9401207,0x60e0e08,
-	0x91411c9,0x7c02207,0x580b1c9,0xbe18047,0x6800007,0x7802308,0x9c08008,0xcc00000,
-	0x7c02308,0x7000449,0x4001451,0x90011c9,0x680014d,0x5401387,0x200d38d,0x7c01d4d,
-	0x7802308,0x9401207,0x7c02308,0x9021349,0xaa2800d,0x680000e,0x6801c09,0x6c00049,
-	0x60e0209,0xc0013c0,0x6800009,0x6800009,0x6c00049,0x60e0209,0x64e0007,0x95c91cd,
-	0x60e0007,0x64e0307,0x94081ce,0x60e0307,0x7000447,0x4001451,0xc05b6c0,0x0000000,
-	0x6801408,0x9505207,0xcc00000,0x60c2108,0xba0c189,0x680020c,0x680080c,0x7801d47,
-	0xb8041c9,0x4001249,0xcc00000,0x0000000,0x540134d,0x540138e,0xfc01200,0x7400448,
-	0x4001451,0x9401348,0xaac8008,0x680020a,0x680020b,0xba0c189,0x68003cc,0x6800fcc,
-	0xaa4400b,0x0000000,0xc05aec0,0x80c2301,0x7400447,0x4001451,0xc05aec0,0x0000000,
-	0x2007287,0x48ff2c7,0xa61800b,0xaa0cfcc,0xb614189,0xa6103cc,0xc7ff780,0x980e00e,
-	0x400028b,0x54083cf,0xbe0c04c,0x94083ca,0x6c0000f,0xaeac00c,0x440130c,0x7801d47,
-	0xb8031c9,0xcc00000,0x0000000,0xc7ff640,0x4001249,0xba0c189,0x680020c,0x680080c,
-	0x64e020a,0x200a30a,0x6c0004a,0x60e020a,0xba101c9,0x4001249,0xcc00000,0x0000000,
-	0x540134d,0x540138e,0x7801d48,0xac04209,0x6800008,0x7000448,0x4001451,0x9401348,
-	0xaab4008,0x680020a,0x680020b,0xba0c189,0x68003cc,0x6800fcc,0xaa3800b,0x7000447,
-	0x4001451,0xc05a200,0x0000000,0x2007287,0x48ff2c7,0xa61800b,0xaa0cfcc,0xb614189,
-	0xa6103cc,0xc7ff700,0x980e00e,0x400028b,0x54083cf,0xbe1004c,0x94083ca,0x6c0000f,
-	0x60e020f,0xaeb400c,0x440130c,0xba0c1c9,0xcc00000,0x0000000,0xc7ff680,0x4001249,
-	0x680000c,0x680002a,0x64c2907,0xa20c407,0xc7d9d00,0x0000000,0xfc081c0,0xaaeffc7,
-	0x200c1cc,0x64c2907,0xa20c407,0xc7d9b40,0x0000000,0xfc081c0,0xaaeffc7,0x202a1ea,
-	0xaa5800c,0xaa1818c,0x462d1cc,0xc500900,0xa61404c,0xc780f00,0x0000000,0x6800047,
-	0x7c01c47,0x64c0007,0xbe14207,0x64c2907,0xbe0c407,0xd07ff2a,0xfc081c0,0x64c0007,
-	0xbe10207,0x64c2907,0xbe08407,0xc7ff740,0xc7d9500,0x0000000,0xc0591c0,0x80c2301,
-	0x64c232b,0x5810aeb,0x48ffaeb,0x697000a,0x6c0444a,0x540a1c7,0x200a1ca,0x6804009,
-	0x6b0400b,0xc057200,0x0000000,0x7804007,0x6905348,0xa80f207,0xc7d9080,0xc058d80,
-	0x80c2301,0x64c232b,0x5810aeb,0x48ffaeb,0xfc011c0,0xaa14047,0x4001aeb,0xfc071c0,
-	0x4007aeb,0x7c017c7,0xc780140,0x0000000,0x680004a,0xc077900,0x0000000,0x48071eb,
-	0x580322b,0xaa14007,0x6800209,0x4001208,0x24071c9,0xf8001c7,0x262a22a,0xc57f400,
-	0xc7ff240,0x680002b,0x7803d0d,0xa22830d,0x7802f87,0x9005207,0x4001208,0xc000340,
-	0x202b22b,0x90a5207,0x4001208,0xc000240,0x202b22b,0xa21440d,0x0000000,0xfc041c0,
-	0x7c02fc7,0x4004aeb,0xc7ff940,0x0000000,0xb210408,0x0000000,0xfc10240,0x4410208,
-	0xcc00000,0xf800208,0xc0580c0,0x80c2301,0x4001347,0xfc081c0,0xc057fc0,0x80c2301,
-	0xc057f40,0x80c2301,0xd07ff0d,0xfc011c0,0xfc051c0,0xcc00000,0xfc0f1c0,0x7803c47,
-	0x7803c88,0x7802c49,0x7803a4a,0xa403247,0xa402288,0xc782640,0x6800007,0x7c07087,
-	0x7803bc7,0x9807087,0x7c03bc7,0x69fffc7,0x7c03c49,0x7c03c8a,0xa843207,0x688000a,
-	0xc0562c0,0x6c0444a,0x694000a,0x6c0444a,0x6804009,0x6b0400b,0xc055ac0,0x0000000,
-	0x680044a,0x6031e0a,0x649ce09,0xaa14009,0x0000000,0x680000a,0x609ce0a,0x8007401,
-	0x6431e0a,0xbee404a,0x0000000,0x7803a47,0xa634047,0x7807187,0x6804089,0x54031c7,
-	0x20091c9,0x7000247,0x91011c7,0x20091c9,0x6bfffc7,0x7400247,0x4001249,0x6801fc7,
-	0x7400247,0x7807047,0x7c07187,0x68003ca,0x6031e0a,0x649ce09,0xaa14009,0x0000000,
-	0x6800009,0x609ce09,0x8007401,0x6431e09,0xbee4049,0x0000000,0x649ce09,0xa6d8009,
-	0x0000000,0xc060500,0x0000000,0x649c007,0xbef7fc7,0x7803a47,0xa60c047,0xc7815c0,
-	0x0000000,0x68000c7,0x609c007,0x8007401,0xc060240,0x0000000,0x680001b,0x649c007,
-	0xbef3fc7,0x7802c47,0x7803a48,0x95101c8,0x7803908,0x97071c8,0x7802308,0x9021208,
-	0x97e11c8,0x609c107,0x7803d07,0x7802108,0x95e11c8,0x7803cc8,0x9102208,0x95a21c8,
-	0x7803d48,0x96101c8,0x609c207,0x7803d87,0x7803dc8,0x96101c8,0x609c307,0x7803e07,
-	0x7803e48,0x96101c8,0x609c407,0x7803e87,0x7803ec8,0x96101c8,0x609c507,0x7801ac7,
-	0x7801a88,0x96101c8,0x609c607,0x6800047,0x609c007,0x8007401,0x6800007,0x6800008,
-	0x6804009,0x4001249,0x7400248,0x40011c7,0xbaf8607,0x4008249,0x680001b,0x649c008,
-	0xbefbfc8,0x91081c8,0x7c03187,0x92081c8,0x7c07047,0x93081c8,0x7803cc8,0x9408207,
-	0x7c03cc8,0x6800007,0x7c071c7,0x7c07207,0x649c107,0x7c078c7,0x58101c7,0x7c07907,
-	0x649c207,0x7c03107,0x58101c7,0x7c03147,0x649c307,0x54081c7,0x40011c7,0x7c01c87,
-	0x58101c7,0x7c01cc7,0x649c407,0x7c07947,0x58101c7,0x7c07987,0x7803cc8,0x9008208,
-	0x7802307,0x90211c7,0x54011c7,0x34081c8,0x7803907,0x7803189,0xb004247,0x0000000,
-	0x40001c9,0x7c03907,0xb803207,0x44011c8,0x7c03907,0xcc00000,0x0000000,0x0000000,
+	0x6c0444a,0x540a1d0,0x200a1ca,0x6806009,0xc05f540,0x6a0400b,0xc7e1480,0x0000000,
+	0xaa1000a,0x6804047,0xc7821c0,0x70001d1,0x6804091,0x7000447,0x4001451,0x7c039c7,
+	0x9108247,0x7000448,0x4001451,0x90081c8,0x7c03a07,0x64c2908,0x9c080c8,0x60c2908,
+	0xb60d909,0xc780680,0x80e0000,0x700044d,0x4001451,0x64c2908,0x90211cd,0x9461207,
+	0x60c2908,0xaa3000d,0x680000e,0x6800009,0x6c00049,0x60e0209,0x68001c7,0x7c01d47,
+	0xc006340,0x6800009,0x6800009,0x6c00049,0x60e0209,0x64e0007,0x96e91cd,0x60e0007,
+	0x64e0307,0x95081ce,0x60e0307,0x7000449,0x4001451,0x7c020c9,0x7000447,0x4001451,
+	0x7c02147,0x6800088,0xa81a207,0x6800008,0xa815207,0x0000000,0x7000447,0x4001451,
+	0x7c03a87,0x7000447,0x4001451,0x7c03807,0x7000447,0x4001451,0x7c03847,0x7000447,
+	0x4001451,0x7c03887,0x7000447,0x4001451,0x7c038c7,0x7000447,0x4001451,0x7c03987,
+	0xc780100,0x7000447,0x4001451,0x7c02187,0x7000449,0x4001451,0x90081c9,0x7c03907,
+	0x91011c9,0x7c03947,0x7000447,0x4001451,0x60c0907,0x7c02c47,0x4401247,0x7c02c09,
+	0x7000449,0x4001451,0x7c02c89,0x700044d,0x4001451,0x90011cd,0xa60c007,0x7c02107,
+	0x5401249,0x4000289,0x7802c48,0x9610288,0x609520a,0x5404289,0x968c288,0x609080a,
+	0x6031f08,0x6033f09,0xc05abc0,0x8031e15,0x6431f08,0xa610007,0x7c03a48,0x902120d,
+	0x94211c8,0x7c02947,0x90411cd,0xaa10007,0x54011c7,0x7802108,0x94411c8,0x7c02307,
+	0x6800087,0x7802108,0x2408207,0x7000447,0x4001451,0x7000449,0x4001451,0x9508247,
+	0x5401249,0x7c01a89,0x7000447,0x4001451,0x7000449,0x4001451,0x9508247,0x3409209,
+	0x7c01ac9,0x7000447,0x4001451,0xbe0c047,0xc780900,0x5801347,0x5801347,0xa22c04d,
+	0x7000447,0x4001451,0x7c03d47,0xa61ffc7,0x7000447,0x4001451,0x7c03d87,0x7000447,
+	0x4001451,0x7c03dc7,0x7000447,0x4001451,0xa238047,0x9421347,0x7000447,0x4001451,
+	0x7c03e47,0x7000447,0x4001451,0x7c03e07,0x7000447,0x4001451,0x7c03ec7,0x7000447,
+	0x4001451,0x7c03e87,0x7000447,0x4001451,0x9444347,0xa20c207,0x7000447,0x7c01b87,
+	0xcc00000,0x7c03d0d,0x680c011,0x6905347,0x7400447,0x4001451,0xc05e3c0,0x80c2301,
+	0xb20bfc7,0xc7de5c0,0x4000407,0x4000247,0xc05e240,0x80c2301,0x9505247,0xfc011c0,
+	0x95a1247,0xfc011c0,0x95c1247,0x7400449,0x4001451,0xc05e000,0x80c2301,0xaa0c007,
+	0xc7de200,0x0000000,0xc05dec0,0x80c2301,0x4000207,0xc05de00,0x80c2301,0x94a5207,
+	0xfc011c0,0x9541207,0xfc021c0,0x9562207,0x7400448,0x4001451,0xc05dbc0,0x80c2301,
+	0x4000247,0xc05db00,0x80c2301,0x9508247,0x7400449,0x4001451,0xc05d9c0,0x80c2301,
+	0x4000247,0xfc011c0,0x9501247,0xfc011c0,0x9521247,0xfc011c0,0x9541247,0x7400449,
+	0x64c2907,0x91c21c7,0xa60c0c7,0xc780580,0x4001451,0x98092c9,0x7400449,0x4001451,
+	0xfc011c0,0x6800149,0x5401347,0x2009349,0x7c01d49,0xfc01340,0x94211cd,0x7400447,
+	0x4001451,0xaa1000d,0x680000e,0xc001f80,0x6800009,0xc05d200,0x80c2301,0x7400447,
+	0x4001451,0x7803b87,0xa404407,0x7803bc7,0x9807047,0x7c03bc7,0x6b7000a,0x6c0444a,
+	0x54091d0,0x200a1ca,0x6804009,0x6a0c00b,0xc05b140,0x0000000,0xc7dd080,0x0000000,
+	0x680c051,0x7000449,0x4001451,0x91a11c9,0x7c02347,0xaa0c007,0x6800007,0x687ffc7,
+	0x7c02a07,0x91c11c9,0x7c021c7,0x6800808,0x7000449,0x4001451,0x90051c9,0x7c03ac7,
+	0x9505207,0x90a51c9,0x7c03b07,0x9605207,0x7802947,0x96a2207,0x60c2108,0x91411c9,
+	0x7c028c7,0x91621c9,0x7c02907,0x7000449,0x4001451,0x90081c9,0xc05c6c0,0x0000000,
+	0x7c02247,0x91081c9,0xc05c5c0,0x0000000,0x7000449,0x4001451,0x90081c9,0xc05c480,
+	0x0000000,0x6801008,0x9505207,0x60c2108,0x6801408,0x9505207,0x60c2108,0x91011c9,
+	0x7c02287,0x91211c9,0x64e0e08,0x9401207,0x60e0e08,0x91411c9,0x7c02207,0x580b1c9,
+	0xbe18047,0x6800007,0x7802308,0x9c08008,0xcc00000,0x7c02308,0x7000449,0x4001451,
+	0x90011c9,0x680014d,0x5401387,0x200d38d,0x7c01d4d,0x7802308,0x9401207,0x7c02308,
+	0x9021349,0xaa2800d,0x680000e,0x6801c09,0x6c00049,0x60e0209,0xc0013c0,0x6800009,
+	0x6800009,0x6c00049,0x60e0209,0x64e0007,0x95c91cd,0x60e0007,0x64e0307,0x94081ce,
+	0x60e0307,0x7000447,0x4001451,0xc05b780,0x0000000,0x6801408,0x9505207,0xcc00000,
+	0x60c2108,0xba0c189,0x680020c,0x680080c,0x7801d47,0xb8041c9,0x4001249,0xcc00000,
+	0x0000000,0x540134d,0x540138e,0xfc01200,0x7400448,0x4001451,0x9401348,0xaac8008,
+	0x680020a,0x680020b,0xba0c189,0x68003cc,0x6800fcc,0xaa4400b,0x0000000,0xc05af80,
+	0x80c2301,0x7400447,0x4001451,0xc05af80,0x0000000,0x2007287,0x48ff2c7,0xa61800b,
+	0xaa0cfcc,0xb614189,0xa6103cc,0xc7ff780,0x980e00e,0x400028b,0x54083cf,0xbe0c04c,
+	0x94083ca,0x6c0000f,0xaeac00c,0x440130c,0x7801d47,0xb8031c9,0xcc00000,0x0000000,
+	0xc7ff640,0x4001249,0xba0c189,0x680020c,0x680080c,0x64e020a,0x200a30a,0x6c0004a,
+	0x60e020a,0xba101c9,0x4001249,0xcc00000,0x0000000,0x540134d,0x540138e,0x7801d48,
+	0xac04209,0x6800008,0x7000448,0x4001451,0x9401348,0xaab4008,0x680020a,0x680020b,
+	0xba0c189,0x68003cc,0x6800fcc,0xaa3400b,0x7000447,0xc05a300,0x4001451,0x2007287,
+	0x48ff2c7,0xa61800b,0xaa0cfcc,0xb614189,0xa6103cc,0xc7ff740,0x980e00e,0x400028b,
+	0x54083cf,0xbe1004c,0x94083ca,0x6c0000f,0x60e020f,0xaeb800c,0x440130c,0xba0c1c9,
+	0xcc00000,0x0000000,0xc7ff6c0,0x4001249,0x680000c,0x680002a,0x64c2907,0xa20c407,
+	0xc7d9e00,0x0000000,0xfc081c0,0xaaeffc7,0x200c1cc,0x64c2907,0xa20c407,0xc7d9c40,
+	0x0000000,0xfc081c0,0xaaeffc7,0x202a1ea,0xaa5800c,0xaa1818c,0x462d1cc,0xc5008c0,
+	0xa61404c,0xc780ec0,0x0000000,0x6800047,0x7c01c47,0x64c0007,0xbe14207,0x64c2907,
+	0xbe0c407,0xd07ff2a,0xfc081c0,0x64c0007,0xbe10207,0x64c2907,0xbe08407,0xc7ff740,
+	0xc7d9600,0x0000000,0xc0592c0,0x80c2301,0x64c232b,0x5810aeb,0x48ffaeb,0x697000a,
+	0x6c0444a,0x540a1c7,0x200a1ca,0x6804009,0xc057340,0x6b0400b,0x7804007,0x6905348,
+	0xa80f207,0xc7d91c0,0xc058ec0,0x80c2301,0x64c232b,0x5810aeb,0x48ffaeb,0xfc011c0,
+	0xaa14047,0x4001aeb,0xfc071c0,0x4007aeb,0x7c017c7,0xc780140,0x0000000,0x680004a,
+	0xc077a00,0x0000000,0x48071eb,0x580322b,0xaa14007,0x6800209,0x4001208,0x24071c9,
+	0xf8001c7,0x262a22a,0xc57f440,0xc7ff280,0x680002b,0x7803d0d,0xa22830d,0x7802f87,
+	0x9005207,0x4001208,0xc000340,0x202b22b,0x90a5207,0x4001208,0xc000240,0x202b22b,
+	0xa21440d,0x0000000,0xfc041c0,0x7c02fc7,0x4004aeb,0xc7ff940,0x0000000,0xb210408,
+	0x0000000,0xfc10240,0x4410208,0xcc00000,0xf800208,0xc058200,0x80c2301,0x4001347,
+	0xfc081c0,0xc058100,0x80c2301,0xc058080,0x80c2301,0xd07ff0d,0xfc011c0,0xfc051c0,
+	0xcc00000,0xfc0f1c0,0x7803c47,0x7803c88,0x7802c49,0x7803a4a,0xa403247,0xa402288,
+	0xc782600,0x6800007,0x7c07087,0x7803bc7,0x9807087,0x7c03bc7,0x69fffc7,0x7c03c49,
+	0x7c03c8a,0xa842207,0x688000a,0xc056400,0x6c0444a,0x694000a,0x6c0444a,0x6804009,
+	0xc055c40,0x6b0400b,0x680044a,0x6031e0a,0x649ce09,0xaa14009,0x0000000,0x680000a,
+	0x609ce0a,0x8007401,0x6431e0a,0xbee404a,0x0000000,0x7803a47,0xa634047,0x7807187,
+	0x6804089,0x54031c7,0x20091c9,0x7000247,0x91011c7,0x20091c9,0x740024a,0x4001249,
+	0x6801fca,0x740024a,0x7c0178a,0x7807047,0x7c07187,0x68003ca,0x6031e0a,0x649ce09,
+	0xaa14009,0x0000000,0x6800009,0x609ce09,0x8007401,0x6431e09,0xbee4049,0x0000000,
+	0x649ce09,0xa6d8009,0x0000000,0xc060680,0x0000000,0x649c007,0xbef7fc7,0x7803a47,
+	0xa60c047,0xc7815c0,0x0000000,0x68000c7,0x609c007,0x8007401,0xc0603c0,0x0000000,
+	0x680001b,0x649c007,0xbef3fc7,0x7802c47,0x7803a48,0x95101c8,0x7803908,0x97071c8,
+	0x7802308,0x9021208,0x97e11c8,0x609c107,0x7803d07,0x7802108,0x95e11c8,0x7803cc8,
+	0x9102208,0x95a21c8,0x7803d48,0x96101c8,0x609c207,0x7803d87,0x7803dc8,0x96101c8,
+	0x609c307,0x7803e07,0x7803e48,0x96101c8,0x609c407,0x7803e87,0x7803ec8,0x96101c8,
+	0x609c507,0x7801ac7,0x7801a88,0x96101c8,0x609c607,0x6800047,0x609c007,0x8007401,
+	0x6800007,0x6800008,0x6804009,0x4001249,0x7400248,0x40011c7,0xbaf8607,0x4008249,
+	0x680001b,0x649c008,0xbefbfc8,0x91081c8,0x7c03187,0x92081c8,0x7c07047,0x93081c8,
+	0x7803cc8,0x9408207,0x7c03cc8,0x6800007,0x7c071c7,0x7c07207,0x649c107,0x7c078c7,
+	0x58101c7,0x7c07907,0x649c207,0x7c03107,0x58101c7,0x7c03147,0x649c307,0x54081c7,
+	0x40011c7,0x7c01c87,0x58101c7,0x7c01cc7,0x649c407,0x7c07947,0x58101c7,0x7c07987,
+	0x7803cc8,0x9008208,0x7802307,0x90211c7,0x54011c7,0x34081c8,0x7803907,0x7803189,
+	0xb004247,0x0000000,0x40001c9,0x7c03907,0xb803207,0x44011c8,0x7c03907,0xcc00000,
+	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000
 };
diff --git a/drivers/amlogic/amports/m8/ucode/h264/h264mmc_linux.h b/drivers/amlogic/amports/m8/ucode/h264/h264mmc_linux.h
index d11819368d00..9b27e2ea8d98 100755
--- a/drivers/amlogic/amports/m8/ucode/h264/h264mmc_linux.h
+++ b/drivers/amlogic/amports/m8/ucode/h264/h264mmc_linux.h
@@ -5,9 +5,9 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0xcc00000,0x0400000,0xcc00000,0x0400000,0xcc00000,0x0400000,0xcc00000,0x0400000,
 	0xcc00000,0x0400000,0xc780200,0x6431e07,0xcc00000,0x0400000,0xcc00000,0x0400000,
-	0xcc00000,0x0400000,0x9027207,0xa6140c8,0x0000000,0xc00ce80,0x0000000,0xc780880,
-	0xa614148,0x0000000,0xc003800,0x0000000,0xc780740,0xa614188,0x0000000,0xc006880,
-	0x0000000,0xc780600,0xa6141c8,0x0000000,0xc007040,0x0000000,0xc7804c0,0xa614208,
+	0xcc00000,0x0400000,0x9027207,0xa6140c8,0x0000000,0xc00cd00,0x0000000,0xc780880,
+	0xa614148,0x0000000,0xc003800,0x0000000,0xc780740,0xa614188,0x0000000,0xc006700,
+	0x0000000,0xc780600,0xa6141c8,0x0000000,0xc006ec0,0x0000000,0xc7804c0,0xa614208,
 	0x0000000,0xc000c40,0x0000000,0xc780380,0xa62c288,0x6431f20,0x6433f21,0xe000860,
 	0x0000000,0x0000000,0xf000800,0x6031f20,0xf010840,0xc780100,0x6033f21,0xc780080,
 	0x0000000,0x8031e00,0xcc00000,0x0400000,0x78077c5,0x4002c4e,0x7400c45,0x7807800,
@@ -47,85 +47,85 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x9c302f0,0x7400070,0xcc00000,0x0000000,0x680400f,0x5403c4d,0x2031c4f,0x4001c71,
 	0x7000c40,0x6800081,0x9542001,0x7400c40,0x4401c31,0x7000c04,0x649cf30,0xa20c830,
 	0x5808044,0xbe20041,0x7801c01,0xaa10001,0xa216004,0x6800001,0x7c01c01,0x5809040,
-	0xa218041,0x6800001,0x9523001,0x7400c40,0xc781340,0x44012cb,0xc07f400,0x0000000,
+	0xa218041,0x6800001,0x9523001,0x7400c40,0xc7813c0,0x44012cb,0xc07f400,0x0000000,
 	0x649c001,0xbef7fc1,0x6800001,0x940504d,0x9184c00,0xaa243f0,0x68001c4,0xaa1c030,
 	0x6800004,0xb614170,0x4404130,0xb60c0f0,0x4002130,0x68001c4,0x94a3044,0x7802130,
 	0xaa0c030,0x0000000,0x9801201,0x90c2c00,0xa60c0b0,0x9101c00,0x9801201,0x9521070,
-	0x4401c71,0x7000c70,0x90a2c30,0x9542070,0x78017f0,0x9584070,0x6803230,0x2030370,
-	0x7000c30,0x9610070,0x6800030,0x2030370,0x7000c04,0x5402c0b,0x20302f0,0x6836cf1,
-	0x2031c31,0xcb80031,0x0000000,0x609ca04,0x0000000,0x0000000,0xc7806c0,0x609c101,
-	0x649ca30,0x9610c04,0x609ca30,0xc780580,0x609c201,0x609cb04,0x0000000,0x0000000,
-	0xc780440,0x609c301,0x649cb30,0x9610c04,0x609cb30,0xc780300,0x609c401,0x609cc04,
-	0x0000000,0x0000000,0xc7801c0,0x609c501,0x649cc30,0x9610c04,0x609cc30,0xc780080,
-	0x609c601,0x649cf01,0xbe09001,0xbe100c0,0x78071c0,0x4401000,0x7c071c0,0x7801cc0,
-	0xaa1c000,0x7801c80,0x4401000,0xbe13fc0,0x7c01c80,0x6800000,0x7c01cc0,0xcc00000,
-	0x0000000,0x680000b,0x7803d0d,0xa21880d,0x780318c,0x7801b8d,0xb00334c,0x0000000,
-	0x7801b8c,0x78071cd,0x649cf00,0xbe0d000,0xb01230d,0xc7800c0,0x680004c,0xb80f30d,
-	0x0000000,0xc07d240,0x0000000,0xa61bfcd,0x0000000,0xc079dc0,0x0000000,0xc7801c0,
-	0x0000000,0xc07dcc0,0x0000000,0x40012cb,0xaa0818b,0xc7ff940,0xaa1400b,0x6800080,
-	0x950800b,0x609c000,0x609ce00,0xcc00000,0x0000000,0x680000b,0x78071cd,0xaa4800d,
-	0x0000000,0xc07cc40,0x0000000,0xa61bfcd,0x0000000,0xc0797c0,0x0000000,0xc780280,
-	0x0000000,0x7807180,0xa807340,0x0000000,0xc07d600,0x0000000,0x40012cb,0xaa0818b,
-	0xc7ffb80,0xaa1c00b,0x6800080,0x950800b,0x609c000,0x609ce00,0xc7ffa00,0x680000b,
-	0xcc00000,0x0000000,0x680400f,0x780704e,0x6800008,0x6800007,0x7807186,0x78072c0,
-	0xa225800,0x7c07087,0x5403c46,0x2031c4f,0x7000c70,0x9005c30,0x6800041,0x3401c01,
-	0x7c07081,0x5403c48,0x2031c4f,0x4001c71,0x7000c70,0xa23c0f0,0xa406188,0x6800000,
-	0x9444c00,0x7400c70,0xc780280,0x6800047,0x6800000,0x9406c00,0x7400c70,0x6810000,
-	0xbc04030,0x78071c0,0x4401000,0x7c071c0,0x4001208,0xb8ec388,0xcc00000,0x7c07207,
-	0x680400f,0x780704e,0x6800008,0x6800007,0x7807186,0x5403c48,0x2031c4f,0x4001c71,
-	0x7000c70,0x6810000,0xa007030,0xa805188,0x0000000,0x9c302b0,0xc7800c0,0x7400c70,
-	0x6800047,0x4001208,0xb8f3388,0xcc00000,0x7c071c7,0x400138e,0x780734d,0x240e38d,
-	0x7807300,0xb610080,0x0000000,0x200e34e,0x400138e,0x6800008,0x7807109,0x680a00a,
-	0xa403209,0xcc00000,0x0000000,0x5402108,0x200410a,0x4002c44,0x7000c40,0x4001c71,
-	0x7000c41,0x9610001,0xa428380,0x7000105,0x6804031,0x5403005,0x2006031,0x4001186,
-	0x7000187,0x4001c44,0x7000c70,0x9002030,0xaa14040,0xaa18080,0x6800000,0xc780180,
-	0x94421c0,0xc780100,0x9c07087,0xc780080,0x9c070c7,0xbe4c307,0x6800000,0x94021c0,
+	0x4401c71,0x7000c70,0x90a2c30,0x9542070,0x78017f0,0x9583070,0x78017b0,0x95e1070,
+	0x6803230,0x2030370,0x7000c30,0x9610070,0x6800030,0x2030370,0x7000c04,0x5402c0b,
+	0x20302f0,0x6836d71,0x2031c31,0xcb80031,0x0000000,0x609ca04,0x0000000,0x0000000,
+	0xc7806c0,0x609c101,0x649ca30,0x9610c04,0x609ca30,0xc780580,0x609c201,0x609cb04,
+	0x0000000,0x0000000,0xc780440,0x609c301,0x649cb30,0x9610c04,0x609cb30,0xc780300,
+	0x609c401,0x609cc04,0x0000000,0x0000000,0xc7801c0,0x609c501,0x649cc30,0x9610c04,
+	0x609cc30,0xc780080,0x609c601,0x649cf01,0xbe09001,0xbe100c0,0x78071c0,0x4401000,
+	0x7c071c0,0xcc00000,0x0000000,0x680000b,0x7803d0d,0xa21880d,0x780318c,0x7801b8d,
+	0xb00334c,0x0000000,0x7801b8c,0x78071cd,0x649cf00,0xbe0d000,0xb01230d,0xc7800c0,
+	0x680004c,0xb80f30d,0x0000000,0xc07d3c0,0x0000000,0xa61bfcd,0x0000000,0xc079f40,
+	0x0000000,0xc7801c0,0x0000000,0xc07de40,0x0000000,0x40012cb,0xaa0818b,0xc7ff940,
+	0xaa1400b,0x6800080,0x950800b,0x609c000,0x609ce00,0xcc00000,0x0000000,0x680000b,
+	0x78071cd,0xaa4800d,0x0000000,0xc07cdc0,0x0000000,0xa61bfcd,0x0000000,0xc079940,
+	0x0000000,0xc780280,0x0000000,0x7807180,0xa807340,0x0000000,0xc07d780,0x0000000,
+	0x40012cb,0xaa0818b,0xc7ffb80,0xaa1c00b,0x6800080,0x950800b,0x609c000,0x609ce00,
+	0xc7ffa00,0x680000b,0xcc00000,0x0000000,0x680400f,0x780704e,0x6800008,0x6800007,
+	0x7807186,0x78072c0,0xa225800,0x7c07087,0x5403c46,0x2031c4f,0x7000c70,0x9005c30,
+	0x6800041,0x3401c01,0x7c07081,0x5403c48,0x2031c4f,0x4001c71,0x7000c70,0xa23c0f0,
+	0xa406188,0x6800000,0x9444c00,0x7400c70,0xc780280,0x6800047,0x6800000,0x9406c00,
+	0x7400c70,0x6810000,0xbc04030,0x78071c0,0x4401000,0x7c071c0,0x4001208,0xb8ec388,
+	0xcc00000,0x7c07207,0x680400f,0x780704e,0x6800008,0x6800007,0x7807186,0x5403c48,
+	0x2031c4f,0x4001c71,0x7000c70,0x6810000,0xa007030,0xa805188,0x0000000,0x9c302b0,
+	0xc7800c0,0x7400c70,0x6800047,0x4001208,0xb8f3388,0xcc00000,0x7c071c7,0x400138e,
+	0x780734d,0x240e38d,0x7807300,0xb610080,0x0000000,0x200e34e,0x400138e,0x6800008,
+	0x7807109,0x680a00a,0xa403209,0xcc00000,0x0000000,0x5402108,0x200410a,0x4002c44,
+	0x7000c40,0x4001c71,0x7000c41,0x9610001,0xa428380,0x7000105,0x6804031,0x5403005,
+	0x2006031,0x4001186,0x7000187,0x4001c44,0x7000c70,0x9002030,0xaa14040,0xaa18080,
+	0x6800000,0xc780180,0x94421c0,0xc780100,0x9c07087,0xc780080,0x9c070c7,0xbe4c307,
+	0x6800000,0x94021c0,0x7807200,0x4401000,0x7c07200,0x4401046,0x7000040,0x9005000,
+	0x6800041,0x3401001,0x7807080,0x3000040,0x7c07080,0x6810000,0xbc04007,0x78071c0,
+	0x4401000,0x7c071c0,0xcc00000,0x7400187,0x4001208,0xb8d0248,0xcc00000,0x0000000,
+	0x7807108,0x7807149,0x680a00a,0xa403209,0xcc00000,0x0000000,0x5402108,0x200410a,
+	0x4002c44,0x7000c40,0x4001c71,0x7000c41,0x9610001,0xa42a380,0x7000105,0x6804031,
+	0x5403005,0x2006031,0x4001186,0x7000187,0x4001c44,0x7000c70,0x9002030,0xaa14040,
+	0xaa1c080,0x6800000,0xc780200,0x94441c0,0x9c07087,0xc780140,0x9c07107,0x9c070c7,
+	0xc780080,0x9c07147,0xbe4c307,0x6800000,0x94021c0,0x7807200,0x4401000,0x7c07200,
+	0x4401046,0x7000040,0x9005000,0x6800041,0x3401001,0x7807080,0x3000040,0x7c07080,
+	0x6810000,0xbc04007,0x78071c0,0x4401000,0x7c071c0,0xcc00000,0x7400187,0x4001208,
+	0xb8ce248,0xcc00000,0x0000000,0x680000d,0x7807300,0xb60c080,0x0000000,0x680004d,
+	0x7807108,0x7807149,0x680a00a,0xa403209,0xcc00000,0x0000000,0x5402108,0x200410a,
+	0x4002c44,0x7000c40,0x4001c71,0x7000c41,0x9610001,0x3800340,0xa41c380,0x7000105,
+	0x6804031,0x5403005,0x2006031,0x4001186,0x7000187,0xa24c307,0x6800000,0x94061c0,
 	0x7807200,0x4401000,0x7c07200,0x4401046,0x7000040,0x9005000,0x6800041,0x3401001,
 	0x7807080,0x3000040,0x7c07080,0x6810000,0xbc04007,0x78071c0,0x4401000,0x7c071c0,
-	0xcc00000,0x7400187,0x4001208,0xb8d0248,0xcc00000,0x0000000,0x7807108,0x7807149,
-	0x680a00a,0xa403209,0xcc00000,0x0000000,0x5402108,0x200410a,0x4002c44,0x7000c40,
-	0x4001c71,0x7000c41,0x9610001,0xa42a380,0x7000105,0x6804031,0x5403005,0x2006031,
-	0x4001186,0x7000187,0x4001c44,0x7000c70,0x9002030,0xaa14040,0xaa1c080,0x6800000,
-	0xc780200,0x94441c0,0x9c07087,0xc780140,0x9c07107,0x9c070c7,0xc780080,0x9c07147,
-	0xbe4c307,0x6800000,0x94021c0,0x7807200,0x4401000,0x7c07200,0x4401046,0x7000040,
-	0x9005000,0x6800041,0x3401001,0x7807080,0x3000040,0x7c07080,0x6810000,0xbc04007,
-	0x78071c0,0x4401000,0x7c071c0,0xcc00000,0x7400187,0x4001208,0xb8ce248,0xcc00000,
-	0x0000000,0x680000d,0x7807300,0xb60c080,0x0000000,0x680004d,0x7807108,0x7807149,
+	0xcc00000,0x7400187,0x4001208,0xb8db248,0xcc00000,0x0000000,0x400134d,0x780734c,
+	0x240d34c,0x7807300,0xb610080,0x0000000,0x200d30d,0x400134d,0x6800008,0x7807109,
 	0x680a00a,0xa403209,0xcc00000,0x0000000,0x5402108,0x200410a,0x4002c44,0x7000c40,
-	0x4001c71,0x7000c41,0x9610001,0x3800340,0xa41c380,0x7000105,0x6804031,0x5403005,
-	0x2006031,0x4001186,0x7000187,0xa24c307,0x6800000,0x94061c0,0x7807200,0x4401000,
-	0x7c07200,0x4401046,0x7000040,0x9005000,0x6800041,0x3401001,0x7807080,0x3000040,
-	0x7c07080,0x6810000,0xbc04007,0x78071c0,0x4401000,0x7c071c0,0xcc00000,0x7400187,
-	0x4001208,0xb8db248,0xcc00000,0x0000000,0x400134d,0x780734c,0x240d34c,0x7807300,
-	0xb610080,0x0000000,0x200d30d,0x400134d,0x6800008,0x7807109,0x680a00a,0xa403209,
+	0x4001c71,0x7000c41,0x9610001,0xa417340,0x7000105,0x6804031,0x5403005,0x2006031,
+	0x4001186,0x7000187,0x4001c44,0x7000c70,0x9002030,0xaa14040,0xaa18080,0x68000c0,
+	0xc780180,0x94821c0,0xc780100,0x9807107,0xc780080,0x9807147,0x4006c46,0x7400c4e,
+	0xcc00000,0x7400187,0x4001208,0xb8e1248,0xcc00000,0x0000000,0x440138e,0x680000d,
+	0x7807300,0xb60c080,0x0000000,0x680004d,0x7807108,0x7807149,0x680a00a,0xa403209,
 	0xcc00000,0x0000000,0x5402108,0x200410a,0x4002c44,0x7000c40,0x4001c71,0x7000c41,
-	0x9610001,0xa417340,0x7000105,0x6804031,0x5403005,0x2006031,0x4001186,0x7000187,
-	0x4001c44,0x7000c70,0x9002030,0xaa14040,0xaa18080,0x68000c0,0xc780180,0x94821c0,
-	0xc780100,0x9807107,0xc780080,0x9807147,0x4006c46,0x7400c4e,0xcc00000,0x7400187,
-	0x4001208,0xb8e1248,0xcc00000,0x0000000,0x440138e,0x680000d,0x7807300,0xb60c080,
-	0x0000000,0x680004d,0x7807108,0x7807149,0x680a00a,0xa403209,0xcc00000,0x0000000,
-	0x5402108,0x200410a,0x4002c44,0x7000c40,0x4001c71,0x7000c41,0x9610001,0x3800340,
-	0xb01b380,0x7000105,0x6804031,0x5403005,0x2006031,0x4001186,0x7000187,0xa250307,
-	0x6800000,0x94061c0,0x7807200,0x4401000,0x7c07200,0x4401046,0x7000040,0x9005000,
-	0x6800041,0x3401001,0x7807080,0x3000040,0x7c07080,0x6810000,0xbc04007,0x78071c0,
-	0x4401000,0x7c071c0,0x7400187,0x4001208,0xb8dc248,0xcc00000,0x0000000,0x6800010,
-	0x6800011,0x78072f1,0x9005031,0xa638140,0x0000000,0xc07ab40,0x0000000,0x780e100,
-	0xbe18080,0x9001400,0xc07a2c0,0x0000000,0xc781900,0x0000000,0xc07b280,0x0000000,
-	0xc781800,0x6800000,0x90a2071,0x780e130,0xa85c001,0xa85b030,0x680e10f,0x70003c0,
-	0xaa2c040,0xaa40080,0xaa540c0,0xaa78100,0x0000000,0x4605040,0xc500840,0x0000000,
-	0x4606040,0xc5011c0,0xc781380,0x4001c4f,0x7000c4e,0xc07b200,0x0000000,0xc7ffc00,
-	0x40023cf,0x4001c4f,0x7000c4e,0xc07c0c0,0x0000000,0xc7ffa80,0x40023cf,0x4002c4f,
-	0x7000c4e,0xc07ce00,0x0000000,0x4001c4f,0x7000c4d,0xc07d9c0,0x0000000,0xc7ff800,
-	0x40033cf,0x4001c4f,0x7000c4e,0xc07e440,0x0000000,0xc7ff680,0x40023cf,0xc079cc0,
-	0x0000000,0xc079500,0x0000000,0x6800007,0x7807331,0xb250071,0x7807770,0x7807780,
-	0x9610c00,0x7807841,0x7807880,0x9610040,0x2401c01,0x7c07841,0x5810001,0x7c07880,
-	0x78077c1,0x7807800,0x9610040,0x2401c01,0x7c077c1,0x5810001,0x7c07800,0xc7801c0,
-	0x7c07441,0x7c07447,0x7c077c7,0x7c07807,0x7c07847,0x7c07887,0x7c07347,0x7c07487,
-	0x7c07647,0x7c07687,0x7c076c7,0x7c07707,0x7c07747,0x7c07787,0xc7fec40,0x40013cf,
-	0x4001c4f,0x7000c4e,0xc07bfc0,0x0000000,0x6800050,0x400044e,0xc7fea40,0x40023cf,
-	0x680400f,0x780718e,0x540338e,0x200e38f,0x4001c4e,0x7000c40,0xa2140c0,0xc0724c0,
-	0x7c031d0,0xcc00000,0x0000000,0x78072f1,0x9005031,0x90a2071,0xaa10140,0xaa0c001,
-	0xc074a80,0x0000000,0x649cf00,0xa219000,0xc072180,0x7c031d0,0xc077ac0,0x0000000,
-	0xc780140,0xc077a00,0x0000000,0xc071fc0,0x7c031d0,0xcc00000,0x0000000,0x0000000,
+	0x9610001,0x3800340,0xb01b380,0x7000105,0x6804031,0x5403005,0x2006031,0x4001186,
+	0x7000187,0xa250307,0x6800000,0x94061c0,0x7807200,0x4401000,0x7c07200,0x4401046,
+	0x7000040,0x9005000,0x6800041,0x3401001,0x7807080,0x3000040,0x7c07080,0x6810000,
+	0xbc04007,0x78071c0,0x4401000,0x7c071c0,0x7400187,0x4001208,0xb8dc248,0xcc00000,
+	0x0000000,0x6800010,0x6800011,0x78072f1,0x9005031,0xa638140,0x0000000,0xc07ab40,
+	0x0000000,0x780e100,0xbe18080,0x9001400,0xc07a2c0,0x0000000,0xc781900,0x0000000,
+	0xc07b280,0x0000000,0xc781800,0x6800000,0x90a2071,0x780e130,0xa85c001,0xa85b030,
+	0x680e10f,0x70003c0,0xaa2c040,0xaa40080,0xaa540c0,0xaa78100,0x0000000,0x4605040,
+	0xc500840,0x0000000,0x4606040,0xc5011c0,0xc781380,0x4001c4f,0x7000c4e,0xc07b200,
+	0x0000000,0xc7ffc00,0x40023cf,0x4001c4f,0x7000c4e,0xc07c0c0,0x0000000,0xc7ffa80,
+	0x40023cf,0x4002c4f,0x7000c4e,0xc07ce00,0x0000000,0x4001c4f,0x7000c4d,0xc07d9c0,
+	0x0000000,0xc7ff800,0x40033cf,0x4001c4f,0x7000c4e,0xc07e440,0x0000000,0xc7ff680,
+	0x40023cf,0xc079cc0,0x0000000,0xc079500,0x0000000,0x6800007,0x7807331,0xb250071,
+	0x7807770,0x7807780,0x9610c00,0x7807841,0x7807880,0x9610040,0x2401c01,0x7c07841,
+	0x5810001,0x7c07880,0x78077c1,0x7807800,0x9610040,0x2401c01,0x7c077c1,0x5810001,
+	0x7c07800,0xc7801c0,0x7c07441,0x7c07447,0x7c077c7,0x7c07807,0x7c07847,0x7c07887,
+	0x7c07347,0x7c07487,0x7c07647,0x7c07687,0x7c076c7,0x7c07707,0x7c07747,0x7c07787,
+	0xc7fec40,0x40013cf,0x4001c4f,0x7000c4e,0xc07bfc0,0x0000000,0x6800050,0x400044e,
+	0xc7fea40,0x40023cf,0x680400f,0x780718e,0x540338e,0x200e38f,0x4001c4e,0x7000c40,
+	0xa2140c0,0xc072640,0x7c031d0,0xcc00000,0x0000000,0x78072f1,0x9005031,0x90a2071,
+	0xaa10140,0xaa0c001,0xc074c00,0x0000000,0x649cf00,0xa219000,0xc072300,0x7c031d0,
+	0xc077ac0,0x0000000,0xc780140,0xc077a00,0x0000000,0xc072140,0x7c031d0,0xcc00000,
+	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000
 };
diff --git a/drivers/amlogic/amports/m8/ucode/h264/h264slice_linux.h b/drivers/amlogic/amports/m8/ucode/h264/h264slice_linux.h
index 0297b69db80e..579b326d62ca 100755
--- a/drivers/amlogic/amports/m8/ucode/h264/h264slice_linux.h
+++ b/drivers/amlogic/amports/m8/ucode/h264/h264slice_linux.h
@@ -7,16 +7,16 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c031d0,0x6801840,0x7c072c0,0x6800080,0x7c07300,0x6800000,0x7c0e100,0x7c07540,
 	0x7c07580,0x7c075c0,0x7c07600,0x78074b1,0x4001c71,0x78020c0,0x6800041,0x340f001,
 	0x44013cf,0x28313f1,0xa83bab1,0x7c07371,0x7802140,0xa60c000,0xc780100,0x7c074b1,
-	0xc00a700,0x0000000,0x68000f3,0xc008580,0x7c02bf3,0x7807187,0x7807048,0xa403207,
+	0xc00a6c0,0x0000000,0x68000f3,0xc008540,0x7c02bf3,0x7807187,0x7807048,0xa403207,
 	0xc7e0100,0x0000000,0x6800033,0x7c02bf3,0x68002c0,0x6031e00,0x649ce00,0xaa14009,
 	0x0000000,0x6800000,0x609ce00,0x8007401,0x6431e00,0xbee4040,0x0000000,0x649cf00,
 	0xa20d000,0x6800340,0x6800440,0x6031e00,0x649ce00,0xaa14009,0x0000000,0x6800000,
 	0x609ce00,0x8007401,0x6431e00,0xbee4040,0x0000000,0x649cf00,0xa20d000,0x6800440,
 	0x6800340,0x6031e00,0x649ce00,0xaa14009,0x0000000,0x6800000,0x609ce00,0x8007401,
 	0x6431e00,0xbee4040,0x0000000,0xc7ff000,0x0000000,0x7c0736a,0x7c072eb,0x7c0732c,
-	0x7c0e12d,0x7c0756e,0x581002e,0x7c07580,0x7c075ef,0x581002f,0x7c07600,0xc009740,
+	0x7c0e12d,0x7c0756e,0x581002e,0x7c07580,0x7c075ef,0x581002f,0x7c07600,0xc009700,
 	0x0000000,0x80c3000,0x7807748,0x7807789,0x9610209,0x60c3208,0x78077c8,0x7807809,
-	0x9610209,0x60c3208,0x7807848,0x7807889,0x9610209,0x60c3208,0x6800073,0xc007280,
+	0x9610209,0x60c3208,0x7807848,0x7807889,0x9610209,0x60c3208,0x6800073,0xc007240,
 	0x7c02bf3,0x7807187,0x7807048,0xa403207,0xc7dee00,0x0000000,0x6800033,0x7c02bf3,
 	0xaa1000a,0x0000000,0xc780840,0x0000000,0x64c5109,0x64c460a,0x7801a48,0x5410208,
 	0x7801a0b,0x20082c8,0x580a208,0x6031f08,0x6033f09,0xc05dd00,0x8031e15,0x6431f08,
@@ -70,48 +70,48 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0xc780180,0x9807747,0x44013cd,0xba0c0aa,0x97a11cf,0x97a11eb,0x60c3907,0x94a240d,
 	0x40013cb,0xbe0c0cf,0x0000000,0x60c2210,0x40012cb,0xb8aa30b,0xa2240cc,0x90022cc,
 	0x680010c,0x240c2cc,0x90082d0,0x5408410,0xd07ffcc,0x940840b,0x60c2210,0x694000a,
-	0x6c0444a,0x680c009,0x6a0400b,0xc05a580,0x0000000,0xc05c200,0x80c2301,0xc05c280,
-	0x0000000,0x401a1c7,0x7802248,0x2007207,0x7c02387,0x7802287,0xaa40007,0x6800009,
-	0xc05bf40,0x80c2301,0xaa30047,0x9402247,0xc05be40,0x80c2301,0xc05bec0,0x0000000,
-	0x94c4247,0xc05bd00,0x80c2301,0xc05bd80,0x0000000,0x9444247,0x60c3109,0xc7f05c0,
-	0x0000000,0xc065300,0x0000000,0x680400f,0x780704e,0x780734d,0x780730c,0x78072c0,
-	0x90a1040,0x90c1c00,0x2c0bc01,0x7807188,0xaa0c00c,0xaa3c04c,0xc780900,0x5403c48,
-	0x20313f1,0x4001c71,0x7000c40,0x9061040,0x4005c71,0x7000c70,0xbe4c040,0xa248080,
-	0xa4112c1,0xa410370,0xcc00000,0x680004a,0x5403c48,0x20313f1,0x4001c71,0x7000c40,
-	0x9041040,0x4005c71,0x7000c70,0xbe18080,0xa214040,0xa4042c1,0xa403370,0xcc00000,
-	0x680004a,0x4803000,0xaa20000,0xaa1c0c0,0x0000000,0x4405c71,0x7000c40,0x9800000,
-	0x9800040,0x7400c40,0x6800008,0x6830007,0x5403c48,0x20313f1,0x4001c71,0x7000c40,
-	0xbe400c0,0xbc0f1c0,0x5418008,0x609b300,0x7801c80,0x7801cf0,0x9610030,0x5808000,
-	0x649b301,0x5408041,0x5808041,0xa805040,0x6800000,0x7400c40,0xc780140,0x7c07188,
-	0x4001208,0xb8eb388,0xc780d40,0x7807780,0x580f000,0xa20c040,0x6800001,0x9801181,
-	0x7802000,0xa60c140,0x4401c31,0x9801141,0x7801c40,0x94e1040,0x7400c01,0xaa7400b,
-	0x6801801,0x7802300,0x9021000,0x5401000,0x3801001,0x7803cca,0x900828a,0x340a00a,
-	0x78078c5,0x7807900,0x9610140,0x7803a40,0x6031f00,0x6033f01,0xc0556c0,0x8031e15,
-	0x6800046,0x7807087,0x6431f04,0x6800009,0x3400246,0xbc0f1c0,0x4401071,0x7000070,
-	0x9405c09,0x7400070,0x2c07007,0x7c07087,0x649c900,0x9c007c0,0x609c900,0x7c079c5,
-	0x5810145,0x7c07a05,0xcc00000,0x680000a,0x2005105,0x4001249,0xb8ee289,0x649c900,
-	0x98007c0,0x609c900,0xcc00000,0x7c0718e,0x7802171,0x4600031,0xc480b40,0x7802180,
-	0x6800041,0x340f001,0x580138f,0x78072c0,0x9005000,0xa614140,0x6800000,0x7c07640,
-	0x7c07680,0x7c07440,0x780764d,0x7807680,0x9610340,0x780734c,0x780744b,0x78073b1,
-	0xb4052f1,0x2400c4b,0xb807380,0xc780180,0x200d3cd,0x24002f1,0xb003380,0xc780080,
-	0x240d3cd,0x40002f1,0x78072c0,0x90a2000,0xaa14000,0x581000d,0x7c0764d,0x7c07680,
-	0x7c0744b,0x7807331,0xb6100b1,0x20052cd,0xc781d80,0x4000185,0x78074c0,0x7807501,
-	0x9610001,0xc781c40,0x2006005,0x78020c0,0x6800041,0x340f001,0x78072c0,0x9005000,
-	0xa61c140,0x6800000,0x7c07480,0x7c076c0,0x7c07700,0x7c07540,0x7c07580,0x780748e,
-	0x78076cd,0x7807700,0x9610340,0x780734c,0xb40338c,0x0000000,0x200d3cd,0x4602031,
-	0xc501200,0x780398b,0x460000b,0xc500a80,0x680000a,0x6800009,0x200830d,0x78072c0,
-	0x90a2000,0xa610000,0xaa0c008,0x0000000,0x4401208,0x4000c4b,0x6808030,0x7000c00,
-	0x4001c30,0x7000c01,0x9610001,0x4001c30,0xd07fef1,0x2009009,0xa608008,0xc780580,
-	0x4401208,0x6800007,0xb8052c8,0x0000000,0x40011c7,0xc7fff40,0x24082c8,0x6031f07,
-	0x6033f09,0xc053600,0x8031e15,0x4001c48,0x6808030,0x6431f0a,0x7000c00,0x4001c30,
-	0x7000c01,0x9610001,0x4001c30,0xd07fef1,0x200a00a,0x78072c0,0x90a2000,0xa614000,
-	0x7803800,0x7803841,0x9610001,0x200a00a,0x7807545,0x7807580,0x9610140,0x200514a,
-	0x7807331,0xa60c031,0xc780740,0x4000185,0x7803886,0x78038c0,0x9610180,0x2006185,
-	0xb60c0b1,0xc780580,0x4000146,0x78075c0,0x7807601,0x9610001,0xc780440,0x2006006,
-	0x78072c0,0x9005000,0xa610140,0x6800005,0xc7802c0,0x6800006,0x200b30d,0x54012cb,
-	0x78072c0,0x90a2000,0xa60c000,0x0000000,0x44012cb,0x400014b,0x400018b,0x7c076cd,
-	0x581000d,0x7c07700,0xb803185,0x4000105,0x4000106,0x7c07744,0x5810004,0x7c07780,
-	0x7c077c5,0x5810005,0x7c07800,0x7c07846,0x5810006,0x7c07880,0xcc00000,0x7c0748c,
+	0x6c0444a,0x680c009,0xc05a5c0,0x6a0400b,0xc05c240,0x80c2301,0xc05c2c0,0x0000000,
+	0x401a1c7,0x7802248,0x2007207,0x7c02387,0x7802287,0xaa40007,0x6800009,0xc05bf80,
+	0x80c2301,0xaa30047,0x9402247,0xc05be80,0x80c2301,0xc05bf00,0x0000000,0x94c4247,
+	0xc05bd40,0x80c2301,0xc05bdc0,0x0000000,0x9444247,0x60c3109,0xc7f05c0,0x0000000,
+	0xc065340,0x0000000,0x680400f,0x780704e,0x780734d,0x780730c,0x78072c0,0x90a1040,
+	0x90c1c00,0x2c0bc01,0x7807188,0xaa0c00c,0xaa3c04c,0xc780900,0x5403c48,0x20313f1,
+	0x4001c71,0x7000c40,0x9061040,0x4005c71,0x7000c70,0xbe4c040,0xa248080,0xa4112c1,
+	0xa410370,0xcc00000,0x680004a,0x5403c48,0x20313f1,0x4001c71,0x7000c40,0x9041040,
+	0x4005c71,0x7000c70,0xbe18080,0xa214040,0xa4042c1,0xa403370,0xcc00000,0x680004a,
+	0x4803000,0xaa20000,0xaa1c0c0,0x0000000,0x4405c71,0x7000c40,0x9800000,0x9800040,
+	0x7400c40,0x6800008,0x6830007,0x5403c48,0x20313f1,0x4001c71,0x7000c40,0xbe400c0,
+	0xbc0f1c0,0x5418008,0x609b300,0x7801c80,0x7801cf0,0x9610030,0x5808000,0x649b301,
+	0x5408041,0x5808041,0xa805040,0x6800000,0x7400c40,0xc780140,0x7c07188,0x4001208,
+	0xb8eb388,0xc780d40,0x7807780,0x580f000,0xa20c040,0x6800001,0x9801181,0x7802000,
+	0xa60c140,0x4401c31,0x9801141,0x7801c40,0x94e1040,0x7400c01,0xaa7400b,0x6801801,
+	0x7802300,0x9021000,0x5401000,0x3801001,0x7803cca,0x900828a,0x340a00a,0x78078c5,
+	0x7807900,0x9610140,0x7803a40,0x6031f00,0x6033f01,0xc055700,0x8031e15,0x6800046,
+	0x7807087,0x6431f04,0x6800009,0x3400246,0xbc0f1c0,0x4401071,0x7000070,0x9405c09,
+	0x7400070,0x2c07007,0x7c07087,0x649c900,0x9c007c0,0x609c900,0x7c079c5,0x5810145,
+	0x7c07a05,0xcc00000,0x680000a,0x2005105,0x4001249,0xb8ee289,0x649c900,0x98007c0,
+	0x609c900,0xcc00000,0x7c0718e,0x7802171,0x4600031,0xc480b40,0x7802180,0x6800041,
+	0x340f001,0x580138f,0x78072c0,0x9005000,0xa614140,0x6800000,0x7c07640,0x7c07680,
+	0x7c07440,0x780764d,0x7807680,0x9610340,0x780734c,0x780744b,0x78073b1,0xb4052f1,
+	0x2400c4b,0xb807380,0xc780180,0x200d3cd,0x24002f1,0xb003380,0xc780080,0x240d3cd,
+	0x40002f1,0x78072c0,0x90a2000,0xaa14000,0x581000d,0x7c0764d,0x7c07680,0x7c0744b,
+	0x7807331,0xb6100b1,0x20052cd,0xc781d80,0x4000185,0x78074c0,0x7807501,0x9610001,
+	0xc781c40,0x2006005,0x78020c0,0x6800041,0x340f001,0x78072c0,0x9005000,0xa61c140,
+	0x6800000,0x7c07480,0x7c076c0,0x7c07700,0x7c07540,0x7c07580,0x780748e,0x78076cd,
+	0x7807700,0x9610340,0x780734c,0xb40338c,0x0000000,0x200d3cd,0x4602031,0xc501200,
+	0x780398b,0x460000b,0xc500a80,0x680000a,0x6800009,0x200830d,0x78072c0,0x90a2000,
+	0xa610000,0xaa0c008,0x0000000,0x4401208,0x4000c4b,0x6808030,0x7000c00,0x4001c30,
+	0x7000c01,0x9610001,0x4001c30,0xd07fef1,0x2009009,0xa608008,0xc780580,0x4401208,
+	0x6800007,0xb8052c8,0x0000000,0x40011c7,0xc7fff40,0x24082c8,0x6031f07,0x6033f09,
+	0xc053640,0x8031e15,0x4001c48,0x6808030,0x6431f0a,0x7000c00,0x4001c30,0x7000c01,
+	0x9610001,0x4001c30,0xd07fef1,0x200a00a,0x78072c0,0x90a2000,0xa614000,0x7803800,
+	0x7803841,0x9610001,0x200a00a,0x7807545,0x7807580,0x9610140,0x200514a,0x7807331,
+	0xa60c031,0xc780740,0x4000185,0x7803886,0x78038c0,0x9610180,0x2006185,0xb60c0b1,
+	0xc780580,0x4000146,0x78075c0,0x7807601,0x9610001,0xc780440,0x2006006,0x78072c0,
+	0x9005000,0xa610140,0x6800005,0xc7802c0,0x6800006,0x200b30d,0x54012cb,0x78072c0,
+	0x90a2000,0xa60c000,0x0000000,0x44012cb,0x400014b,0x400018b,0x7c076cd,0x581000d,
+	0x7c07700,0xb803185,0x4000105,0x4000106,0x7c07744,0x5810004,0x7c07780,0x7c077c5,
+	0x5810005,0x7c07800,0x7c07846,0x5810006,0x7c07880,0xcc00000,0x7c0748c,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
diff --git a/drivers/amlogic/amports/vh264.c b/drivers/amlogic/amports/vh264.c
index 75904dde4c3f..b21e5880de61 100755
--- a/drivers/amlogic/amports/vh264.c
+++ b/drivers/amlogic/amports/vh264.c
@@ -199,6 +199,7 @@ static u32 vh264_no_disp_wd_count;
 static u32 vh264_running;
 static s32 vh264_stream_switching;
 static s32 vh264_stream_new;
+static s32 vh264_eos;
 static struct vframe_s *p_last_vf;
 static s32 last_ptr;
 static u32 wait_buffer_counter;
@@ -837,7 +838,7 @@ static void vh264_isr(void)
         vh264_set_params();
 
     } else if ((cpu_cmd & 0xff) == 2) {
-        int frame_mb_only, pic_struct_present, pic_struct, prog_frame, poc_sel, idr_flag, neg_poc;
+        int frame_mb_only, pic_struct_present, pic_struct, prog_frame, poc_sel, idr_flag, neg_poc, eos;
         int i, status, num_frame, b_offset;
         int current_error_count;
 
@@ -853,7 +854,7 @@ static void vh264_isr(void)
             vh264_error_count = current_error_count;
         }
 
-        for (i = 0 ; i < num_frame ; i++) {
+        for (i = 0 ; (i < num_frame) && (!vh264_eos) ; i++) {
             status = READ_VREG(AV_SCRATCH_1 + i);
             buffer_index = status & 0x1f;
 
@@ -877,7 +878,12 @@ static void vh264_isr(void)
             poc_sel = status & 0x200;
             idr_flag = status & 0x400;
             neg_poc = status & 0x800;
-            frame_packing_type = (status >> 12) & 0xf;
+            frame_packing_type = (status >> 12) & 0x7;
+            eos = (status >> 15) & 1;
+
+            if (eos) {
+                vh264_eos = 1;
+            }
 
             b_offset = (status >> 16) & 0xffff;
 #ifdef DROP_B_FRAME_FOR_1080P_50_60FPS
@@ -1444,6 +1450,7 @@ static s32 vh264_init(void)
     stat |= STAT_TIMER_INIT;
 
     vh264_running = 0;    //init here to reset last_mb_width&last_mb_height
+    vh264_eos = 0;
 
     vh264_local_init();
 
-- 
2.19.0

