From 9a70030a5287dbbffd99d946a5035c5db9729957 Mon Sep 17 00:00:00 2001
From: "yun.cai" <yun.cai@amlogic.com>
Date: Tue, 24 Dec 2013 11:33:10 +0800
Subject: [PATCH 2936/5965] DTD: modify dtd

---
 arch/arm/boot/dts/amlogic/aml_top.dtd         |   75 +-
 arch/arm/boot/dts/amlogic/meson6_g18.dtd      | 1093 ++++++++----
 arch/arm/boot/dts/amlogic/meson6_g33_1G.dtd   | 1515 ++++++++++++-----
 arch/arm/mach-meson6/aml_pin.dtd              |  120 +-
 drivers/amlogic/amports/aml_encoder.dtd       |    4 +-
 drivers/amlogic/amports/aml_stream.dtd        |    5 +-
 drivers/amlogic/bluetooth/aml.dtd             |    4 +-
 drivers/amlogic/deinterlace/aml.dtd           |    4 +-
 drivers/amlogic/display/osd/aml.dtd           |   11 +-
 drivers/amlogic/display/osd_ext/aml.dtd       |    7 +-
 drivers/amlogic/input/keyboard/aml.dtd        |   18 +
 drivers/amlogic/mmc/aml.dtd                   |    2 -
 drivers/amlogic/nand/aml.dtd                  |   33 +
 .../power/meson_cs_dcdc_regulator/aml.dtd     |   98 +-
 drivers/amlogic/ppmgr/aml.dtd                 |    4 +-
 drivers/amlogic/wifi/aml.dtd                  |    2 -
 sound/soc/aml/m6/aml.dtd                      |   65 +-
 17 files changed, 2067 insertions(+), 993 deletions(-)
 mode change 100644 => 100755 arch/arm/mach-meson6/aml_pin.dtd
 mode change 100644 => 100755 sound/soc/aml/m6/aml.dtd

diff --git a/arch/arm/boot/dts/amlogic/aml_top.dtd b/arch/arm/boot/dts/amlogic/aml_top.dtd
index c1b8c746d9ca..d495baa98641 100755
--- a/arch/arm/boot/dts/amlogic/aml_top.dtd
+++ b/arch/arm/boot/dts/amlogic/aml_top.dtd
@@ -62,6 +62,7 @@ void root_func(){
 ///	-	Cache
 //$$ MODULE="Cache"
 //$$ DEVICE="cache"
+#ifdef CONFIG_ARCH_MESON8
     cache-controller {
           compatible = "arm,meson-pl310-cache";
           reg = <0xc4200000 0x1000>;
@@ -82,6 +83,21 @@ void root_func(){
           prefetch-prefetch_drop;
           prefetch-prefetch_offset = <7>;
     };
+#else
+		cache-controller {
+          compatible = "arm,meson-pl310-cache";
+          reg = <0xc4200000 0x1000>;
+          cache-unified;
+          cache-level = <2>;
+          aux-instruction_prefetch;
+          aux-data_prefetch;
+          aux-ns_lockdown;
+          aux-ns_int_ctrl;
+          aux-share_override;
+          aux-cache_replace_policy_round_robin;
+          prefetch-prefetch_offset = <6>;
+    };
+#endif
 
 /// ***************************************************************************************
 ///	-	Memory
@@ -89,20 +105,20 @@ void root_func(){
 //$$ DEVICE="memory"
 //$$ L2 PROP_U32 = "aml_reserved_start"
 //$$ L2 PROP_U32 = "aml_reserved_end"
-//$$ L2 PROP_U32 6 = "linux,usable-memory"
+//$$ L2 PROP_U32 = "linux,usable-memory"
 #ifndef CONFIG_ARCH_MESON6
 	memory{
 		device_type = "memory";
-		aml_reserved_start = <0x05000000>; /**reserved memory start */
-		aml_reserved_end = <0x1c2fffff>;/**reserved memory end */
-		linux,usable-memory = <0x00000000 0x04000000 0x1c300000 0x63d00000>;
+		aml_reserved_start = <0x06000000>; /**reserved memory start-for kernel */
+		aml_reserved_end = <0x05000000>;/**reserved uImage and dtb memory-for uboot*/
+		linux,total-memory = <0x40000000>; /**0x40000000--1G memory 0x80000000--2G memory*/
 	};
 #else
 	memory{
 		device_type = "memory";
-		aml_reserved_start = <0x85000000>; /**reserved memory start */
-		aml_reserved_end = <0x9c2fffff>;/**reserved memory end */
-		linux,usable-memory = <0x80000000 0x04000000 0x9c300000 0x23d00000>;
+		aml_reserved_start = <0x85000000>; /**reserved memory start-for kernel */
+		aml_reserved_end = <0x84000000>;/**reserved uImage and dtb memory-for uboot*/
+		linux,total-memory = <0x40000000>;/**0x40000000--1G memory 0x80000000--2G memory*/
 	};
 #endif
 
@@ -135,7 +151,7 @@ void root_func(){
 				3: 182.15M		4: 212.5M		5: 255M
 		    	6: 318.75M		7: 364.3M					 */
 	};
-	
+#endif	
 /// ***************************************************************************************
 ///	-	ION
 //$$ MODULE="ION"
@@ -145,8 +161,9 @@ void root_func(){
         compatible = "amlogic,ion_dev";
         dev_name = "ion_dev";
         status = "ok";
+        reserve-memory = <0x01400000>;
     };
-#endif    
+
 /// **************************************************************************************	
 /// -   DISP&MM-FB
 //$$ MODULE = "DISP&MM-FB"	
@@ -179,7 +196,7 @@ sub_file /drivers/amlogic/amports/aml_encoder.dtd
 ///	-	DISP&MM-VDIN
 //$$ MODULE = "DISP&MM-VDIN"
 #device vdin0 vdin1
-sub_file /drivers/amlogic/tvin/aml.dtd
+#sub_file /drivers/amlogic/tvin/aml.dtd
 
 /// ***************************************************************************************
 ///	-	DISP&MM-AMLVIDEO2
@@ -191,7 +208,7 @@ sub_file /drivers/amlogic/video_dev/aml.dtd
 ///	-	DISP&MM-Video Input Manager	
 //$$ MODULE = "DISP&MM-Video Input Manager"
 #device vm
-sub_file /drivers/amlogic/camera/common/aml.dtd
+#sub_file /drivers/amlogic/camera/common/aml.dtd
 
 /// ***************************************************************************************
 ///	-	DISP&MM-Vout	
@@ -201,6 +218,12 @@ sub_file /drivers/amlogic/display/vout/aml_vout.dtd
 #device mesonvout2
 sub_file /drivers/amlogic/display/vout2/aml.dtd
 
+/// ***************************************************************************************
+///	-	EARLY_INIT
+//$$ MODULE="early_init"
+#device early_init
+sub_file /drivers/amlogic/early_init/aml.dtd
+
 /// ***************************************************************************************
 ///	-	RTC
 //$$ MODULE="RTC"
@@ -222,6 +245,11 @@ sub_file /drivers/amlogic/bluetooth/aml.dtd
 //$$ MODULE="WiFi"
 sub_file /drivers/amlogic/wifi/aml.dtd
 
+/// ***************************************************************************************
+///	-	Ethernet
+//$$ MODULE="Ethernet"
+sub_file /drivers/amlogic/ethernet/aml.dtd
+
 /// ***************************************************************************************
 ///	-	MMC
 //$$ MODULE="MMC"
@@ -237,6 +265,8 @@ sub_file /drivers/amlogic/i2c/aml.dtd
 //$$ MODULE="Power"
 #device dvfs
 sub_file /drivers/amlogic/power/aml_dvfs/aml.dtd
+#device dcdc
+sub_file /drivers/amlogic/power/meson_cs_dcdc_regulator/aml.dtd
 #ifdef CONFIG_ARCH_MESON8
 //$$ DEVICE="arm_pmu"
 //$$ L2 PROP_STR = "status"
@@ -279,7 +309,11 @@ sub_file /drivers/amlogic/input/sensor/aml.dtd
 /// ***************************************************************************************
 ///	-	Audio
 //$$ MODULE="Audio"
-sub_file /sound/soc/aml/aml.dtd
+#ifdef CONFIG_ARCH_MESON8
+sub_file /sound/soc/aml/m8/aml.dtd
+#else
+sub_file /sound/soc/aml/m6/aml.dtd
+#endif
 
 /// ***************************************************************************************
 ///	-	Camera
@@ -298,6 +332,8 @@ sub_file /drivers/amlogic/input/saradc/aml.dtd
 sub_file /drivers/amlogic/input/keyboard/aml.dtd
 #device new_remote
 sub_file /drivers/amlogic/input/new_remote/aml.dtd
+#device remote
+sub_file /drivers/amlogic/input/remote/aml.dtd
 
 /// ***************************************************************************************
 ///	-	Spi
@@ -307,7 +343,11 @@ sub_file /drivers/amlogic/spi_nor/aml.dtd
 /// ***************************************************************************************
 ///	-	Nand
 //$$ MODULE="Nand"
+#ifdef CONFIG_ARCH_MESON8
 sub_file /drivers/amlogic/amlnf/dev/aml.dtd
+#else
+sub_file /drivers/amlogic/nand/aml.dtd
+#endif
 
 /// ***************************************************************************************
 ///	-	Efuse
@@ -334,6 +374,8 @@ sub_file /drivers/amlogic/keymanage/aml.dtd
 //$$ MODULE="PowerManager"
 #ifdef CONFIG_ARCH_MESON8
 sub_file /arch/arm/mach-meson8/aml_pm.dtd
+#else
+sub_file /arch/arm/mach-meson6/aml_pm.dtd
 #endif
 
 /// ***************************************************************************************
@@ -351,6 +393,8 @@ sub_file /drivers/amlogic/cpufreq/aml.dtd
 //$$ MODULE="GPIO"
 #ifdef CONFIG_ARCH_MESON8
 sub_file /arch/arm/mach-meson8/aml_gpio.dtd
+#else
+sub_file /arch/arm/mach-meson6/aml_gpio.dtd
 #endif
 
 /// **************************************************************************************	
@@ -358,13 +402,10 @@ sub_file /arch/arm/mach-meson8/aml_gpio.dtd
 //$$ MODULE="Pinmux"
 #ifdef CONFIG_ARCH_MESON8
 sub_file /arch/arm/mach-meson8/aml_pin.dtd
+#else
+sub_file /arch/arm/mach-meson6/aml_pin.dtd
 #endif
 
-/// ***************************************************************************************
-///	-	Ethernet
-//$$ MODULE="Ethernet"
-sub_file /drivers/amlogic/ethernet/aml.dtd
-
 #the end of dtd file
 }; /* end of / */
 #endif
diff --git a/arch/arm/boot/dts/amlogic/meson6_g18.dtd b/arch/arm/boot/dts/amlogic/meson6_g18.dtd
index d4485a1a1ce5..d04a9413b5c8 100755
--- a/arch/arm/boot/dts/amlogic/meson6_g18.dtd
+++ b/arch/arm/boot/dts/amlogic/meson6_g18.dtd
@@ -10,22 +10,30 @@
  */
 
 /dts-v1/;
-/{
+/// ***************************************************************************************\n
+//$$ PROJECT="meson6"
+//$$ REMOVE 1
+void root_func(){
+//$$ ADD /{
 	compatible = "AMLOGIC,8726_MX";
 	model = "AMLOGIC";
 	interrupt-parent = <&gic>;
 	#address-cells = <1>;
 	#size-cells = <1>;
-
+	
+/// ***************************************************************************************
+///	-	CPU
+//$$ MODULE="CPU"
     cpus {
         #address-cells = <1>;
         #size-cells = <0>;
-
+//$$ DEVICE="cpu0"
         cpu@0 {
             device_type = "cpu";
             compatible = "arm,cortex-a9";
             reg = <0x200>;
         };
+//$$ DEVICE="cpu1"
         cpu@1 {
             device_type = "cpu";
             compatible = "arm,cortex-a9";
@@ -49,14 +57,26 @@
           aux-cache_replace_policy_round_robin;
           prefetch-prefetch_offset = <6>;
     };
-	/*start  memory config*/
+
+/// ***************************************************************************************
+///	-	Memory
+//$$ MODULE="Memory"
+//$$ DEVICE="memory"
+//$$ L2 PROP_U32 = "aml_reserved_start"
+//$$ L2 PROP_U32 = "aml_reserved_end"
+//$$ L2 PROP_U32 = "linux,usable-memory"
 	memory{
 		device_type = "memory";
-		aml_reserved_start = <0x85000000>;
-		aml_reserved_end = <0x84000000>;
-		linux,total-memory = <0x40000000>;
+		aml_reserved_start = <0x85000000>; /**reserved memory start-for kernel */
+		aml_reserved_end = <0x84000000>;/**reserved uImage and dtb memory-for uboot*/
+		linux,total-memory = <0x40000000>;/**0x40000000--1G memory 0x80000000--2G memory*/
 	};
-    gic:interrupt-controller{
+
+/// ***************************************************************************************
+///	-	GIC
+//$$ MODULE="GIC"
+//$$ DEVICE="gic"	
+	gic:interrupt-controller{
         compatible = "arm,cortex-a9-gic";
         reg = <0xc4301000 0x1000
                0xc4300100 0x0100>;
@@ -76,7 +96,15 @@
         status = "ok";
         reserve-memory = <0x01200000>;
     };
-    
+
+/// **************************************************************************************	
+/// -   DISP&MM-FB
+//$$ MODULE = "DISP&MM-FB"	
+//$$ DEVICE = "mesonfb"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reserve-memory"
+//$$ L2 PROP_U32 = "vmode"
+//$$ L2 PROP_U32 5 = "display_size_default"
 	mesonfb{
 		compatible = "amlogic,mesonfb";
 		dev_name = "mesonfb";
@@ -86,38 +114,61 @@
 	  scale_mode = <0>; /*0:default 1:new*/
 	  display_size_default = <1920 1080 1920 2160 32>;
 	};
-				
+//$$ DEVICE="deinterlace"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "reserve-memory"
+    deinterlace{
+		compatible = "amlogic,deinterlace";
+		dev_name = "deinterlace";
+		status = "okay";
+		reserve-memory = <0x02300000>;
+	};
+
+/// ***************************************************************************************
+///	-	DISP&MM-A/V stream
+//$$ MODULE = "DISP&MM-A/V stream"
+//$$ DEVICE="mesonstream"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reserve-memory"
 	mesonstream{
 		compatible = "amlogic,mesonstream";
 		dev_name = "mesonstream.0";
 		status = "okay";
 		reserve-memory = <0x04000000 0x00a00000>;
 	};
-	
-	vdin0{
-		compatible = "amlogic,vdin";
-		dev_name = "vdin";
-		status = "okay";
-		reserve-memory = <0x04000000 0x04000000>;
-		irq = <115>;
-		vdin_id = <0>;
-	};
 
-	deinterlace{
-		compatible = "amlogic,deinterlace";
-		dev_name = "deinterlace";
-		status = "okay";
-		reserve-memory = <0x02300000>;
-	};
-	
-	ppmgr{
+/// ***************************************************************************************
+///	-	DISP&MM-PostProcess
+//$$ MODULE="DISP&MM-PostProcess"
+//$$ DEVICE="ppmgr"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 ="reserve-memory"
+    ppmgr{
 		compatible = "amlogic,ppmgr";
 		dev_name = "ppmgr";
 		status = "okay";
 		reserve-memory = <0x02c00000>;		
 	};
-	/*end*/
-	
+
+
+/// ***************************************************************************************
+///	-	DISP&MM-Vout
+//$$ MODULE = "DISP&MM-Vout"
+//$$ DEVICE = "mesonvout"
+//$$ L2 PROP_STR = "status"
+	mesonvout{
+		compatible = "amlogic,mesonvout";
+		dev_name = "mesonvout";
+		status = "okay";
+	};
+
+/// ***************************************************************************************
+///	-	EARLY_INIT
+//$$ MODULE="early_init"
+//$$ DEVICE = "early_init"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_STR ="gpio-1"
+//$$ L2 PROP_STR = "gpio-2"
 	early_init{
 		compatible = "amlogic,early_init";
 		dev_name = "early_init";
@@ -125,43 +176,24 @@
 		gpio-1 = "GPIOAO_3";
 		gpio-2 = "GPIOAO_2";
 	};
-	
-	usb_con {
-		lm-compatible = "logicmodule-bus";
-					
-		usb_b{
-			lm-compatible = "amlogic,usb";
-			lm-periph-id = <1>; /* lm name */
-			clock-src = "usb1";
-			port-id = <1>; /* ref to mach/usb.h */
-			port-type = <1>;	/* 0: otg, 1: host, 2: slave */
-			port-speed = <0>; /* 0: default, 1: high, 2: full */
-			port-config = <0>; /* 0: default */
-			port-dma = <0>; /* 0: default, 1: single, 2: incr, 3: incr4, 4: incr8, 5: incr16, 6: disable*/
-			port-id-mode = <1>; /* 0: hardware, 1: sw_host, 2: sw_slave*/
-			status = "okay";
-		};
-
-		usb_a{
-			lm-compatible = "amlogic,usb";
-			lm-periph-id = <0>; /* lm name */
-			clock-src = "usb0";
-			port-id = <0>; /* ref to mach/usb.h */
-			port-type = <0>;	/* 0: otg, 1: host, 2: slave */
-			port-speed = <0>; /* 0: default, high, 1: full */
-			port-config = <0>; /* 0: default */
-			port-dma = <0>; /* 0: default, 1: single, 2: incr, 3: incr4, 4: incr8, 5: incr16, 6: disable*/
-			port-id-mode = <0>; /* 0: hardware, 1: sw_host, 2: sw_slave*/
-			gpio-vbus-power = "GPIOD_9";
-			gpio-work-mask	= <1>; /*0: work on pulldown,1:work on pullup*/
-			status = "okay";
-		};
-	};
 
-	rtc{
+/// ***************************************************************************************
+///	-	RTC
+//$$ MODULE="RTC"
+//$$ DEVICE="Rtc"
+//$$ L2 PROP_STR = "status"
+    rtc{
 		compatible = "amlogic,aml_rtc";
+		status = "okay";
 	};
-	
+
+/// ***************************************************************************************
+///	-	UART
+//$$ MODULE="UART"
+//$$ DEVICE="uart_ao"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_STR = "pinctrl-names"
+//$$ L3 PROP_CHOICE "uart_ao_pin_match" = "pinctrl-0"
 	uart_ao{
 		compatible = "amlogic,aml_uart";
 		port_name = "uart_ao";
@@ -171,6 +203,8 @@
 		pinctrl-0 = <&ao_uart_pins>;
 	};
 	
+//$$ DEVICE="uart_0"
+//$$ L2 PROP_STR = "status"
 	uart_0{
 		compatible = "amlogic,aml_uart";
 		port_name = "uart_a";
@@ -178,6 +212,8 @@
 		dev_name = "uart_0";
 	};
 	
+//$$ DEVICE="uart_1"
+//$$ L2 PROP_STR = "status"
 	uart_1{
 		compatible = "amlogic,aml_uart";
 		port_name = "uart_b";
@@ -185,6 +221,8 @@
 		dev_name = "uart_1";
 	};
 	
+//$$ DEVICE="uart_2"
+//$$ L2 PROP_STR = "status"
 	uart_2{
 		compatible = "amlogic,aml_uart";
 		port_name = "uart_c";
@@ -192,6 +230,8 @@
 		dev_name = "uart_2";
 	};
 	
+//$$ DEVICE="uart_3"
+//$$ L2 PROP_STR = "status"	
 	uart_3{
 		compatible = "amlogic,aml_uart";
 		port_name = "uart_d";
@@ -199,18 +239,253 @@
 		dev_name = "uart_3";
 	};
 
-	aml_pm{
-		compatible = "amlogic,pm";
-		dev_name = "aml_pm";
+/// ***************************************************************************************
+///	-	WiFi
+//$$ MODULE="WiFi"
+//$$ DEVICE="wifi_power"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_STR = "power_gpio"
+    wifi_power{
+        compatible = "amlogic,wifi_power";
+        dev_name = "wifi_power";
+	status = "okay";
+        power_gpio = "GPIOE_11";
+    };
+    
+/// ***************************************************************************************
+///	-	MMC
+//$$ MODULE="MMC"
+//$$ DEVICE="aml_sdio"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+//$$ L2 PROP_STR 7 = "pinctrl-names"
+//$$ L2 PROP_CHOICE "sdio_pin_0_match" = "pinctrl-0"
+//$$ L2 PROP_CHOICE "sdio_pin_1_match" = "pinctrl-1"
+//$$ L2 PROP_CHOICE "sdio_pin_2_match" = "pinctrl-2"
+//$$ L2 PROP_CHOICE "sdio_pin_3_match" = "pinctrl-3"
+//$$ L2 PROP_CHOICE "sdio_pin_4_match" = "pinctrl-4"
+//$$ L2 PROP_CHOICE "sdio_pin_5_match" = "pinctrl-5"
+//   L2 PROP_CHOICE "sdio_pin_6_match" = "pinctrl-6"
+	sdio{
+	    compatible = "amlogic,aml_sdio";
+	    dev_name = "aml_sdio.0";
+	    status = "okay";
+	    reg = <0xc1108c20 0x20>;
+	    pinctrl-names = "sd_clk_cmd_pins", "sd_all_pins", "emmc_clk_cmd_pins", "emmc_all_pins", "sdio_clk_cmd_pins", "sdio_all_pins"; /*sd:sdio_b, emmc:sdio_c, sdio:sdio_a*/
+	    // pinctrl-0 = <&sd_pins>;
+	    // pinctrl-1 = <&emmc_pins>;
+	    // pinctrl-2 = <&sdio_pins>;
+	    pinctrl-0 = <&sd_clk_cmd_pins>;
+	    pinctrl-1 = <&sd_all_pins>;
+	    pinctrl-2 = <&emmc_clk_cmd_pins>;
+	    pinctrl-3 = <&emmc_all_pins>;
+	    pinctrl-4 = <&sdio_clk_cmd_pins>;
+	    pinctrl-5 = <&sdio_all_pins>;
+	
+//$$ DEVICE="sd"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 = "port"
+//$$ L2 PROP_STR = "pinname"
+//$$ L3 PROP_U32 = "ocr_avail"
+//$$ L2 PROP_STR 3 = "caps"
+//$$ L3 PROP_U32 = "f_min"
+//$$ L3 PROP_U32 = "f_max"
+//$$ L3 PROP_U32 = "f_max_w"
+//$$ L3 PROP_U32 = "max_req_size"
+//$$ L2 PROP_STR = "gpio_dat3"
+//$$ L2 PROP_STR = "jtag_pin"
+//$$ L2 PROP_STR = "gpio_cd"
+//$$ L2 PROP_STR = "gpio_ro"
+//$$ L2 PROP_U32 = "irq_in"
+//$$ L2 PROP_U32 = "irq_out"
+//$$ L2 PROP_U32 = "card_type"
+	    sd{
+	    	status = "okay";
+	        port = <1>;          /**0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
+	        pinname = "sd";
+	        ocr_avail = <0x200000>;          /**VDD voltage 3.3 ~ 3.4 */
+	        caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED";
+	        f_min = <300000>;
+	        f_max = <50000000>;
+	        f_max_w = <50000000>;
+	        max_req_size = <0x20000>;          /**128KB*/
+	        gpio_dat3 = "CARD_3";
+	        gpio_cd = "CARD_6";
+	        gpio_power = "CARD_8";
+	        power_level = <0>;
+	        irq_in = <5>;
+	        #irq_in_edge = "GPIO_IRQ_FALLING";
+	        irq_out = <6>;
+	        #irq_out_edge = "GPIO_IRQ_RISING";
+	        card_type = <5>; /* 0:unknown, 1:mmc card(include eMMC), 2:sd card(include tSD), 3:sdio device(ie:sdio-wifi), 4:SD combo (IO+mem) card, 5:NON sdio device(means sd/mmc card), other:reserved */
+	    };
+	    	
+//$$ DEVICE="emmc"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 = "port"
+//$$ L2 PROP_STR = "pinname"
+//$$ L3 PROP_U32 = "ocr_avail"
+//$$ L2 PROP_STR 4 = "caps"
+//$$ L3 PROP_U32 = "f_min"
+//$$ L3 PROP_U32 = "f_max"
+//$$ L3 PROP_U32 = "f_max_w"
+//$$ L3 PROP_U32 = "max_req_size"
+//$$ L2 PROP_STR = "gpio_dat3"
+//$$ L2 PROP_U32 = "card_type"
+	//        emmc{
+	//            port = <2>;          /*0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
+	//            pinname = "emmc";
+	//            ocr_avail = <0x200000>;          /*VDD voltage 3.3 ~ 3.4 */
+	//            caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED", "MMC_CAP_NONREMOVABLE"; // MMC_CAP_NEEDS_POLL -- for detect, MMC_CAP_NONREMOVABLE -- for eMMC/TSD
+	//            f_min = <300000>;
+	//            f_max = <50000000>;
+	//            f_max_w = <50000000>;
+	//            max_req_size = <0x20000>;          /*128KB*/
+	//            gpio_dat3 = "BOOT_3";
+	//            #gpio_cd = "CARD_6";
+	//            #gpio_power = "CARD_8";
+	//            #power_level = <0>;
+	//            card_type = <5>; /* 0:unknown, 1:mmc card(include eMMC), 2:sd card(include tSD), 3:sdio device(ie:sdio-wifi), 4:SD combo (IO+mem) card, 5:NON sdio device(means sd/mmc card), other:reserved */
+	//        };
+	    
+	    // sdio{
+	        // port = <0>;          /*0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
+	        // pinname = "sdio";
+	        // ocr_avail = <0x200000>;          /*VDD voltage 3.3 ~ 3.4 */
+	        // caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED", "MMC_CAP_NONREMOVABLE";
+	        // f_min = <300000>;
+	        // f_max = <50000000>;
+	        // f_max_w = <50000000>;
+	        // max_req_size = <0x20000>;          /*128KB*/
+	        // card_type = <3>; /* 0:unknown, 1:mmc card(include eMMC), 2:sd card(include tSD), 3:sdio device(ie:sdio-wifi), 4:SD combo (IO+mem) card, 5:NON sdio device(means sd/mmc card), other:reserved */
+	    // };
 	};
+	
+	// sdhc{
+	    // compatible = "amlogic,aml_sdhc";
+	    // dev_name = "aml_sdhc.0";
+	    // reg = <0xc1108e00 0x30>;
+	    // pinctrl-names = "sd"; /*sd:sdio_b, emmc:sdio_c, sdio:sdio_a*/
+	    // pinctrl-0 = <&sdhc_b_pins>;
+	
+	    // sd{
+	        // port = <4>;          /*0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
+	        // pinname = "sd";
+	        // ocr_avail = <0x200000>;          /*VDD voltage 3.3 ~ 3.4 */
+	        // caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED";
+	        // f_min = <300000>;
+	        // f_max = <50000000>;
+	        // f_max_w = <50000000>;
+	        // max_req_size = <0x80000>;          /*512KB*/
+	        // gpio_cd = "CARD_6";
+	        // gpio_power = "CARD_8";
+	        // power_level = <0>;
+	        // irq_in = <5>;
+	        // irq_out = <6>;
+	    // };
+	 // };
 
-    cpufreq-meson{
-        compatible = "amlogic,cpufreq-meson";
-        status = "okay";
-    };
 
-    meson_vcck_dvfs_driver{
+/// ***************************************************************************************
+///	-	I2C
+//$$ MODULE="I2C"
+//$$ DEVICE="I2C_AO"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+//$$ L3 PROP_STR = "pinctrl-names"
+//$$ L2 PROP_CHOICE "I2C_AO_pin_match" = "pinctrl-0"	
+	i2c@c8100500{ /*I2C-AO*/
+		compatible = "amlogic,aml_i2c";
+		dev_name = "i2c-AO";
+		status = "ok";
+		reg = <0xc8100500 0x1d>;
+		#address-cells = <1>;
+		#size-cells = <0>;
+		device_id = <0>;
+		pinctrl-names="default";
+		pinctrl-0=<&ao_i2c_master>;
+	};
+
+//$$ DEVICE = "I2C_A"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+//$$ L3 PROP_STR = "pinctrl-names"
+//$$ L2 PROP_CHOICE "I2C_A_pin_match" = "pinctrl-0"
+    i2c@c1108500{ /*I2C-A*/
+		compatible = "amlogic,aml_i2c";
+		dev_name = "i2c-A";
+		status = "ok";
+		reg = <0xc1108500 0x20>;
+		device_id = <1>;
+		pinctrl-names="default";
+		pinctrl-0=<&a_i2c_master>;
+		#address-cells = <1>;
+		#size-cells = <0>;	
+	};
+	
+//$$ DEVICE="I2C_B"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2="reg"
+//$$ L3 PROP_STR = "pinctrl-names"
+//$$ L2 PROP_CHOICE "I2C_B_pin_match" = "pinctrl-0"	
+	i2c@c11087c0{ /*I2C-B*/
+		compatible = "amlogic,aml_i2c";
+		dev_name = "i2c-B";
+		status = "ok";
+		reg = <0xc11087c0 0x20>;
+		device_id = <2>;
+		pinctrl-names="default";
+		pinctrl-0=<&b_i2c_master>;
+		#address-cells = <1>;
+		#size-cells = <0>;
+	};
+
+/// ***************************************************************************************
+///	-	Power
+//$$ MODULE="Power"
+//$$ DEVICE="dvfs"
+//$$ L2 PROP_STR = "status"
+    dvfs {
+        compatible = "amlogic, amlogic-dvfs";                   /** fixed for driver, don't change       */
+        #address-cells = <1>;
+        #size-cells = <0>;
+        status = "ok";
+
+//$$ L2 PROP_U32 = "dvfs_id"
+//$$ L2 PROP_U32 = "table_count"
+//$$ L2 PROP_U32 11*3 = "dvfs_table"
+        vcck_dvfs {
+            dvfs_id     = <1>;                                  /** must be value of (1 << n)            */
+            table_count = <11>;                                 /** must be correct count for dvfs_table */
+            dvfs_table  = <
+                /* NOTE: frequent in this table must be ascending order */
+                /* frequent(Khz)    min_uV      max_uV                  */
+                 200000             1040000     1040000
+                 600000             1040000     1040000
+                 792000             1040000     1040000
+                 816000             1110000     1110000
+                 840000             1110000     1110000
+                 984000             1140000     1140000
+                1000000             1140000     1140000
+                1080000             1240000     1240000
+                1200000             1260000     1260000
+                1320000             1330000     1330000
+                1500000             1330000     1330000
+            >;
+	};
+    };
+//$$ DEVICE="meson_vcck_dvfs_driver"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "default_uV"
+//$$ L2 PROP_STR = "pinctrl-names"
+//$$ L2 PROP_CHOICE "meson_vcck_dvfs_pin_0_match" = "pinctrl-0"
+//$$ L2 PROP_U32 = "use_pwm"
+//$$ L2 PROP_U32 = "table_count"
+//$$ L2 PROP_U32 16*2 = "cs_voltage_table"
+	meson_vcck_dvfs_driver{
         compatible = "amlogic, meson_vcck_dvfs";
+        dev_name = "meson_vcck_dvfs_driver";
+        status = "ok";
         default_uV = <1110000>;
         pinctrl-names = "default";
         pinctrl-0 = <&aml_pwm_pins>;
@@ -245,240 +520,93 @@
             0x01001b        1380000
             0x00001c        1400000
         >;   
-    };   
+    };   	
 
-    dvfs {
-        compatible = "amlogic, amlogic-dvfs";                   /** fixed for driver, don't change       */
-        #address-cells = <1>;
-        #size-cells = <0>;
-        status = "ok";
-
-        vcck_dvfs {
-            dvfs_id     = <1>;                                  /** must be value of (1 << n)            */
-            table_count = <11>;                                 /** must be correct count for dvfs_table */
-            dvfs_table  = <
-                /* NOTE: frequent in this table must be ascending order */
-                /* frequent(Khz)    min_uV      max_uV                  */
-                 200000             1040000     1040000
-                 600000             1040000     1040000
-                 792000             1040000     1040000
-                 816000             1110000     1110000
-                 840000             1110000     1110000
-                 984000             1140000     1140000
-                1000000             1140000     1140000
-                1080000             1240000     1240000
-                1200000             1260000     1260000
-                1320000             1330000     1330000
-                1500000             1330000     1330000
-            >;
-	};
-    };
+   
 
+/// ***************************************************************************************
+///	-	USB Controller
+//$$ MODULE="USB Controller"
+    usb_con {
+		lm-compatible = "logicmodule-bus";
+									
+//$$ DEVICE="usb_b"
+//$$ L2 PROP_U32 = "lm-periph-id" 
+//$$ L2 PROP_STR = "clock-src"
+//$$ L2 PROP_U32 = "port-id"
+//$$ L2 PROP_U32 = "port-type"
+//$$ L2 PROP_U32 = "port-speed"
+//$$ L2 PROP_U32 = "port-config"
+//$$ L2 PROP_U32 = "port-dma"
+//$$ L2 PROP_U32 = "port-id-mode"
+//$$ L2 PROP_STR = "status"
+        usb_b{
+			lm-compatible = "amlogic,usb";
+			lm-periph-id = <1>; /** lm name */
+			clock-src = "usb1"; /** clock src */
+			port-id = <1>;   /** ref to mach/usb.h */
+			port-type = <1>;	/** 0: otg, 1: host, 2: slave */
+			port-speed = <0>; /** 0: default, 1: high, 2: full */
+			port-config = <0>; /** 0: default */
+			port-dma = <0>; /** 0: default, 1: single, 2: incr, 3: incr4, 4: incr8, 5: incr16, 6: disable*/
+			port-id-mode = <1>; /** 0: hardware, 1: sw_host, 2: sw_slave*/
+			status = "okay";
+		};
 
-	
-	i2c@c8100500{ /*I2C-AO*/
-		compatible = "amlogic,aml_i2c";
-		dev_name = "i2c-AO";
-		reg = <0xc8100500 0x1d>;
-		device_id = <0>;
-		pinctrl-names="default";
-		pinctrl-0=<&ao_i2c_master>;
-	};
-	
-	i2c@c1108500{ /*I2C-A*/
-		compatible = "amlogic,aml_i2c";
-		dev_name = "i2c-A";
-		reg = <0xc1108500 0x20>;
-		device_id = <1>;
-		pinctrl-names="default";
-		pinctrl-0=<&a_i2c_master>;
-		#address-cells = <1>;
-		#size-cells = <0>;	
-	};
-	
-	i2c@c11087c0{ /*I2C-B*/
-		compatible = "amlogic,aml_i2c";
-		dev_name = "i2c-B";
-		reg = <0xc11087c0 0x20>;
-		device_id = <2>;
-		pinctrl-names="default";
-		pinctrl-0=<&b_i2c_master>;
-		#address-cells = <1>;
-		#size-cells = <0>;
-		
-		i2c@1A{
-			compatible = "asoc,rt5631";
-			reg = <0x1A>;
+//$$ DEVICE="usb_a"
+//$$ L2 PROP_U32 = "lm-periph-id"
+//$$ L2 PROP_STR = "clock-src"
+//$$ L2 PROP_U32 = "port-id"
+//$$ L2 PROP_U32 = "port-type"
+//$$ L2 PROP_U32 = "port-speed"
+//$$ L2 PROP_U32 = "port-config"
+//$$ L2 PROP_U32 = "port-dma"
+//$$ L2 PROP_U32 = "port-id-mode"
+//$$ L2 PROP_STR = "gpio-vbus-power"
+//$$ L2 PROP_U32 = "gpio-work-mask"
+// L2 PROP_U32 = "charger_detect"
+//$$ L2 PROP_STR = "status"
+		usb_a{
+			lm-compatible = "amlogic,usb";
+			lm-periph-id = <0>; /** lm name */
+			clock-src = "usb0"; /** clock src */
+			port-id = <0>;  /** ref to mach/usb.h */
+			port-type = <0>;	/** 0: otg, 1: host, 2: slave */
+			port-speed = <0>; /** 0: default, high, 1: full */
+			port-config = <0>; /** 0: default */
+			port-dma = <0>; /** 0: default, 1: single, 2: incr, 3: incr4, 4: incr8, 5: incr16, 6: disable*/
+			port-id-mode = <0>; /** 0: hardware, 1: sw_host, 2: sw_slave*/
+			gpio-vbus-power = "GPIOD_9";
+			gpio-work-mask	= <1>; /**0: work on pulldown,1:work on pullup*/
+			status = "okay";
 		};
 	};
 	
-	amhdmitx{
-		compatible = "amlogic,amhdmitx";
-		dev_name = "amhdmitx";
-        vend-data = <&vend_data>;
-        pwr-ctrl = <&pwr_ctrl>;
-		phy-size = <3>;
-		phy-data = <27  0x16  0x30    /* 480i/p 576i/p */
-				 74  0x16  0x40    /* 720p 1080i */
-				 148  0x16  0x40   /* 1080p */
-				>;
-        vend_data: vend_data{
-            vendor_name = "Amlogic";           /* Max Chars: 8     */
-            vendor_id = <0x000000>;                 /* Refer to http://standards.ieee.org/develop/regauth/oui/oui.txt   */
-            product_desc = "MX MBox G18Ref";        /* Max Chars: 16    */
-            cec_osd_string = "Amlogic MBox";        /* Max Chars: 14    */
-        };
-        pwr_ctrl: pwr_ctrl{
-            pwr_5v_on = "cpu","GPIOD_5","H";
-            pwr_5v_off = "cpu","GPIOD_5","L";
-            pwr_3v3_on = "";
-            pwr_3v3_off = "";
-            pwr_hpll_vdd_on = "";
-            pwr_hpll_vdd_off = "";
-        };
-	};
-	
-	mesonvout{
-		compatible = "amlogic,mesonvout";
-		dev_name = "mesonvout";
-		/*reg = <0 0>;*/
-	};
 	
 
-    vdacswitch{
-        compatible = "amlogic,vdacswitch";
-        dev_name = "vdacswitch";
-        hw-switch = <&hw_switch>;
-        hw_switch: hw_switch{
-            vout_cvbs = "GPIOC_2", "H", "GPIOC_3", "H";
-            vout_ypbr = "GPIOC_2", "L", "GPIOC_3", "L";
-            vout_vga  = "GPIOC_2", "H", "GPIOC_3", "L";
-        };
-    };
-		
-	card{
-		compatible = "amlogic,aml_card";
-		dev_name = "aml_sd_mmc.0";
-		pinctrl-names="sdhc_b","sdhc_c","sdhc_a";
-		pinctrl-0=<&sdhc_b_pins>;
-		pinctrl-1=<&sdhc_c_pins>;
-		pinctrl-2=<&sdhc_a_pins>;
-	};
-	sdio{
-        compatible = "amlogic,aml_sdio";
-        dev_name = "aml_sdio.0";
-        reg = <0xc1108c20 0x20>;
-        pinctrl-names = "sd_clk_cmd_pins", "sd_all_pins", "emmc_clk_cmd_pins", "emmc_all_pins", "sdio_clk_cmd_pins", "sdio_all_pins"; /*sd:sdio_b, emmc:sdio_c, sdio:sdio_a*/
-        // pinctrl-0 = <&sd_pins>;
-        // pinctrl-1 = <&emmc_pins>;
-        // pinctrl-2 = <&sdio_pins>;
-        pinctrl-0 = <&sd_clk_cmd_pins>;
-        pinctrl-1 = <&sd_all_pins>;
-        pinctrl-2 = <&emmc_clk_cmd_pins>;
-        pinctrl-3 = <&emmc_all_pins>;
-        pinctrl-4 = <&sdio_clk_cmd_pins>;
-        pinctrl-5 = <&sdio_all_pins>;
-
-        sd{
-            port = <1>;          /*0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
-            pinname = "sd";
-            ocr_avail = <0x200000>;          /*VDD voltage 3.3 ~ 3.4 */
-            caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED";
-            f_min = <300000>;
-            f_max = <50000000>;
-            f_max_w = <50000000>;
-            max_req_size = <0x20000>;          /*128KB*/
-            gpio_dat3 = "CARD_3";
-            gpio_cd = "CARD_6";
-            gpio_power = "CARD_8";
-            power_level = <0>;
-            irq_in = <5>;
-            #irq_in_edge = "GPIO_IRQ_FALLING";
-            irq_out = <6>;
-            #irq_out_edge = "GPIO_IRQ_RISING";
-            card_type = <5>; /* 0:unknown, 1:mmc card(include eMMC), 2:sd card(include tSD), 3:sdio device(ie:sdio-wifi), 4:SD combo (IO+mem) card, 5:NON sdio device(means sd/mmc card), other:reserved */
-        };
-        	
-//        emmc{
-//            port = <2>;          /*0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
-//            pinname = "emmc";
-//            ocr_avail = <0x200000>;          /*VDD voltage 3.3 ~ 3.4 */
-//            caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED", "MMC_CAP_NONREMOVABLE"; // MMC_CAP_NEEDS_POLL -- for detect, MMC_CAP_NONREMOVABLE -- for eMMC/TSD
-//            f_min = <300000>;
-//            f_max = <50000000>;
-//            f_max_w = <50000000>;
-//            max_req_size = <0x20000>;          /*128KB*/
-//            gpio_dat3 = "BOOT_3";
-//            #gpio_cd = "CARD_6";
-//            #gpio_power = "CARD_8";
-//            #power_level = <0>;
-//            card_type = <5>; /* 0:unknown, 1:mmc card(include eMMC), 2:sd card(include tSD), 3:sdio device(ie:sdio-wifi), 4:SD combo (IO+mem) card, 5:NON sdio device(means sd/mmc card), other:reserved */
-//        };
-        
-        // sdio{
-            // port = <0>;          /*0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
-            // pinname = "sdio";
-            // ocr_avail = <0x200000>;          /*VDD voltage 3.3 ~ 3.4 */
-            // caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED", "MMC_CAP_NONREMOVABLE";
-            // f_min = <300000>;
-            // f_max = <50000000>;
-            // f_max_w = <50000000>;
-            // max_req_size = <0x20000>;          /*128KB*/
-            // card_type = <3>; /* 0:unknown, 1:mmc card(include eMMC), 2:sd card(include tSD), 3:sdio device(ie:sdio-wifi), 4:SD combo (IO+mem) card, 5:NON sdio device(means sd/mmc card), other:reserved */
-        // };
-    };
-    
-    // sdhc{
-        // compatible = "amlogic,aml_sdhc";
-        // dev_name = "aml_sdhc.0";
-        // reg = <0xc1108e00 0x30>;
-        // pinctrl-names = "sd"; /*sd:sdio_b, emmc:sdio_c, sdio:sdio_a*/
-        // pinctrl-0 = <&sdhc_b_pins>;
-
-        // sd{
-            // port = <4>;          /*0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
-            // pinname = "sd";
-            // ocr_avail = <0x200000>;          /*VDD voltage 3.3 ~ 3.4 */
-            // caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED";
-            // f_min = <300000>;
-            // f_max = <50000000>;
-            // f_max_w = <50000000>;
-            // max_req_size = <0x80000>;          /*512KB*/
-            // gpio_cd = "CARD_6";
-            // gpio_power = "CARD_8";
-            // power_level = <0>;
-            // irq_in = <5>;
-            // irq_out = <6>;
-        // };
-     // };
-	
-	meson-eth{
-                compatible = "amlogic,meson-eth";
-                dev_name = "meson-eth";
-                status = "okay";
-		ethbaseaddr = <0xf3610000>;
-                interruptnum = <40>;
-	};
-
-	meson-remote{
-		compatible = "amlogic,aml_remote";
-		dev_name = "meson-remote";
-		ao_baseaddr = <0xf3100480>;
-		pinctrl-names="default";
-		pinctrl-0=<&remote_pins>;
-	};
-	
-	audio{
-		compatible = "amlogic,aml-audio";
-		dev_name = "aml-audio.0";
-	};
+/// ***************************************************************************************
+///	-	Audio
+//$$ MODULE="Audio"
+//$$ DEVICE="audio"
+//$$ L2 PROP_STR = "status"
+		audio{
+			compatible = "amlogic,aml-audio";
+			dev_name = "aml-audio.0";
+			status = "okay";
+		};
 
-	audio_dai{
-		compatible = "amlogic,aml-dai";
-		dev_name = "aml-dai.0";
-	};
+//$$ DEVICE="audio_dai"
+//$$ L2 PROP_STR = "status"
+    audio_dai{
+        compatible = "amlogic,aml-dai";
+        dev_name = "aml-dai.0";
+        status = "okay";
+    };
 
-	
+//$$ DEVICE="dummy_codec_audio"
+//$$ L2 PROP_STR = "status"	
+//$$ L2 PROP_STR = "pinctrl-names"
+//$$ L3 PROP_CHOICE "dummy_codec_audio_0_pin_match" = "pinctrl-0"
 	dummy_codec_audio{
         status = "okay";
         compatible = "amlogic,aml_dummy_codec_audio";
@@ -486,25 +614,38 @@
         pinctrl-names = "dummy_codec_audio";
         pinctrl-0 = <&aml_dummy_codec_pins>;
     };
-    
+ 
+//$$ DEVICE="dummy_codec"
+//$$ L2 PROP_STR = "status"	 
     dummy_codec{
         status = "okay";
         compatible = "amlogic,aml_dummy_codec";
         dev_name = "dummy_codec.0";
     };
  
-    wifi_power{
-        compatible = "amlogic,wifi_power";
-        dev_name = "wifi_power";
-        power_gpio = "GPIOE_11";
-    };
     
+    
+/// ***************************************************************************************
+///	-	Input
+//$$ MODULE="Input"
+//$$ DEVICE="saradc"
+//$$ L2 PROP_STR = "status"
 	saradc{
 		compatible = "amlogic,saradc";
+		status = "okay";
 	};
-
+//$$ DEVICE="adc_keypad"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_STR 5 = "key_name"
+//$$ L2 PROP_U32 = "key_num"
+//$$ L2 PROP_U32 = "name_len"
+//$$ L2 PROP_U32 5 = "key_code"
+//$$ L2 PROP_U32 5 = "key_chan"
+//$$ L2 PROP_U32 5 = "key_val"
+//$$ L2 PROP_U32 5 = "key_tolerance"
 	adc_keypad{
 		compatible = "amlogic,adc_keypad";
+		status = "okay";
 		key_num = <5>;
 		name_len = <20>;
 		key_name = "menu","vol-","vol+","back","home";
@@ -513,20 +654,48 @@
 		key_val = <9 275 150 392 513>;
 		key_tolerance = <40 40 40 40 40>;
 	};
-
+//$$ DEVICE="key_input"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "scan_period"
+//$$ L2 PROP_U32 = "fuzz_time"
+//$$ L2 PROP_U32 = "key_code_list"
+//$$ L2 PROP_U32 = "key_num"
+//$$ L2 PROP_U32 = "config"
 	key_input{
 		compatible = "amlogic,key_input";
+		status = "okay";
 		scan_period = <20>;
 		fuzz_time = <60>;
 		key_code_list = <116>;
 		key_num = <1>;
 		config = <0>;
 	};
+//$$ DEVICE="aml_remote"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "ao_baseaddr"
+//$$ L2 PROP_STR = "pinctrl-names"
+//$$ L2 PROP_CHOICE "Remote_pin_match" = "pinctrl-0"
+	meson-remote{
+		compatible = "amlogic,aml_remote";
+		dev_name = "meson-remote";
+		status = "okay";
+		ao_baseaddr = <0xf3100480>;
+		pinctrl-names="default";
+		pinctrl-0=<&remote_pins>;
+	};
+
 	
-    securitykey{ 
-        compatible = "amlogic,aml_keys"; 
-    }; 
-	
+/// ***************************************************************************************
+///	-	Spi
+//$$ MODULE="Spi"
+//$$ DEVICE="spi"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 2 = "reg"
+//$$ L2 PROP_STR = "pinctrl-names"
+//$$ L2 PROP_CHOICE "Spi_pin_0_match" = "pinctrl-0"
+//$$ L2 PROP_U32 = "nr-parts"
+//$$ L2 PROP_CHOICE "Spi_nr-part-0_match" = "nr-part-0"
+//$$ L2 PROP_CHOICE "Spi_nr-part-1_match" = "nr-part-1"
 	spi@cc000000{
 		compatible = "amlogic,apollo_spi_nor";
 		status = "ok";
@@ -538,12 +707,20 @@
 		nr-part-0 = <&bootloader>;
 		nr-part-1 = <&ubootenv>;
 
+//$$ MATCH "Spi_nr-part-0_match" = <&bootloader>
+//$$ L2 PROP_STR = "name"
+//$$ L2 PROP_U32 = "offset"
+//$$ L2 PROP_U32 = "size"
 		bootloader:bootloader{
 			name = "bootloader";
 			offset = <0>;
 			size = <0x60000>;
 		};
 
+//$$ MATCH "Spi_nr-part-1_match" = <&ubootenv>
+//$$ L2 PROP_STR = "name"
+//$$ L2 PROP_U32 = "offset"
+//$$ L2 PROP_U32 = "size"
 		ubootenv:ubootenv{
 			name = "ubootenv";
       offset = <0x80000>;
@@ -551,9 +728,23 @@
     };
 	};
 
+/// ***************************************************************************************
+///	-	Nand
+//$$ MODULE="Nand"
+//$$ DEVICE="aml_nand"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+//$$ L2 PROP_STR 2 = "pinctrl-names"
+//$$ L2 PROP_CHOICE 7 "Nand_pin_0_match" = "pinctrl-0"
+//$$ L2 PROP_CHOICE 7 "Nand_pin_1_match" = "pinctrl-1"
+//$$ L3 PROP_STR 2 ="plat-names"
+//$$ L2 PROP_U32 = "plat-num"
+//$$ L2 PROP_CHOICE "plat-part-0_match" = "plat-part-0"
+// L2 PROP_CHOICE "plat-part-1_match" = "plat-part-1"
 	nand{
 		compatible = "amlogic,aml_nand";
 		dev_name = "nand";
+		status = "okay";
 		reg = <0xc1108600 0x24>;
 		pinctrl-names = "nand_rb_mod","nand_norb_mod";
 		pinctrl-0 = <&nand_input_state &conf_nand_state &nand_base 
@@ -567,6 +758,17 @@
 		plat-num = <1>;
 		plat-part-0 = <&normal>;
 
+//$$ MATCH "plat-part-0_match" = <&normal>
+//$$ L2 PROP_STR 2 = "enable_pad"
+//$$ L2 PROP_STR 2 = "busy_pad"
+//$$ L2 PROP_STR = "timming_mode"
+//$$ L2 PROP_STR = "bch_mode"
+//$$ L2 PROP_STR = "plane_mode"
+//$$ L2 PROP_U32 = "t_rea"
+//$$ L2 PROP_U32 = "t_rhoh"
+//$$ L2 PROP_U32 = "chip_num"
+//$$ L2 PROP_U32 = "part_num"
+//$$ L2 PROP_U32 = "rb_detect"
 		normal: normal{
 			enable_pad ="ce0","ce1";
 			busy_pad = "rb0","rb1";
@@ -616,45 +818,204 @@
 			};
 		};
 	};	
+
+/// ***************************************************************************************
+///	-	Efuse
+//$$ MODULE="Efuse"
+//$$ DEVICE="efuse"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 2 = "plat-pos"
+//$$ L2 PROP_U32 = "plat-count"
+//$$ L2 PROP_U32 = "usid-min"
+//$$ L2 PROP_U32 = "usid-max"
+    efuse{
+		compatible = "amlogic,efuse";
+		dev_name = "efuse";
+		status = "okay";
+		plat-pos = <0 454>;
+		plat-count = <58>;
+		usid-min = <8>; /*reserved*/
+		usid-max = <31>; /*reserved*/
+	};
+
+/// ***************************************************************************************
+///	-	HDMI
+//$$ MODULE="HDMI"
+//$$ DEVICE="amhdmitx"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_CHOICE "HDMI_vend-data_match" = "vend-data"
+//$$ L2 PROP_CHOICE "HDMI_pwr-ctrl_match" = "pwr-ctrl"
+    amhdmitx{
+		compatible = "amlogic,amhdmitx";
+		dev_name = "amhdmitx";
+		status = "ok";
+		vend-data = <&vend_data>;
+		pwr-ctrl = <&pwr_ctrl>;
+		phy-size = <3>;
+		phy-data = <27  0x16  0x30    /* 480i/p 576i/p */
+				 74  0x16  0x40    /* 720p 1080i */
+				 148  0x16  0x40   /* 1080p */
+				>;
+        
+//$$ MATCH "HDMI_vend-data_match" = <&vend_data>
+//$$ L2 PROP_STR = "vendor_name"
+//$$ L2 PROP_U32 = "vendor_id"
+//$$ L2 PROP_STR = "product_desc"
+//$$ L2 PROP_STR = "cec_osd_string"        
+        vend_data: vend_data{
+            vendor_name = "Amlogic";           /* Max Chars: 8     */
+            vendor_id = <0x000000>;                 /* Refer to http://standards.ieee.org/develop/regauth/oui/oui.txt   */
+            product_desc = "MX MBox G18Ref";        /* Max Chars: 16    */
+            cec_osd_string = "Amlogic MBox";        /* Max Chars: 14    */
+        };
+        
+//$$ MATCH "HDMI_pwr-ctrl_match" = <&pwr_ctrl>
+//$$ L2 PROP_STR = "pwr_5v_on"
+//$$ L2 PROP_STR 3 = "pwr_5v_off"
+//$$ L2 PROP_STR 3 = "pwr_3v3_on"
+//$$ L2 PROP_STR = "pwr_3v3_off"
+//$$ L2 PROP_STR = "pwr_hpll_vdd_on"
+//$$ L2 PROP_STR = "pwr_hpll_vdd_off"
+        pwr_ctrl: pwr_ctrl{
+            pwr_5v_on = "cpu","GPIOD_5","H";
+            pwr_5v_off = "cpu","GPIOD_5","L";
+            pwr_3v3_on = "";
+            pwr_3v3_off = "";
+            pwr_hpll_vdd_on = "";
+            pwr_hpll_vdd_off = "";
+        };
+	};
+	
+/// ***************************************************************************************
+///	-	Securitykey
+//$$ MODULE="Securitykey"	
+    securitykey{ 
+        compatible = "amlogic,aml_keys"; 
+    }; 
+
+/// ***************************************************************************************
+///	-	PowerManager
+//$$ MODULE="PowerManager"
+//$$ DEVICE="amvenc_avc"
+//$$ L2 PROP_STR = "status"
+	aml_pm{
+		compatible = "amlogic,pm";
+		dev_name = "aml_pm";
+		status = "okay";
+	};
+
+/// ***************************************************************************************
+///	-	Cpufreq
+//$$ MODULE="Cpufreq"
+//$$ DEVICE="cpufreq-meson"
+//$$ L2 PROP_STR = "status"
+    cpufreq-meson{
+        compatible = "amlogic,cpufreq-meson";
+        status = "okay";
+    };
+
+
+
+
 	
+    
+/// ***************************************************************************************
+///	-	Ethernet
+//$$ MODULE="Ethernet"
+//$$ DEVICE="meson-eth"
+//$$ L2 PROP_STR = "status"	
+	meson-eth{
+                compatible = "amlogic,meson-eth";
+                dev_name = "meson-eth";
+                status = "okay";
+		ethbaseaddr = <0xf3610000>;
+                interruptnum = <40>;
+	};
+
+
+	
+
+
+
+/// **************************************************************************************
+/// -   GPIO
+//$$ MODULE="GPIO"
+//$$ DEVICE="m6-gpio"	
 	gpio:gpio{
 		compatible = "amlogic,m6-gpio";
 		dev_name = "gpio";
 		#gpio-cells=<2>;
 	};
 
-	pinmux{
+/// **************************************************************************************
+/// -   Pinmux
+//$$ MODULE="Pinmux"
+//$$ DEVICE="pinmux-m6"
+    pinmux{ 
 		compatible = "amlogic,pinmux-m6";
 		dev_name = "pinmux";
-		#pinmux-cells=<2>;
-		ao_uart_pins:ao_uart{
+		#pinmux-cells=<2>;    
+    
+//$$ MATCH "uart_ao_pin_match" = "&ao_uart_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR 2 = "amlogic,pins"
+        ao_uart_pins:ao_uart{
 			amlogic,setmask=<10 0x1800>;
 			amlogic,pins="GPIOAO_0", "GPIOAO_1";
 		};
+		
+//$$ MATCH "uart_0_pin_match" = "&a_uart_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR 2 = "amlogic,pins"
 		a_uart_pins:a_uart{
 			amlogic,setmask=<4 0x3c00>;
 			amlogic,pins="GPIOX_13", "GPIOX_14", "GPIOX_15", "GPIOX_16";
 		};
+		
+//$$ MATCH "meson_vcck_dvfs_pin_0_match" = "&aml_pwm_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		aml_pwm_pins:aml_pwm{
-		    amlogic,setmask=<2 0x4>;
+		    	amlogic,setmask=<2 0x4>;
 			amlogic,clrmask=<1 0x20000000>;
 			amlogic,pins="GPIOD_0";
 		};
+
+//$$ MATCH "I2C_AO_pin_match" = "&ao_i2c_master"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 2 = "amlogic,pins"
 		ao_i2c_master:ao_i2c{
 			amlogic,setmask=<10 0x60>;
 			amlogic,clrmask=<10 0x1800006>;
 			amlogic,pins="GPIOAO_4","GPIOAO_5";
 		};
+		
+//$$ MATCH "I2C_A_pin_match" = "&a_i2c_master"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 2 = "amlogic,pins"
 		a_i2c_master:a_i2c{
 			amlogic,setmask=<5 0xc000000>;
 			amlogic,clrmask=<5 0x3000000>;
 			amlogic,pins="GPIOX_25","GPIOX_26";
 		};
+		
+//$$ MATCH "I2C_B_pin_match" = "&b_i2c_master"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 2 = "amlogic,pins"
 		b_i2c_master:b_i2c{
 			amlogic,setmask=<5 0xc0000000>;
 			amlogic,clrmask=<5 0x30000000>;
 			amlogic,pins="GPIOX_27","GPIOX_28";
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&nand_input_state"
+//$$ MATCH "Nand_pin_1_match" = "&nand_input_state"
+//$$ L2 PROP_STR 17 = "amlogic,pins"
+//$$ L2 PROP_U32 = "amlogic,enable-output"
 		nand_input_state:nand_input{
 			amlogic,pins = "BOOT_0","BOOT_1","BOOT_2","BOOT_3","BOOT_4",
 						"BOOT_5","BOOT_6","BOOT_7","BOOT_12","BOOT_13",
@@ -662,11 +1023,22 @@
 						"BOOT_14","BOOT_15","BOOT_16";
 			amlogic,enable-output=<1>;
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&conf_nand_state"
+//$$ MATCH "Nand_pin_1_match" = "&conf_nand_state"
+//$$ L2 PROP_STR 9 = "amlogic,pins"
+//$$ L2 PROP_U32 = "amlogic,pullup"
 		conf_nand_state: conf_nand{
 			amlogic,pins = "BOOT_0","BOOT_1","BOOT_2","BOOT_3","BOOT_4",
 						"BOOT_5","BOOT_6","BOOT_7","BOOT_16";
 			amlogic,pullup=<1>;
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&nand_base"
+//$$ MATCH "Nand_pin_1_match" = "&nand_base"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 4*2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 13 = "amlogic,pins"
 		nand_base: nand{
 			amlogic,setmask=<2 0xc3c0000>;
 			amlogic,clrmask=<	5 0xe
@@ -677,71 +1049,62 @@
 						"BOOT_5","BOOT_6","BOOT_7","BOOT_12","BOOT_13",
 						"BOOT_14","BOOT_15","BOOT_16";
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&nand_ce0"
+//$$ MATCH "Nand_pin_1_match" = "&nand_ce0"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		nand_ce0: nand_ce0{
 			amlogic,setmask=<2 0x2000000>;
 			amlogic,pins = "BOOT_8";
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&nand_ce1"
+//$$ MATCH "Nand_pin_1_match" = "&nand_ce1"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		nand_ce1: nand_ce1{
 			amlogic,setmask=<2 0x1000000>;
 			amlogic,pins = "BOOT_9";
 		};
+		
+//$$ MATCH "Nand_pin_1_match" = "&nand_ce2"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		nand_ce2: nand_ce2{
 			amlogic,setmask=<2 0x800000>;
 			amlogic,pins = "BOOT_10";
 		};
+		
+//$$ MATCH "Nand_pin_1_match" = "&nand_ce3"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		nand_ce3: nand_ce3{
 			amlogic,setmask=<2 0x400000>;
 			amlogic,pins = "BOOT_11";
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&nand_rb0"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		nand_rb0: nand_rb0{
 			amlogic,setmask=<2 0x20000>;
 			amlogic,clrmask=<2 0x800000>;
 			amlogic,pins = "BOOT_10";
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&nand_rb1"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		nand_rb1: nand_rb1{
 			amlogic,setmask=<2 0x10000>;
 			amlogic,clrmask=<2 0x400000>;
 			amlogic,pins = "BOOT_11";
 		};
+		
 
-		sdhc_b_pins:sdhc_b_pin{
-			amlogic,setmask=<2 0xfc00>;
-			amlogic,clrmask=<2 0xf0>;
-			amlogic,pins="CARD_0","CARD_1","CARD_2","CARD_3","CARD_4","CARD_5";
-		};
-		sdhc_c_pins:sdhc_c_pin{
-			amlogic,setmask=<6 0x3f000000>;
-			amlogic,clrmask=<4 0x6c000000 2 0x4c30000 3 0x80000000>;
-			amlogic,pins="BOOT_0","BOOT_1","BOOT_2","BOOT_3","BOOT_10","BOOT_11";
-		};
-		sdhc_a_pins:sdhc_a_pin{
-			amlogic,setmask=<8 0x3f>;
-			amlogic,clrmask=<5 0x6c00 >;
-			amlogic,pins="GPIOX_0","GPIOX_1","GPIOX_2","GPIOX_3","GPIOX_8","GPIOX_9";
-		};
-        
-        // sdhc_a_pins:sdhc_a_pin{
-            // amlogic,setmask=<5 0x00006c00>; /*0x00007c00 adds "GPIOX_4","GPIOX_5","GPIOX_6","GPIOX_7"; At the same time we should clrmask reg3_bit[27-30]*/
-            // amlogic,clrmask=<2 0x000000f0           /*sdhc b*/
-                                // 4 0x7c000000        /*sdhc c*/
-                                // 8 0x0000003f>;      /*sdio a, because it uses the same pins with sdhc a*/
-            // amlogic,pins="GPIOX_0","GPIOX_1","GPIOX_2","GPIOX_3","GPIOX_8","GPIOX_9";
-        // };
-        // sdhc_b_pins:sdhc_b_pin{
-            // amlogic,setmask=<2 0x000000f0>;         /*sdhc b*/
-            // amlogic,clrmask=<5 0x00007c00           /*sdhc a*/
-                                // 4 0x7c000000        /*sdhc c*/
-                                // 2 0x0000fc00>;      /*sdio b*/
-            // amlogic,pins="CARD_0","CARD_1","CARD_2","CARD_3","CARD_4","CARD_5";
-        // };
-        // sdhc_c_pins:sdhc_c_pin{
-            // amlogic,setmask=<4 0x6c000000>; /*0x7c000000 adds "BOOT_4","BOOT_5","BOOT_6","BOOT_7"; At the same time we should clrmask reg2_bit[24-25]*/
-            // amlogic,clrmask=<2 0x04c300f0           /*sdhc b & nand*/
-                                // 5 0x00007c00        /*sdhc a*/
-                                // 6 0x3f000000        /*sdio c*/
-                                // 3 0x80000000>;      /*I2C*/
-            // amlogic,pins="BOOT_0","BOOT_1","BOOT_2","BOOT_3","BOOT_10","BOOT_11";
-        // };
         sdio_all_pins:sdio_all_pins{
             amlogic,setmask=<8 0x0000003f>;         /*sdio a*/
             amlogic,clrmask=<6 0x3f000000           /*sdio c*/
@@ -798,26 +1161,47 @@
             amlogic,enable-output=<1>; /* 0:output, 1:input */
             amlogic,pullup=<0>;
         };
-        
+		
+//$$ MATCH "Remote_pin_match" = "&remote_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR= "amlogic,pins"
 		remote_pins:remote_pin{
 			amlogic,setmask=<10 0x1>;
 			amlogic,pins="GPIOAO_7";
 		};
+		
+//$$ MATCH "wm8960_pin_match" = "&aml_i2s_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 4 = "amlogic,pins"	
 		aml_i2s_pins: aml_i2s_pins{
 			amlogic,setmask=<9 0xAB0>;
 			amlogic,clrmask=<9 0x440>;
 			amlogic,pins = "GPIOE_0","GPIOE_1","GPIOE_2","GPIOE_3";
 		};
+		
+//$$ MATCH "wm8960_pin_match" = "&config_aml_hp_det_pins"
+//$$ L2 PROP_STR= "amlogic,pins"	
+//$$ L2 PROP_U32 = "amlogic,pullup"	
 		config_aml_hp_det_pins: config_aml_hp_det_pins{
 			amlogic,pins = "GPIOA_19";
 			amlogic,pullup=<1>;
 		};
+
+//$$ MATCH "dummy_codec_audio_0_pin_match" = "&aml_dummy_codec_pins"
+//$$ L2 PROP_U32 2*2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 5 = "amlogic,pins"
 		aml_dummy_codec_pins: aml_dummy_codec_pins{
 			amlogic,setmask=<9 0x2B0
 							3 0x1000000>;
 			amlogic,clrmask=<9 0x380c4e>;
 			amlogic,pins = "GPIOE_1","GPIOE_2","GPIOE_3","GPIOE_4","GPIOC_9";
 		};
+//$$ MATCH "Bl_pin_0_match" = "&lcd_backlight_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR = "amlogic,pins"	
 		lcd_backlight_pins:lcd_backlight{
 			amlogic,setmask=<2 0x8>;
 			amlogic,clrmask=<1 0x10000000>;
@@ -881,10 +1265,19 @@
 						"GPIOB_18","GPIOB_19","GPIOB_20","GPIOB_21","GPIOB_22","GPIOB_23";	//B2~B7
 			amlogic,enable-output=<1>;
 		};
+		
+//$$ MATCH "Camera_pin_match" = "&aml_cam_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		aml_cam_pins: aml_cam_pins{
 			amlogic,setmask=<9 0x1000>;
 			amlogic,pins = "GPIOZ_12";
 		};
+
+//$$ MATCH "Spi_pin_0_match" = "&aml_spi_nor_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 4 = "amlogic,pins"
 		aml_spi_nor_pins: aml_spi_nor_pins{
 			amlogic,setmask=<5 0xf>;
 			amlogic,clrmask=<2 0x380000>;
diff --git a/arch/arm/boot/dts/amlogic/meson6_g33_1G.dtd b/arch/arm/boot/dts/amlogic/meson6_g33_1G.dtd
index f4a63d2c3666..8b03a5fa01f6 100755
--- a/arch/arm/boot/dts/amlogic/meson6_g33_1G.dtd
+++ b/arch/arm/boot/dts/amlogic/meson6_g33_1G.dtd
@@ -10,22 +10,30 @@
  */
 
 /dts-v1/;
-/{
+/// ***************************************************************************************\n
+//$$ PROJECT="meson6"
+//$$ REMOVE 1
+void root_func(){
+//$$ ADD /{
 	compatible = "AMLOGIC,8726_MX";
 	model = "AMLOGIC";
 	interrupt-parent = <&gic>;
 	#address-cells = <1>;
 	#size-cells = <1>;
-
+	
+/// ***************************************************************************************
+///	-	CPU
+//$$ MODULE="CPU"
     cpus {
         #address-cells = <1>;
         #size-cells = <0>;
-
+//$$ DEVICE="cpu0"
         cpu@0 {
             device_type = "cpu";
             compatible = "arm,cortex-a9";
             reg = <0x200>;
         };
+//$$ DEVICE="cpu1"
         cpu@1 {
             device_type = "cpu";
             compatible = "arm,cortex-a9";
@@ -49,13 +57,25 @@
           aux-cache_replace_policy_round_robin;
           prefetch-prefetch_offset = <6>;
     };
-	/*start  memory config*/
+
+/// ***************************************************************************************
+///	-	Memory
+//$$ MODULE="Memory"
+//$$ DEVICE="memory"
+//$$ L2 PROP_U32 = "aml_reserved_start"
+//$$ L2 PROP_U32 = "aml_reserved_end"
+//$$ L2 PROP_U32 = "linux,usable-memory"
 	memory{
 		device_type = "memory";
-		aml_reserved_start = <0x85000000>;
-		aml_reserved_end = <0x84000000>;
-		linux,total-memory = <0x40000000>;
+		aml_reserved_start = <0x85000000>; /**reserved memory start-for kernel */
+		aml_reserved_end = <0x84000000>;/**reserved uImage and dtb memory-for uboot*/
+		linux,total-memory = <0x40000000>;/**0x40000000--1G memory 0x80000000--2G memory*/
 	};
+
+/// ***************************************************************************************
+///	-	GIC
+//$$ MODULE="GIC"
+//$$ DEVICE="gic"	
 	gic:interrupt-controller{
         compatible = "arm,cortex-a9-gic";
         reg = <0xc4301000 0x1000
@@ -76,25 +96,43 @@
         status = "ok";
         reserve-memory = <0x01200000>;
     };
-    
+
+/// **************************************************************************************	
+/// -   DISP&MM-FB
+//$$ MODULE = "DISP&MM-FB"	
+//$$ DEVICE = "mesonfb"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reserve-memory"
+//$$ L2 PROP_U32 = "vmode"
+//$$ L2 PROP_U32 5 = "display_size_default"
 	mesonfb{
 		compatible = "amlogic,mesonfb";
 		dev_name = "mesonfb";
 		status = "okay";
 		reserve-memory = <0x00500000 0x00100000>;
- 		vmode = <1>; /*0:VMODE_720P 1:VMODE_LCD  2:VMODE_LVDS_1080P*/
+ 		vmode = <1>; /**0:VMODE_720P 1:VMODE_LCD  2:VMODE_LVDS_1080P*/
  		display_size_default = <1024 600 1024 1200 32>;
 	};
 	
+//$$ DEVICE = "mesonfb-ext"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reserve-memory"
+//$$ L2 PROP_U32 5 = "display_size_default"
 	mesonfb-ext{
 		compatible = "amlogic,mesonfb-ext";
 		dev_name = "mesonfb-ext";
-		status = "okay";
+		status = "disabled";
 		reserve-memory = <0x00500000 0x00100000>;
 		display_size_default = <1024 600 1024 1200 32>;
 	 
 	};
 
+/// ***************************************************************************************
+///	-	DISP&MM-A/V stream
+//$$ MODULE = "DISP&MM-A/V stream"
+//$$ DEVICE="mesonstream"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reserve-memory"
 	mesonstream{
 		compatible = "amlogic,mesonstream";
 		dev_name = "mesonstream.0";
@@ -102,14 +140,14 @@
 		reserve-memory = <0x04000000 0x00f00000>;
 	};
 
-	vdin0{
-		compatible = "amlogic,vdin";
-		dev_name = "vdin";
-		status = "okay";
-		reserve-memory = <0x04000000 0x04000000>;
-		irq = <115>;
-		vdin_id = <0>;
-	};
+//	vdin0{
+//		compatible = "amlogic,vdin";
+//		dev_name = "vdin";
+//		status = "okay";
+//		reserve-memory = <0x04000000 0x04000000>;
+//		irq = <115>;
+//		vdin_id = <0>;
+//	};
 
 	vm{
 		compatible = "amlogic,vm";
@@ -117,48 +155,53 @@
 		status = "okay";
 	};
 
+/// ***************************************************************************************
+///	-	DISP&MM-PostProcess
+//$$ MODULE="DISP&MM-PostProcess"
+//$$ DEVICE="ppmgr"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 ="reserve-memory"
 	ppmgr{
 		compatible = "amlogic,ppmgr";
 		dev_name = "ppmgr";
 		status = "okay";
 		reserve-memory = <0x00d00000>;		
 	};
-	/*end*/
-	
-	usb_con {
-		lm-compatible = "logicmodule-bus";
-					
-		usb_b{
-			lm-compatible = "amlogic,usb";
-			lm-periph-id = <1>; /* lm name */
-			clock-src = "usb1";
-			port-id = <1>; /* ref to mach/usb.h */
-			port-type = <1>;	/* 0: otg, 1: host, 2: slave */
-			port-speed = <0>; /* 0: default, 1: high, 2: full */
-			port-config = <0>; /* 0: default */
-			port-dma = <0>; /* 0: default, 1: single, 2: incr, 3: incr4, 4: incr8, 5: incr16, 6: disable*/
-			port-id-mode = <1>; /* 0: hardware, 1: sw_host, 2: sw_slave*/
-		};
-
-		usb_a{
-			lm-compatible = "amlogic,usb";
-			lm-periph-id = <0>; /* lm name */
-			clock-src = "usb0";
-			port-id = <0>; /* ref to mach/usb.h */
-			port-type = <0>;	/* 0: otg, 1: host, 2: slave */
-			port-speed = <0>; /* 0: default, high, 1: full */
-			port-config = <0>; /* 0: default */
-			port-dma = <0>; /* 0: default, 1: single, 2: incr, 3: incr4, 4: incr8, 5: incr16, 6: disable*/
-			port-id-mode = <0>; /* 0: hardware, 1: sw_host, 2: sw_slave*/
-			gpio-vbus-power = "GPIOD_9";
-			gpio-work-mask	= <1>; /*0: work on pulldown,1:work on pullup*/
-		};
+/// ***************************************************************************************
+///	-	DISP&MM-Vout
+//$$ MODULE = "DISP&MM-Vout"
+//$$ DEVICE = "mesonvout"
+//$$ L2 PROP_STR = "status"
+	mesonvout{
+		compatible = "amlogic,mesonvout";
+		dev_name = "mesonvout";
+		status = "okay";
 	};
-
+	
+//$$ DEVICE = "mesonvout2"
+//$$ L2 PROP_STR = "status"
+	mesonvout2{
+		compatible = "amlogic,mesonvout2";
+		dev_name = "mesonvout2";
+		status = "disabled";
+	};	
+/// ***************************************************************************************
+///	-	RTC
+//$$ MODULE="RTC"
+//$$ DEVICE="Rtc"
+//$$ L2 PROP_STR = "status"
 	rtc{
 		compatible = "amlogic,aml_rtc";
+		status = "okay";
 	};
-	
+
+/// ***************************************************************************************
+///	-	UART
+//$$ MODULE="UART"
+//$$ DEVICE="uart_ao"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_STR = "pinctrl-names"
+//$$ L3 PROP_CHOICE "uart_ao_pin_match" = "pinctrl-0"
 	uart_ao{
 		compatible = "amlogic,aml_uart";
 		port_name = "uart_ao";
@@ -168,6 +211,10 @@
 		pinctrl-0 = <&ao_uart_pins>;
 	};
 	
+//$$ DEVICE="uart_0"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_STR = "pinctrl-names"
+//$$ L3 PROP_CHOICE "uart_0_pin_match" = "pinctrl-0"
 	uart_0{
 		compatible = "amlogic,aml_uart";
 		port_name = "uart_a";
@@ -177,6 +224,8 @@
         pinctrl-0 = <&a_uart_pins>;
 	};
 	
+//$$ DEVICE="uart_1"
+//$$ L2 PROP_STR = "status"
 	uart_1{
 		compatible = "amlogic,aml_uart";
 		port_name = "uart_b";
@@ -184,6 +233,8 @@
 		dev_name = "uart_1";
 	};
 	
+//$$ DEVICE="uart_2"
+//$$ L2 PROP_STR = "status"
 	uart_2{
 		compatible = "amlogic,aml_uart";
 		port_name = "uart_c";
@@ -191,24 +242,268 @@
 		dev_name = "uart_2";
 	};
 	
+//$$ DEVICE="uart_3"
+//$$ L2 PROP_STR = "status"	
 	uart_3{
 		compatible = "amlogic,aml_uart";
 		port_name = "uart_d";
 		status = "ok";
 		dev_name = "uart_3";
 	};
-	aml_pm{
-		compatible = "amlogic,pm";
-		dev_name = "aml_pm";
+
+/// ***************************************************************************************
+///	-	Bluetooth
+//$$ MODULE="Bluetooth"
+
+    bt-dev{
+        compatible = "amlogic,bt-dev";
+        dev_name = "bt-dev";
+        gpio_reset = "GPIOC_9";
+        gpio_en = "GPIOC_7";
+        gpio_wake = "GPIOX_10";
+	status = "disabled";
+    };
+
+/// ***************************************************************************************
+///	-	WiFi
+//$$ MODULE="WiFi"
+//$$ DEVICE="aml_broadcm_wifi"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_STR = "interrupt_pin"
+//$$ L2 PROP_U32 = "irq_num"
+//$$ L2 PROP_STR = "irq_trigger_type"
+//$$ L2 PROP_STR = "power_on_pin"
+//$$ L2 PROP_STR = "clock_32k_pin"
+	wifi{
+		compatible = "amlogic,aml_broadcm_wifi";
+		dev_name = "aml_broadcm_wifi";
+		status = "okay";
+		interrupt_pin = "GPIOX_11";
+		irq_num = <4>;
+		irq_trigger_type = "GPIO_IRQ_HIGH";
+		power_on_pin = "GPIOAO_3";
+		clock_32k_pin = "GPIOX_12";
 	};
 
-    cpufreq-meson{
-        compatible = "amlogic,cpufreq-meson";
+/// ***************************************************************************************
+///	-	MMC
+//$$ MODULE="MMC"
+//$$ DEVICE="aml_sdio"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+//$$ L2 PROP_STR 6 = "pinctrl-names"
+//$$ L2 PROP_CHOICE "sdio_pin_0_match" = "pinctrl-0"
+//$$ L2 PROP_CHOICE "sdio_pin_1_match" = "pinctrl-1"
+//$$ L2 PROP_CHOICE "sdio_pin_2_match" = "pinctrl-2"
+//$$ L2 PROP_CHOICE "sdio_pin_3_match" = "pinctrl-3"
+//$$ L2 PROP_CHOICE "sdio_pin_4_match" = "pinctrl-4"
+//$$ L2 PROP_CHOICE "sdio_pin_5_match" = "pinctrl-5"
+// L2 PROP_CHOICE "sdio_pin_6_match" = "pinctrl-6"
+    sdio{
+        compatible = "amlogic,aml_sdio";
+        dev_name = "aml_sdio.0";
         status = "okay";
+        reg = <0xc1108c20 0x20>;
+        pinctrl-names = "sd_clk_cmd_pins", "sd_all_pins", "emmc_clk_cmd_pins", "emmc_all_pins", "sdio_clk_cmd_pins", "sdio_all_pins"; /*sd:sdio_b, emmc:sdio_c, sdio:sdio_a*/
+        pinctrl-0 = <&sd_clk_cmd_pins>;
+        pinctrl-1 = <&sd_all_pins>;
+        pinctrl-2 = <&emmc_clk_cmd_pins>;
+        pinctrl-3 = <&emmc_all_pins>;
+        pinctrl-4 = <&sdio_clk_cmd_pins>;
+        pinctrl-5 = <&sdio_all_pins>;
+
+//$$ DEVICE="sd"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 = "port"
+//$$ L2 PROP_STR = "pinname"
+//$$ L3 PROP_U32 = "ocr_avail"
+//$$ L2 PROP_STR 3 = "caps"
+//$$ L3 PROP_U32 = "f_min"
+//$$ L3 PROP_U32 = "f_max"
+//$$ L3 PROP_U32 = "f_max_w"
+//$$ L3 PROP_U32 = "max_req_size"
+//$$ L2 PROP_STR = "gpio_dat3"
+//$$ L2 PROP_STR = "jtag_pin"
+//$$ L2 PROP_STR = "gpio_cd"
+//$$ L2 PROP_STR = "gpio_ro"
+//$$ L2 PROP_U32 = "irq_in"
+//$$ L2 PROP_U32 = "irq_out"
+//$$ L2 PROP_U32 = "card_type"
+        sd{
+            status = "okay";
+            port = <1>;          /**0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
+            pinname = "sd";
+            ocr_avail = <0x200000>;          /**VDD voltage 3.3 ~ 3.4 */
+            caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED";
+            f_min = <300000>;
+            f_max = <50000000>;
+            f_max_w = <50000000>;
+            max_req_size = <0x20000>;          /**128KB*/
+            gpio_dat3 = "CARD_3";
+            gpio_cd = "CARD_6";
+            gpio_power = "CARD_8";
+            power_level = <0>;
+            irq_in = <5>;
+            #irq_in_edge = "GPIO_IRQ_FALLING";
+            irq_out = <6>;
+            #irq_out_edge = "GPIO_IRQ_RISING";
+            card_type = <5>; /* 0:unknown, 1:mmc card(include eMMC), 2:sd card(include tSD), 3:sdio device(ie:sdio-wifi), 4:SD combo (IO+mem) card, 5:NON sdio device(means sd/mmc card), other:reserved */
+        };
+        	
+//$$ DEVICE="emmc"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 = "port"
+//$$ L2 PROP_STR = "pinname"
+//$$ L3 PROP_U32 = "ocr_avail"
+//$$ L2 PROP_STR 4 = "caps"
+//$$ L3 PROP_U32 = "f_min"
+//$$ L3 PROP_U32 = "f_max"
+//$$ L3 PROP_U32 = "f_max_w"
+//$$ L3 PROP_U32 = "max_req_size"
+//$$ L2 PROP_STR = "gpio_dat3"
+//$$ L2 PROP_U32 = "card_type"
+        emmc{
+            status = "ok";
+            port = <2>;          /**0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
+            pinname = "emmc";
+            ocr_avail = <0x200000>;          /**VDD voltage 3.3 ~ 3.4 */
+            caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED", "MMC_CAP_NONREMOVABLE"; // MMC_CAP_NEEDS_POLL -- for detect, MMC_CAP_NONREMOVABLE -- for eMMC/TSD
+            f_min = <300000>;
+            f_max = <50000000>;
+            f_max_w = <50000000>;
+            max_req_size = <0x20000>;          /**128KB*/
+            gpio_dat3 = "BOOT_3";
+            #gpio_cd = "CARD_6";
+            #gpio_power = "CARD_8";
+            #power_level = <0>;
+            card_type = <5>; /* 0:unknown, 1:mmc card(include eMMC), 2:sd card(include tSD), 3:sdio device(ie:sdio-wifi), 4:SD combo (IO+mem) card, 5:NON sdio device(means sd/mmc card), other:reserved */
+        };
+        
+//$$ DEVICE="sdio"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 = "port"
+//$$ L2 PROP_STR = "pinname"
+//$$ L3 PROP_U32 = "ocr_avail"
+//$$ L2 PROP_STR 4 = "caps"
+//$$ L3 PROP_U32 = "f_min"
+//$$ L3 PROP_U32 = "f_max"
+//$$ L3 PROP_U32 = "max_req_size"    
+//$$ L2 PROP_U32 = "card_type"    
+         sdio{
+             status = "okay";
+             port = <0>;          /**0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
+             pinname = "sdio";
+             ocr_avail = <0x200000>;          /**VDD voltage 3.3 ~ 3.4 */
+             caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED", "MMC_CAP_NONREMOVABLE";
+             f_min = <300000>;
+             f_max = <50000000>;
+             f_max_w = <50000000>;
+             max_req_size = <0x20000>;          /**128KB*/
+             card_type = <3>; /** 0:unknown, 1:mmc card(include eMMC), 2:sd card(include tSD), 3:sdio device(ie:sdio-wifi), 4:SD combo (IO+mem) card, 5:NON sdio device(means sd/mmc card), other:reserved */
+         };
     };
 
+/// ***************************************************************************************
+///	-	I2C
+//$$ MODULE="I2C"
+//$$ DEVICE="I2C_AO"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+//$$ L3 PROP_STR = "pinctrl-names"
+//$$ L2 PROP_CHOICE "I2C_AO_pin_match" = "pinctrl-0"	
+	i2c@c8100500{ /*I2C-AO*/
+		compatible = "amlogic,aml_i2c";
+		dev_name = "i2c-AO";
+		status = "ok";
+		reg = <0xc8100500 0x1d>;
+		#address-cells = <1>;
+		#size-cells = <0>;
+		device_id = <0>;
+		pinctrl-names="default";
+		pinctrl-0=<&ao_i2c_master>;
+	};
+	
+//$$ DEVICE = "I2C_A"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+//$$ L3 PROP_STR = "pinctrl-names"
+//$$ L2 PROP_CHOICE "I2C_A_pin_match" = "pinctrl-0"
+	i2c@c1108500{ /*I2C-A*/
+		compatible = "amlogic,aml_i2c";
+		dev_name = "i2c-A";
+		status = "ok";
+		reg = <0xc1108500 0x20>;
+		device_id = <1>;
+		pinctrl-names="default";
+		pinctrl-0=<&a_i2c_master>;
+		#address-cells = <1>;
+		#size-cells = <0>;
+	};
+	
+//$$ DEVICE="I2C_B"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2="reg"
+//$$ L3 PROP_STR = "pinctrl-names"
+//$$ L2 PROP_CHOICE "I2C_B_pin_match" = "pinctrl-0"	
+	i2c@c11087c0{ /*I2C-B*/
+		compatible = "amlogic,aml_i2c";
+		dev_name = "i2c-B";
+		status = "ok";
+		reg = <0xc11087c0 0x20>;
+		device_id = <2>;
+		pinctrl-names="default";
+		pinctrl-0=<&b_i2c_master>;
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+ 	};
+
+/// ***************************************************************************************
+///	-	Power
+//$$ MODULE="Power"
+//$$ DEVICE="dvfs"
+//$$ L2 PROP_STR = "status"
+    dvfs {
+        compatible = "amlogic, amlogic-dvfs";                   /** fixed for driver, don't change       */
+        #address-cells = <1>;
+        #size-cells = <0>;
+        status = "ok";
+
+//$$ L2 PROP_U32 = "dvfs_id"
+//$$ L2 PROP_U32 = "table_count"
+//$$ L2 PROP_U32 11*3 = "dvfs_table"
+        vcck_dvfs {
+            dvfs_id     = <1>;                                  /** must be value of (1 << n)            */
+            table_count = <11>;                                 /** must be correct count for dvfs_table */
+            dvfs_table  = <
+                /* NOTE: frequent in this table must be ascending order */
+                /* frequent(Khz)    min_uV      max_uV                  */
+                 200000             1010000     1010000
+                 600000             1010000     1010000
+                 792000             1010000     1010000
+                 816000             1110000     1110000
+                 840000             1110000     1110000
+                 984000             1110000     1110000
+                1000000             1110000     1110000
+                1080000             1220000     1220000
+                1200000             1240000     1240000
+                1320000             1320000     1320000
+                1500000             1320000     1320000
+            >;
+        };
+    };
+//$$ DEVICE="meson_vcck_dvfs_driver"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "default_uV"
+//$$ L2 PROP_STR = "pinctrl-names"
+//$$ L2 PROP_CHOICE "meson_vcck_dvfs_pin_0_match" = "pinctrl-0"
+//$$ L2 PROP_U32 = "use_pwm"
+//$$ L2 PROP_U32 = "table_count"
+//$$ L2 PROP_U32 16*2 = "cs_voltage_table"
     meson_vcck_dvfs_driver{
         compatible = "amlogic, meson_vcck_dvfs";
+        dev_name = "meson_vcck_dvfs_driver";
+        status = "ok";
         default_uV = <1280000>;
         pinctrl-names = "default";
         pinctrl-0 = <&aml_pwm_pins>;
@@ -244,35 +539,44 @@
             0x040018        1320000
         >;   
     };   
-
-    dvfs {
-        compatible = "amlogic, amlogic-dvfs";                   /** fixed for driver, don't change       */
-        #address-cells = <1>;
-        #size-cells = <0>;
-        status = "ok";
-
-        vcck_dvfs {
-            dvfs_id     = <1>;                                  /** must be value of (1 << n)            */
-            table_count = <11>;                                 /** must be correct count for dvfs_table */
-            dvfs_table  = <
-                /* NOTE: frequent in this table must be ascending order */
-                /* frequent(Khz)    min_uV      max_uV                  */
-                 200000             1010000     1010000
-                 600000             1010000     1010000
-                 792000             1010000     1010000
-                 816000             1110000     1110000
-                 840000             1110000     1110000
-                 984000             1110000     1110000
-                1000000             1110000     1110000
-                1080000             1220000     1220000
-                1200000             1240000     1240000
-                1320000             1320000     1320000
-                1500000             1320000     1320000
-            >;
-        };
-    };
-
+//$$ DEVICE="Battery_parameter"
+//$$ MATCH "battery_parameter_match" = <&battery_parameter>
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "pmu_twi_id"
+//$$ L2 PROP_U32 = "pmu_irq_id"
+//$$ L2 PROP_U32 = "pmu_twi_addr"
+//$$ L2 PROP_U32 = "pmu_battery_rdc"
+//$$ L2 PROP_U32 = "pmu_battery_cap"
+//$$ L2 PROP_U32 = "pmu_battery_technology"
+//$$ L2 PROP_STR = "pmu_battery_name"
+//$$ L2 PROP_U32 = "pmu_init_chgvol"
+//$$ L2 PROP_U32 = "pmu_init_chgend_rate"
+//$$ L2 PROP_U32 = "pmu_init_chg_enabled"
+//$$ L2 PROP_U32 = "pmu_init_adc_freq"
+//$$ L2 PROP_U32 = "pmu_init_adc_freqc"
+//$$ L2 PROP_U32 = "pmu_init_chg_pretime"
+//$$ L2 PROP_U32 = "pmu_init_chg_csttime"
+//$$ L2 PROP_U32 = "pmu_init_chgcur"
+//$$ L2 PROP_U32 = "pmu_suspend_chgcur"
+//$$ L2 PROP_U32 = "pmu_resume_chgcur"
+//$$ L2 PROP_U32 = "pmu_shutdown_chgcur"
+//$$ L2 PROP_U32 = "pmu_usbcur_limit"
+//$$ L2 PROP_U32 = "pmu_usbcur"
+//$$ L2 PROP_U32 = "pmu_usbvol_limit"
+//$$ L2 PROP_U32 = "pmu_usbvol"
+//$$ L2 PROP_U32 = "pmu_pwroff_vol"
+//$$ L2 PROP_U32 = "pmu_pwron_vol"
+//$$ L2 PROP_U32 = "pmu_pekoff_time"
+//$$ L2 PROP_U32 = "pmu_pekoff_en"
+//$$ L2 PROP_U32 = "pmu_peklong_time"
+//$$ L2 PROP_U32 = "pmu_pwrok_time"
+//$$ L2 PROP_U32 = "pmu_pwrnoe_time"
+//$$ L2 PROP_U32 = "pmu_intotp_en"
+//$$ L2 PROP_U32 = "pmu_pekon_time"
+//$$ L2 PROP_U32 = "pmu_charge_efficiency"
+//$$ L2 PROP_U32 16*3 ="pmu_bat_curve"
     battery_parameter:battery_parameter{
+    	status = "okay";
         pmu_twi_id = <2>;                   /* AXP20_I2CBUS                         */
         pmu_irq_id = <0>;                   /* INT_WATCHDOG                         */
         pmu_twi_addr = <0x34>;              /* AXP20_ADDR                           */
@@ -328,6 +632,15 @@
         compatible = "amlogic, aml_pmu_prober";                 /* fixed for pmu driver, don't change   */
         #address-cells = <1>;
         #size-cells = <0>;
+//$$ DEVICE = "Pmu_axp202"
+//$$ L2 PROP_STR = "sub_type"
+//$$ L2 PROP_STR = "i2c_bus"
+//$$ L2 PROP_U32 = "reg"
+//$$ L2 PROP_U32 = "soft_limit_to99"
+//$$ L2 PROP_U32 = "ddr_voltage"
+//$$ L2 PROP_U32 = "vddao_voltage"
+//$$ L2 PROP_CHOICE "battery_parameter_match" = "board_battery"
+//$$ L2 PROP_STR = "status"
         axp202 { /* PMU for AXP */
             compatible = "axp_mfd";                             /* for driver probe, must have          */
             sub_type = "axp20_mfd";                             /* sub type of pmu family, must have    */
@@ -339,6 +652,15 @@
             board_battery = <&battery_parameter>;               /* battery parameter used, must have    */
             status = "okay";                                    /* status of pmu, only one should be OK */
         };
+//$$ DEVICE = "Pmu_aml1212"
+//$$ L2 PROP_STR = "sub_type"
+//$$ L2 PROP_STR = "i2c_bus"
+//$$ L2 PROP_U32 = "reg"
+//$$ L2 PROP_U32 = "soft_limit_to99"
+//$$ L2 PROP_U32 = "ddr_voltage"
+//$$ L2 PROP_U32 = "vddao_voltage"
+//$$ L2 PROP_CHOICE "battery_parameter_match" = "board_battery"
+//$$ L2 PROP_STR = "status"
         aml1212{                                                /* PMU for AML1212, see comment above   */
             compatible = "amlogic_pmu";
             sub_type = "aml1212-supplyer";
@@ -351,6 +673,15 @@
             board_battery = <&battery_parameter>;
             status = "disable";
         };
+//$$ DEVICE = "Pmu_rn5t618"
+//$$ L2 PROP_STR = "sub_type"
+//$$ L2 PROP_STR = "i2c_bus"
+//$$ L2 PROP_U32 = "reg"
+//$$ L2 PROP_U32 = "soft_limit_to99"
+//$$ L2 PROP_U32 = "ddr_voltage"
+//$$ L2 PROP_U32 = "vddao_voltage"
+//$$ L2 PROP_CHOICE "battery_parameter_match" = "board_battery"
+//$$ L2 PROP_STR = "status"
         rn5t618{                                                /* PMU for RN5T618, see comment above   */
             compatible = "ricoh_pmu";
             sub_type = "rn5t618";
@@ -364,88 +695,78 @@
             status = "disable";
         };
     };
-		
-	aml_cams{
-		compatible = "amlogic,cams_prober";
-		pinctrl-names = "gpio";
-		pinctrl-0 = <&aml_cam_gpio_pins> ;
-		cam_0{
-			cam_name = "gc0308";
-			front_back = <0>;
-			i2c_bus = "i2c_bus_a";
-			gpio_pwdn = "GPIOE_11";
-			gpio_rst = "GPIOZ_0";
-			mirror_flip = <0>;
-			vertical_flip = <1>;
-		};
-		cam_1{
-			cam_name = "gc0328";
-			front_back = <0>;
-			i2c_bus = "i2c_bus_a";
-			gpio_pwdn = "GPIOE_11";
-			gpio_rst = "GPIOZ_0";
-			mirror_flip = <0>;
-			vertical_flip = <0>;	
+
+/// ***************************************************************************************
+///	-	USB Controller
+//$$ MODULE="USB Controller"
+	usb_con {
+		lm-compatible = "logicmodule-bus";
+					
+//$$ DEVICE="usb_b"
+//$$ L2 PROP_U32 = "lm-periph-id" 
+//$$ L2 PROP_STR = "clock-src"
+//$$ L2 PROP_U32 = "port-id"
+//$$ L2 PROP_U32 = "port-type"
+//$$ L2 PROP_U32 = "port-speed"
+//$$ L2 PROP_U32 = "port-config"
+//$$ L2 PROP_U32 = "port-dma"
+//$$ L2 PROP_U32 = "port-id-mode"
+//$$ L2 PROP_STR = "status"
+		usb_b{
+			lm-compatible = "amlogic,usb";
+			lm-periph-id = <1>; /** lm name */
+			clock-src = "usb1"; /** clock src */
+			port-id = <1>;   /** ref to mach/usb.h */
+			port-type = <1>;	/** 0: otg, 1: host, 2: slave */
+			port-speed = <0>; /** 0: default, 1: high, 2: full */
+			port-config = <0>; /** 0: default */
+			port-dma = <0>; /** 0: default, 1: single, 2: incr, 3: incr4, 4: incr8, 5: incr16, 6: disable*/
+			port-id-mode = <1>; /** 0: hardware, 1: sw_host, 2: sw_slave*/
+			status = "okay";
 		};
-	
-	};
-	
-	i2c@c8100500{ /*I2C-AO*/
-		compatible = "amlogic,aml_i2c";
-		dev_name = "i2c-AO";
-		reg = <0xc8100500 0x1d>;
-		#address-cells = <1>;
-		#size-cells = <0>;
-		device_id = <0>;
-		pinctrl-names="default";
-		pinctrl-0=<&ao_i2c_master>;
-	};
-	
-	i2c@c1108500{ /*I2C-A*/
-		compatible = "amlogic,aml_i2c";
-		dev_name = "i2c-A";
-		reg = <0xc1108500 0x20>;
-		device_id = <1>;
-		pinctrl-names="default";
-		pinctrl-0=<&a_i2c_master>;
-		#address-cells = <1>;
-		#size-cells = <0>;
-	};
-	
-	i2c@c11087c0{ /*I2C-B*/
-		compatible = "amlogic,aml_i2c";
-		dev_name = "i2c-B";
-		reg = <0xc11087c0 0x20>;
-		device_id = <2>;
-		pinctrl-names="default";
-		pinctrl-0=<&b_i2c_master>;
-		#address-cells = <1>;
-		#size-cells = <0>;
 
- 	};
-			
-	amhdmitx{
-		compatible = "amlogic,amhdmitx";
-		dev_name = "amhdmitx";
-		phy-size = <3>;
-		phy-data = <27  0x16  0x30    /* 480i/p 576i/p */
-				 74  0x16  0x40    /* 720p 1080i */
-				 148  0x16  0x40   /* 1080p */
-				>;
-	};
-	
-	mesonvout{
-		compatible = "amlogic,mesonvout";
-		dev_name = "mesonvout";
-		/*reg = <0 0>;*/
-	};
-	
-	mesonvout2{
-		compatible = "amlogic,mesonvout2";
-		dev_name = "mesonvout2";
-		/*reg = <0 0>;*/
+//$$ DEVICE="usb_a"
+//$$ L2 PROP_U32 = "lm-periph-id"
+//$$ L2 PROP_STR = "clock-src"
+//$$ L2 PROP_U32 = "port-id"
+//$$ L2 PROP_U32 = "port-type"
+//$$ L2 PROP_U32 = "port-speed"
+//$$ L2 PROP_U32 = "port-config"
+//$$ L2 PROP_U32 = "port-dma"
+//$$ L2 PROP_U32 = "port-id-mode"
+//$$ L2 PROP_STR = "gpio-vbus-power"
+//$$ L2 PROP_U32 = "gpio-work-mask"
+// L2 PROP_U32 = "charger_detect"
+//$$ L2 PROP_STR = "status"
+		usb_a{
+			lm-compatible = "amlogic,usb";
+			lm-periph-id = <0>; /** lm name */
+			clock-src = "usb0"; /** clock src */
+			port-id = <0>;  /** ref to mach/usb.h */
+			port-type = <0>;	/** 0: otg, 1: host, 2: slave */
+			port-speed = <0>; /** 0: default, high, 1: full */
+			port-config = <0>; /** 0: default */
+			port-dma = <0>; /** 0: default, 1: single, 2: incr, 3: incr4, 4: incr8, 5: incr16, 6: disable*/
+			port-id-mode = <0>; /** 0: hardware, 1: sw_host, 2: sw_slave*/
+			gpio-vbus-power = "GPIOD_9";
+			gpio-work-mask	= <1>; /**0: work on pulldown,1:work on pullup*/
+			status = "okay";
+		};
 	};
 	
+/// ***************************************************************************************
+///	-	LCD
+//$$ MODULE="LCD"
+//$$ DEVICE="backlight"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_CHOICE "Bl_pin_0_match" = "pinctrl-0"
+//$$ L2 PROP_U32 = "bl_level_default"
+//$$ L2 PROP_U32 = "bl_ctrl_method"
+//$$ L2 PROP_STR = "bl_gpio_port"
+//$$ L2 PROP_U32 2 = "bl_gpio_dim_max_min"
+//$$ L2 PROP_STR 2 = "bl_pwm_port_gpio_used"
+//$$ L2 PROP_U32 = "bl_pwm_freq"
+//$$ L2 PROP_U32 2 = "bl_pwm_duty_max_min"
 	backlight{
 		compatible = "amlogic,backlight";
 		dev_name = "backlight";
@@ -465,7 +786,71 @@
 		bl_pwm_freq=<400>;	/** backlight control pwm frequency(unit: Hz, only for pwm control method) */
 		bl_pwm_duty_max_min=<100 20>;	/** brightness diminig duty_max, duty_min : (unit: %, positive logic, only for pwm control method) */
 	};
-	
+//$$ DEVICE="lcd"
+//$$ L2 PROP_STR = "status"
+
+//$$ L2 PROP_STR = "lcd_model_name"
+//$$ L2 PROP_CHOICE "lcd_model_config_match" = "lcd_model_config"
+//$$ L2 PROP_U32 = "lcd_bits_user"
+
+//$$ L2 PROP_U32 2 = "ttl_rb_bit_swap"
+//$$ L2 PROP_U32 = "lvds_channel_pn_swap"
+
+//$$ L2 PROP_U32 2 = "valid_hvsync_de"
+//$$ L3 PROP_U32 4 = "hsign_hoffset_vsign_voffset"
+
+//$$ L3 PROP_U32 2 = "dither_user_ctrl"
+//$$ L3 PROP_U32 3 = "vadj_brightness_contrast_saturation"
+
+//$$ L3 PROP_U32 2 = "gamma_en_revert"
+//$$ L4 PROP_U32 4 = "gamma_multi_rgb_coeff"
+//$$ L3 PROP_U32 256 = "gamma_table"
+
+//$$ L4 PROP_U32 = "clock_spread_spectrum"
+//$$ L4 PROP_U32 = "clock_auto_generation"
+//$$ L4 PROP_U32 3 = "clk_pll_div_clk_ctrl"
+//$$ L4 PROP_U32 3 = "mipi_dsi_lane_speed_user_min_max"
+//$$ L4 PROP_U32 = "lvds_vswing"
+//$$ L4 PROP_U32 2 = "lvds_user_repack"
+//$$ L4 PROP_U32 3 = "edp_user_link_rate_lane_count"
+//$$ L4 PROP_U32 2 = "edp_link_adaptive_vswing"
+//$$ L4 PROP_U32 2 = "rgb_base_coeff"
+//$$ L4 PROP_U32 2 = "video_on_pixel_line"
+
+//$$ L2 PROP_STR 3 = "power_on_uboot"
+//$$ L2 PROP_STR 3 = "power_on_step_1"
+//$$ L2 PROP_STR 3 = "power_on_step_2"
+//$$ L2 PROP_STR 3 = "power_on_step_3"
+//$$ L2 PROP_STR 3 = "power_on_step_4"
+//$$ L2 PROP_STR 3 = "power_on_step_5"
+//$$ L2 PROP_STR 3 = "power_on_step_6"
+//$$ L2 PROP_STR 3 = "power_on_step_7"
+//$$ L2 PROP_STR 3 = "power_on_step_8"
+//$$ L2 PROP_STR 3 = "power_on_step_9"
+//$$ L2 PROP_STR 3 = "power_on_step_10"
+//$$ L2 PROP_STR 3 = "power_on_step_11"
+//$$ L2 PROP_STR 3 = "power_on_step_12"
+//$$ L2 PROP_STR 3 = "power_on_step_13"
+//$$ L2 PROP_STR 3 = "power_on_step_14"
+//$$ L2 PROP_STR 3 = "power_on_step_15"
+//$$ L2 PROP_U32 15 = "power_on_delay"
+//$$ L2 PROP_STR 3 = "power_off_step_1"
+//$$ L2 PROP_STR 3 = "power_off_step_2"
+//$$ L2 PROP_STR 3 = "power_off_step_3"
+//$$ L2 PROP_STR 3 = "power_off_step_4"
+//$$ L2 PROP_STR 3 = "power_off_step_5"
+//$$ L2 PROP_STR 3 = "power_off_step_6"
+//$$ L2 PROP_STR 3 = "power_off_step_7"
+//$$ L2 PROP_STR 3 = "power_off_step_8"
+//$$ L2 PROP_STR 3 = "power_off_step_9"
+//$$ L2 PROP_STR 3 = "power_off_step_10"
+//$$ L2 PROP_STR 3 = "power_off_step_11"
+//$$ L2 PROP_STR 3 = "power_off_step_12"
+//$$ L2 PROP_STR 3 = "power_off_step_13"
+//$$ L2 PROP_STR 3 = "power_off_step_14"
+//$$ L2 PROP_STR 3 = "power_off_step_15"
+//$$ L2 PROP_U32 15 = "power_off_delay"
+//$$ L2 PROP_STR 3 = "power_off_uboot"
 	lcd{
 		compatible = "amlogic,lcd";
 		dev_name = "lcd";
@@ -556,6 +941,17 @@
 		power_off_uboot="pmu","GPIO1","2";	/** only for uboot, at the end of lcd_power_off, no need config delay */
 	};
 
+//$$ MATCH "lcd_model_config_match" = <&lcd_CLAP070NJ02>
+//$$ L2 PROP_STR = "model_name"
+//$$ L2 PROP_STR = "interface"
+//$$ L2 PROP_U32 2 = "active_area"
+//$$ L2 PROP_U32 2 = "lcd_bits_option"
+//$$ L2 PROP_U32 2 = "resolution"
+//$$ L2 PROP_U32 2 = "period"
+//$$ L2 PROP_U32 2 = "clock_hz_pol"
+//$$ L2 PROP_U32 2 = "hsync_width_backporch"
+//$$ L2 PROP_U32 2 = "vsync_width_backporch"
+//$$ L2 PROP_U32 2 = "pol_hsync_vsync"
 	lcd_CLAP070NJ02:lcd_CLAP070NJ02{	//g33
 		model_name="CLAP070NJ02";	/** lcd model name */
 		interface="ttl";			/** lcd_interface(mipi, lvds, edp, ttl) */
@@ -571,6 +967,17 @@
 		pol_hsync_vsync=<0 0>;	/** hsync_polarity, vsync_polarity : (0=negative, 1=positive) */
 	};
 	
+//$$ MATCH "lcd_model_config_match" = <&lcd_TN070TN92>
+//$$ L2 PROP_STR = "model_name"
+//$$ L2 PROP_STR = "interface"
+//$$ L2 PROP_U32 2 = "active_area"
+//$$ L2 PROP_U32 2 = "lcd_bits_option"
+//$$ L2 PROP_U32 2 = "resolution"
+//$$ L2 PROP_U32 2 = "period"
+//$$ L2 PROP_U32 2 = "clock_hz_pol"
+//$$ L2 PROP_U32 2 = "hsync_width_backporch"
+//$$ L2 PROP_U32 2 = "vsync_width_backporch"
+//$$ L2 PROP_U32 2 = "pol_hsync_vsync"
 	lcd_TN070TN92:lcd_TN070TN92{	//800*480
 		model_name="TN070TN92";	/** lcd model name */
 		interface="ttl";		/** lcd_interface(mipi, lvds, edp, ttl) */
@@ -586,6 +993,17 @@
 		pol_hsync_vsync=<0 0>;	/** hsync_polarity, vsync_polarity : (0=negative, 1=positive) */
 	};
 	
+//$$ MATCH "lcd_model_config_match" = <&lcd_LP097X02>
+//$$ L2 PROP_STR = "model_name"
+//$$ L2 PROP_STR = "interface"
+//$$ L2 PROP_U32 2 = "active_area"
+//$$ L2 PROP_U32 2 = "lcd_bits_option"
+//$$ L2 PROP_U32 2 = "resolution"
+//$$ L2 PROP_U32 2 = "period"
+//$$ L2 PROP_U32 2 = "clock_hz_pol"
+//$$ L2 PROP_U32 2 = "hsync_width_backporch"
+//$$ L2 PROP_U32 2 = "vsync_width_backporch"
+//$$ L2 PROP_U32 2 = "pol_hsync_vsync"	
 	lcd_LP097X02:lcd_LP097X02{	//g24
 		model_name="LP097X02";	/** lcd model name */
 		interface="lvds";		/** lcd_interface(mipi, lvds, edp, ttl) */
@@ -601,163 +1019,58 @@
 		pol_hsync_vsync=<0 0>;	/** hsync_polarity, vsync_polarity : (0=negative, 1=positive) */
 	};
 	
-	efuse{
-		compatible = "amlogic,efuse";
-		dev_name = "efuse";
-		plat-pos = <0 454>;
-		plat-count = <58>;
-		usid-min = <8>; /*reserved*/
-		usid-max = <31>; /*reserved*/
-	};
-	
-	card{
-		compatible = "amlogic,aml_card";
-		dev_name = "aml_sd_mmc.0";
-		pinctrl-names="sdhc_b","sdhc_c","sdhc_a";
-		pinctrl-0=<&sdhc_b_pins>;
-		pinctrl-1=<&sdhc_c_pins>;
-		pinctrl-2=<&sdhc_a_pins>;
-	};
-    sdio{
-        compatible = "amlogic,aml_sdio";
-        dev_name = "aml_sdio.0";
-        reg = <0xc1108c20 0x20>;
-        pinctrl-names = "sd_clk_cmd_pins", "sd_all_pins", "emmc_clk_cmd_pins", "emmc_all_pins", "sdio_clk_cmd_pins", "sdio_all_pins"; /*sd:sdio_b, emmc:sdio_c, sdio:sdio_a*/
-        // pinctrl-0 = <&sd_pins>;
-        // pinctrl-1 = <&emmc_pins>;
-        // pinctrl-2 = <&sdio_pins>;
-        pinctrl-0 = <&sd_clk_cmd_pins>;
-        pinctrl-1 = <&sd_all_pins>;
-        pinctrl-2 = <&emmc_clk_cmd_pins>;
-        pinctrl-3 = <&emmc_all_pins>;
-        pinctrl-4 = <&sdio_clk_cmd_pins>;
-        pinctrl-5 = <&sdio_all_pins>;
+/// ***************************************************************************************
+///     -       Sensors
+//$$ MODULE="Sensors"
+//$$ DEVICE="sensor"
+//$$ L2 PROP_STR = "status"
+    sensor{
+		compatible = "amlogic,aml_sensor";
+		status = "okay";
 
-        sd{
-            port = <1>;          /*0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
-            pinname = "sd";
-            ocr_avail = <0x200000>;          /*VDD voltage 3.3 ~ 3.4 */
-            caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED";
-            f_min = <300000>;
-            f_max = <50000000>;
-            f_max_w = <50000000>;
-            max_req_size = <0x20000>;          /*128KB*/
-            gpio_dat3 = "CARD_3";
-            gpio_cd = "CARD_6";
-            gpio_power = "CARD_8";
-            power_level = <0>;
-            irq_in = <5>;
-            #irq_in_edge = "GPIO_IRQ_FALLING";
-            irq_out = <6>;
-            #irq_out_edge = "GPIO_IRQ_RISING";
-            card_type = <5>; /* 0:unknown, 1:mmc card(include eMMC), 2:sd card(include tSD), 3:sdio device(ie:sdio-wifi), 4:SD combo (IO+mem) card, 5:NON sdio device(means sd/mmc card), other:reserved */
+//$$ DEVICE="sensor_stk831x"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "address"
+//$$ L2 PROP_STR = "i2c_bus"
+        sensor_stk831x:stk831x{
+            dev_name = "stk831x";
+            status = "okay";
+            address = <0x3d>;
+            i2c_bus = "i2c_bus_b";
+            acc_dir = <0x1111>;
         };
-        	
-        emmc{
-            port = <2>;          /*0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
-            pinname = "emmc";
-            ocr_avail = <0x200000>;          /*VDD voltage 3.3 ~ 3.4 */
-            caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED", "MMC_CAP_NONREMOVABLE"; // MMC_CAP_NEEDS_POLL -- for detect, MMC_CAP_NONREMOVABLE -- for eMMC/TSD
-            f_min = <300000>;
-            f_max = <50000000>;
-            f_max_w = <50000000>;
-            max_req_size = <0x20000>;          /*128KB*/
-            gpio_dat3 = "BOOT_3";
-            #gpio_cd = "CARD_6";
-            #gpio_power = "CARD_8";
-            #power_level = <0>;
-            card_type = <5>; /* 0:unknown, 1:mmc card(include eMMC), 2:sd card(include tSD), 3:sdio device(ie:sdio-wifi), 4:SD combo (IO+mem) card, 5:NON sdio device(means sd/mmc card), other:reserved */
+
+//$$ DEVICE="sensor_mma7660"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "address"
+//$$ L2 PROP_STR = "i2c_bus"
+        sensor_mma7660:mma7660{
+            dev_name = "mma7660";
+            status = "okay";
+            address = <0x4c>;
+            i2c_bus = "i2c_bus_b";
         };
-        
-         sdio{
-             port = <0>;          /*0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
-             pinname = "sdio";
-             ocr_avail = <0x200000>;          /*VDD voltage 3.3 ~ 3.4 */
-             caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED", "MMC_CAP_NONREMOVABLE";
-             f_min = <300000>;
-             f_max = <50000000>;
-             f_max_w = <50000000>;
-             max_req_size = <0x20000>;          /*128KB*/
-             card_type = <3>; /* 0:unknown, 1:mmc card(include eMMC), 2:sd card(include tSD), 3:sdio device(ie:sdio-wifi), 4:SD combo (IO+mem) card, 5:NON sdio device(means sd/mmc card), other:reserved */
-         };
     };
-    
-    // sdhc{
-        // compatible = "amlogic,aml_sdhc";
-        // dev_name = "aml_sdhc.0";
-        // reg = <0xc1108e00 0x30>;
-        // pinctrl-names = "sdhc_sd_clk_cmd_pins", "sdhc_sd_all_pins", "sdhc_emmc_clk_cmd_pins", "sdhc_emmc_all_pins"; // , "sdhc_sdio_clk_cmd_pins", "sdhc_sdio_all_pins"; [>sd:sdio_b, emmc:sdio_c, sdio:sdio_a<]
-        // pinctrl-0 = <&sdhc_sd_clk_cmd_pins>;
-        // pinctrl-1 = <&sdhc_sd_all_pins>;
-        // pinctrl-2 = <&sdhc_emmc_clk_cmd_pins>;
-        // pinctrl-3 = <&sdhc_emmc_all_pins>;
-        // pinctrl-4 = <&sdhc_sdio_clk_cmd_pins>;
-        // pinctrl-5 = <&sdhc_sdio_all_pins>;
 
-        // emmc{
-            // port = <5>;          /*0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c */
-            // pinname = "emmc";
-            // ocr_avail = <0x200000>;          /*VDD voltage 3.3 ~ 3.4 */
-            // caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED", "MMC_CAP_NONREMOVABLE"; // MMC_CAP_NEEDS_POLL -- for detect, MMC_CAP_NONREMOVABLE -- for eMMC/TSD
-            // f_min = <300000>;
-            // f_max = <50000000>;
-            // f_max_w = <50000000>;
-            // max_req_size = <0x20000>;          /*128KB*/
-            // gpio_dat3 = "BOOT_3";
-            // #gpio_cd = "CARD_6";
-            // #gpio_power = "CARD_8";
-            // #power_level = <0>;
-            // all_pins_name = "BOOT_0","BOOT_1","BOOT_2","BOOT_3","BOOT_10","BOOT_11";
-        // };
 
-        // sd{
-            // port = <4>;          [>0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c <]
-            // pinname = "sd";
-            // ocr_avail = <0x200000>;          [>VDD voltage 3.3 ~ 3.4 <]
-            // caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED";
-            // f_min = <300000>;
-            // f_max = <50000000>;
-            // f_max_w = <50000000>;
-            // max_req_size = <0x80000>;          [>512KB<]
-            // gpio_dat3 = "CARD_3";
-            // gpio_cd = "CARD_6";
-            // gpio_power = "CARD_8";
-            // power_level = <0>;
-            // irq_in = <5>;
-            // irq_out = <6>;
-            // all_pins_name = "CARD_0","CARD_1","CARD_2","CARD_3","CARD_4","CARD_5";
-        // };
-        
-        // sdio{
-            // port = <3>;          [>0:sdio_a, 1:sdio_b, 2:sdio_c, 3:sdhc_a, 4:sdhc_b, 5:sdhc_c <]
-            // pinname = "sdio";
-            // ocr_avail = <0x200000>;          [>VDD voltage 3.3 ~ 3.4 <]
-            // caps = "MMC_CAP_4_BIT_DATA","MMC_CAP_MMC_HIGHSPEED","MMC_CAP_SD_HIGHSPEED", "MMC_CAP_NONREMOVABLE";
-            // f_min = <300000>;
-            // f_max = <50000000>;
-            // f_max_w = <50000000>;
-            // max_req_size = <0x20000>;          [>128KB<]
-            // all_pins_name = "GPIOX_0","GPIOX_1","GPIOX_2","GPIOX_3","GPIOX_8","GPIOX_9";
-        // };
-    // };
-	
-	wifi{
-		compatible = "amlogic,aml_broadcm_wifi";
-		dev_name = "aml_broadcm_wifi";
-		interrupt_pin = "GPIOX_11";
-		irq_num = <4>;
-		irq_trigger_type = "GPIO_IRQ_HIGH";
-		power_on_pin = "GPIOAO_3";
-		clock_32k_pin = "GPIOX_12";
-	};
-	
-	meson-remote{
-		compatible = "amlogic,aml_remote";
-		dev_name = "meson-remote";
-		ao_baseaddr = <0xf3100480>;
-		pinctrl-names="default";
-		pinctrl-0=<&remote_pins>;
-	};
+/// ***************************************************************************************
+///	-	Audio
+//$$ MODULE="Audio"
+//$$ DEVICE="audio_platform"
+//$$ L2 PROP_STR = "status"  
+    audio_platform{
+        compatible = "amlogic,aml-audio";
+        dev_name = "aml-audio.0";
+	status = "okay";
+    };
+
+//$$ DEVICE="audio_dai"
+//$$ L2 PROP_STR = "status"
+    audio_dai{
+        compatible = "amlogic,aml-dai";
+        dev_name = "aml-dai.0";
+        status = "okay";
+    };
 
     aml_audio_codc{
         compatible = "amlogic,audio_codec";
@@ -770,23 +1083,13 @@
         };  
         codec_wm8960:wm8960{
             codec_name = "wm8960";
-            i2c_addr = <0x1A>;
-            i2c_bus = "i2c_bus_b";
-            capless = <1>;
-            status = "okay";
-        };
-    };
-    
-    audio_platform{
-        compatible = "amlogic,aml-audio";
-        dev_name = "aml-audio.0";
-    };
-
-    audio_dai{
-        compatible = "amlogic,aml-dai";
-        dev_name = "aml-dai.0";
+            i2c_addr = <0x1A>;
+            i2c_bus = "i2c_bus_b";
+            capless = <1>;
+            status = "okay";
+        };
     };
-
+    
     wm8960_sound_card{
         compatible = "sound_card,wm8960";
         aml,sound_card = "AML-WM8960";
@@ -840,47 +1143,86 @@
         hp_det_inv;
         status = "disabled";
     };
-    
-    touch{
-        compatible = "amlogic,aml_touch";
-        #address-cells = <1>;
-        #size-cells = <0>;
-				touch_ft5x06:ft5x06{
-					touch_name = "ft5x06";
-					i2c_bus = "i2c_bus_a";
-					reg = <0x38>;
-					ic_type = <0>;
-					irq = <0>;
-					gpio_interrupt = "GPIOA_16";
-					gpio_reset = "GPIOC_3";
-					xres = <1024>;
-					yres = <600>;
-					pol = <0x1>;
-					fw_file = "/etc/touch/ft5x06.fw";
-				};
-				touch_gslx680:gslx680{
-					touch_name = "gslx680";
-					i2c_bus = "i2c_bus_a";
-					reg = <0x40>;
-					ic_type = <0>;
-					irq = <1>;
-					irq_edge = "GPIO_IRQ_RISING";
-					gpio_interrupt = "GPIOA_16";
-					gpio_reset = "GPIOC_3";
-					xres = <1024>;
-					yres = <600>;
-					pol = <0x4>;
-					max_num = <5>;
-					fw_file = "/etc/touch/gslx680.fw";
-				};
-   };
-    
+
+/// ***************************************************************************************
+///	-	Camera
+//$$ MODULE="Camera"
+///	-	aml_cams
+//$$ DEVICE = "aml_cams"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_STR = "pinctrl-names"
+//$$ L2 PROP_CHOICE "Camera_pin_0_match" = "pinctrl-0"
+	aml_cams{
+		compatible = "amlogic,cams_prober";
+		status = "okay";
+		pinctrl-names = "gpio";
+		pinctrl-0 = <&aml_cam_gpio_pins> ;
+///	-	gc0308
+//$$ DEVICE = "gc0308"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "front_back"
+//$$ L2 PROP_STR = "i2c_bus"
+//$$ L2 PROP_STR = "gpio_pwdn"
+//$$ L2 PROP_STR = "gpio_rst"
+//$$ L2 PROP_U32 = "mirror_flip"
+//$$ L2 PROP_U32 = "vertical_flip"
+//$$ L2 PROP_STR = "bt_path"
+		cam_0{
+			cam_name = "gc0308";
+			front_back = <0>;
+			i2c_bus = "i2c_bus_a";
+			gpio_pwdn = "GPIOE_11";
+			gpio_rst = "GPIOZ_0";
+			mirror_flip = <0>;
+			vertical_flip = <1>;
+			status = "okay";
+		};
+///	-	gc0328
+//$$ DEVICE="gc0328"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "front_back"
+//$$ L2 PROP_STR = "i2c_bus"
+//$$ L2 PROP_STR = "gpio_pwdn"
+//$$ L2 PROP_STR = "gpio_rst"
+//$$ L2 PROP_U32 = "mirror_flip"
+//$$ L2 PROP_U32 = "vertical_flip"
+//$$ L2 PROP_STR = "bt_path"
+		cam_1{
+			cam_name = "gc0328";
+			front_back = <0>;
+			i2c_bus = "i2c_bus_a";
+			gpio_pwdn = "GPIOE_11";
+			gpio_rst = "GPIOZ_0";
+			mirror_flip = <0>;
+			vertical_flip = <0>;
+			status = "okay";	
+		};
+	
+	};
+	
+
+
+/// ***************************************************************************************
+///	-	Input
+//$$ MODULE="Input"
+//$$ DEVICE="saradc"
+//$$ L2 PROP_STR = "status"
 	saradc{
 		compatible = "amlogic,saradc";
+		status = "okay";
 	};
-
+//$$ DEVICE="adc_keypad"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "key_num"
+//$$ L2 PROP_U32 = "name_len"
+//$$ L2 PROP_STR 5 = "key_name"
+//$$ L2 PROP_U32 5 = "key_code"
+//$$ L2 PROP_U32 5 = "key_chan"
+//$$ L2 PROP_U32 5 = "key_val"
+//$$ L2 PROP_U32 5 = "key_tolerance"
 	adc_keypad{
 		compatible = "amlogic,adc_keypad";
+		status = "okay";
 		key_num = <5>;
 		name_len = <20>;
 		key_name = "menu","vol-","vol+","back","home";
@@ -889,30 +1231,55 @@
 		key_val = <9 275 150 392 513>;
 		key_tolerance = <40 40 40 40 40>;
 	};
-
+//$$ DEVICE="key_input"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "scan_period"
+//$$ L2 PROP_U32 = "fuzz_time"
+//$$ L2 PROP_U32 = "key_code_list"
+//$$ L2 PROP_U32 = "key_num"
+//$$ L2 PROP_U32 = "config"
 	key_input{
 		compatible = "amlogic,key_input";
+		status = "okay";
 		scan_period = <20>;
 		fuzz_time = <60>;
 		key_code_list = <116>;
 		key_num = <1>;
 		config = <0>;
 	};
+//$$ DEVICE="aml_remote"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "ao_baseaddr"
+//$$ L2 PROP_STR = "pinctrl-names"
+//$$ L2 PROP_CHOICE "Remote_pin_match" = "pinctrl-0"
+	meson-remote{
+		compatible = "amlogic,aml_remote";
+		dev_name = "meson-remote";
+		status = "okay";
+		ao_baseaddr = <0xf3100480>;
+		pinctrl-names="default";
+		pinctrl-0=<&remote_pins>;
+	};
 
-    securitykey{ 
-        compatible = "amlogic,aml_keys"; 
-    }; 
-    	
-    bt-dev{
-        compatible = "amlogic,bt-dev";
-        dev_name = "bt-dev";
-        gpio_reset = "GPIOC_9";
-        gpio_en = "GPIOC_7";
-        gpio_wake = "GPIOX_10";
-    };
+    
+
+/// ***************************************************************************************
+///	-	Nand
+//$$ MODULE="Nand"
+//$$ DEVICE="aml_nand"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+//$$ L2 PROP_STR 2 = "pinctrl-names"
+//$$ L2 PROP_CHOICE 7 "Nand_pin_0_match" = "pinctrl-0"
+//$$ L2 PROP_CHOICE 7 "Nand_pin_1_match" = "pinctrl-1"
+//$$ L3 PROP_STR 2 ="plat-names"
+//$$ L2 PROP_U32 = "plat-num"
+//$$ L2 PROP_CHOICE "plat-part-0_match" = "plat-part-0"
+//$$ L2 PROP_CHOICE "plat-part-1_match" = "plat-part-1"
 	nand{
 		compatible = "amlogic,aml_nand";
 		dev_name = "nand";
+		status = "okay";
 		reg = <0xc1108600 0x24>;
 		pinctrl-names = "nand_rb_mod","nand_norb_mod";
 		pinctrl-0 = <&nand_input_state &conf_nand_state &nand_base 
@@ -927,6 +1294,16 @@
 		plat-part-0 = <&bootload>;
 		plat-part-1 = <&normal>;
 
+//$$ MATCH "plat-part-0_match" = <&bootload>
+//$$ L2 PROP_STR = "enable_pad"
+//$$ L2 PROP_STR = "busy_pad"
+//$$ L2 PROP_STR = "timming_mode"
+//$$ L2 PROP_STR = "bch_mode"
+//$$ L2 PROP_U32 = "t_rea"
+//$$ L2 PROP_U32 = "t_rhoh"
+//$$ L2 PROP_U32 = "chip_num"
+//$$ L2 PROP_U32 = "part_num"
+//$$ L2 PROP_U32 = "rb_detect"
 		bootload: bootload{
 			enable_pad ="ce0";
 			busy_pad = "rb0";
@@ -938,6 +1315,17 @@
 			part_num = <0>;
 			rb_detect = <1>;
 		};
+//$$ MATCH "plat-part-1_match" = <&normal>
+//$$ L2 PROP_STR 2 = "enable_pad"
+//$$ L2 PROP_STR 2 = "busy_pad"
+//$$ L2 PROP_STR = "timming_mode"
+//$$ L2 PROP_STR = "bch_mode"
+//$$ L2 PROP_STR = "plane_mode"
+//$$ L2 PROP_U32 = "t_rea"
+//$$ L2 PROP_U32 = "t_rhoh"
+//$$ L2 PROP_U32 = "chip_num"
+//$$ L2 PROP_U32 = "part_num"
+//$$ L2 PROP_U32 = "rb_detect"
 		normal: normal{
 			enable_pad ="ce0","ce1";
 			busy_pad = "rb0","rb1";
@@ -984,62 +1372,227 @@
 		};
 	};	
 
-    sensor{
-		compatible = "amlogic,aml_sensor";
-        sensor_stk831x:stk831x{
-            dev_name = "stk831x";
-            status = "okay";
-            address = <0x3d>;
-            i2c_bus = "i2c_bus_b";
-            acc_dir = <0x1111>;
-        };
+/// ***************************************************************************************
+///	-	Efuse
+//$$ MODULE="Efuse"
+//$$ DEVICE="efuse"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 2 = "plat-pos"
+//$$ L2 PROP_U32 = "plat-count"
+//$$ L2 PROP_U32 = "usid-min"
+//$$ L2 PROP_U32 = "usid-max"
+	efuse{
+		compatible = "amlogic,efuse";
+		dev_name = "efuse";
+		status = "okay";
+		plat-pos = <0 454>;
+		plat-count = <58>;
+		usid-min = <8>; /*reserved*/
+		usid-max = <31>; /*reserved*/
+	};
+	
+/// ***************************************************************************************
+///	-	HDMI
+//$$ MODULE="HDMI"
+//$$ DEVICE="amhdmitx"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_CHOICE "HDMI_vend-data_match" = "vend-data"
+//$$ L2 PROP_CHOICE "HDMI_pwr-ctrl_match" = "pwr-ctrl"
+	amhdmitx{
+		compatible = "amlogic,amhdmitx";
+		dev_name = "amhdmitx";
+		phy-size = <3>;
+		phy-data = <27  0x16  0x30    /* 480i/p 576i/p */
+				 74  0x16  0x40    /* 720p 1080i */
+				 148  0x16  0x40   /* 1080p */
+				>;
+	};
+	
+/// ***************************************************************************************
+///	-	Securitykey
+//$$ MODULE="Securitykey"
+//$$ DEVICE="securitykey"
+//$$ L2 PROP_STR = "status"
+	securitykey{ 
+        compatible = "amlogic,aml_keys"; 
+	status = "ok";
+    }; 
+/// ***************************************************************************************
+///	-	PowerManager
+//$$ MODULE="PowerManager"
+//$$ DEVICE="amvenc_avc"
+//$$ L2 PROP_STR = "status"
+    aml_pm{
+		compatible = "amlogic,pm";
+		dev_name = "aml_pm";
+		status = "okay";
+	};
+/// ***************************************************************************************
+///	-	Touch
+//$$ MODULE="Touch"
+//$$ DEVICE = "touch"
+//$$ L2 PROP_STR = "status"
+    touch{
+        compatible = "amlogic,aml_touch";
+        status = "okay";
+        #address-cells = <1>;
+        #size-cells = <0>;
+	
+//$$ DEVICE = "touch_ft5x06"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_STR = "i2c_bus"
+//$$ L3 PROP_U32 ="reg"
+//$$ L3 PROP_U32 ="ic_type"
+//$$ L3 PROP_U32 ="irq"
+//$$ L3 PROP_STR = "gpio_interrupt"
+//$$ L3 PROP_STR = "gpio_reset"
+//$$ L3 PROP_U32 ="xres"
+//$$ L3 PROP_U32 ="yres"
+//$$ L3 PROP_U32 ="pol"
+//$$ L3 PROP_STR = "fw_file"
+				touch_ft5x06:ft5x06{
+					touch_name = "ft5x06";
+					status = "okay";
+					i2c_bus = "i2c_bus_a";
+					reg = <0x38>;
+					ic_type = <0>;
+					irq = <0>;
+					gpio_interrupt = "GPIOA_16";
+					gpio_reset = "GPIOC_3";
+					xres = <1024>;
+					yres = <600>;
+					pol = <0x1>;
+					fw_file = "/etc/touch/ft5x06.fw";
+				};
+//$$ DEVICE = "touch_gslx680"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_STR = "touch_name"
+//$$ L3 PROP_STR = "i2c_bus"
+//$$ L3 PROP_U32 ="ic_type"
+//$$ L3 PROP_U32 ="irq"
+//$$ L3 PROP_U32 ="irq_edge"
+//$$ L3 PROP_STR = "gpio_interrupt"
+//$$ L3 PROP_STR = "gpio_reset"
+//$$ L3 PROP_U32 ="xres"
+//$$ L3 PROP_U32 ="yres"
+//$$ L3 PROP_U32 ="pol"
+//$$ L3 PROP_U32 ="max_num"
+//$$ L3 PROP_STR = "fw_file"
+				touch_gslx680:gslx680{
+					touch_name = "gslx680";
+					i2c_bus = "i2c_bus_a";
+					reg = <0x40>;
+					ic_type = <0>;
+					irq = <1>;
+					irq_edge = "GPIO_IRQ_RISING";
+					gpio_interrupt = "GPIOA_16";
+					gpio_reset = "GPIOC_3";
+					xres = <1024>;
+					yres = <600>;
+					pol = <0x4>;
+					max_num = <5>;
+					fw_file = "/etc/touch/gslx680.fw";
+				};
+   };
 
-        sensor_mma7660:mma7660{
-            dev_name = "mma7660";
-            status = "okay";
-            address = <0x4c>;
-            i2c_bus = "i2c_bus_b";
-        };
+
+/// ***************************************************************************************
+///	-	Cpufreq
+//$$ MODULE="Cpufreq"
+//$$ DEVICE="cpufreq-meson"
+//$$ L2 PROP_STR = "status"
+    cpufreq-meson{
+        compatible = "amlogic,cpufreq-meson";
+        status = "okay";
     };
+    
+    
+	card{
+		compatible = "amlogic,aml_card";
+		dev_name = "aml_sd_mmc.0";
+		pinctrl-names="sdhc_b","sdhc_c","sdhc_a";
+		pinctrl-0=<&sdhc_b_pins>;
+		pinctrl-1=<&sdhc_c_pins>;
+		pinctrl-2=<&sdhc_a_pins>;
+	};
 
+/// **************************************************************************************
+/// -   GPIO
+//$$ MODULE="GPIO"
+//$$ DEVICE="m6-gpio"
 	gpio:gpio{
 		compatible = "amlogic,m6-gpio";
 		dev_name = "gpio";
 		#gpio-cells=<2>;
 	};
 
+/// **************************************************************************************
+/// -   Pinmux
+//$$ MODULE="Pinmux"
+//$$ DEVICE="pinmux-m6"
 	pinmux{
 		compatible = "amlogic,pinmux-m6";
 		dev_name = "pinmux";
 		#pinmux-cells=<2>;
+//$$ MATCH "uart_ao_pin_match" = "&ao_uart_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR 2 = "amlogic,pins"
 		ao_uart_pins:ao_uart{
 			amlogic,setmask=<10 0x1800>;
 			amlogic,pins="GPIOAO_0", "GPIOAO_1";
 		};
+//$$ MATCH "uart_0_pin_match" = "&a_uart_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR 2 = "amlogic,pins"
 		a_uart_pins:a_uart{
 			amlogic,setmask=<4 0x3c00>;
 			amlogic,pins="GPIOX_13", "GPIOX_14", "GPIOX_15", "GPIOX_16";
 		};
+		
+//$$ MATCH "meson_vcck_dvfs_pin_0_match" = "&aml_pwm_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		aml_pwm_pins:aml_pwm{
 		    amlogic,setmask=<2 0x4>;
 			amlogic,clrmask=<1 0x20000000>;
 			amlogic,pins="GPIOD_0";
 		};
+
+//$$ MATCH "I2C_AO_pin_match" = "&ao_i2c_master"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 2 = "amlogic,pins"
 		ao_i2c_master:ao_i2c{
 			amlogic,setmask=<10 0x60>;
 			amlogic,clrmask=<10 0x1800006>;
 			amlogic,pins="GPIOAO_4","GPIOAO_5";
 		};
+		
+//$$ MATCH "I2C_A_pin_match" = "&a_i2c_master"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 2 = "amlogic,pins"
 		a_i2c_master:a_i2c{
 			amlogic,setmask=<5 0xc000000>;
 			amlogic,clrmask=<5 0x3000000>;
 			amlogic,pins="GPIOX_25","GPIOX_26";
 		};
+		
+//$$ MATCH "I2C_B_pin_match" = "&b_i2c_master"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 2 = "amlogic,pins"
 		b_i2c_master:b_i2c{
 			amlogic,setmask=<5 0xc0000000>;
 			amlogic,clrmask=<5 0x30000000>;
 			amlogic,pins="GPIOX_27","GPIOX_28";
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&nand_input_state"
+//$$ MATCH "Nand_pin_1_match" = "&nand_input_state"
+//$$ L2 PROP_STR 17 = "amlogic,pins"
+//$$ L2 PROP_U32 = "amlogic,enable-output"
 		nand_input_state:nand_input{
 			amlogic,pins = "BOOT_0","BOOT_1","BOOT_2","BOOT_3","BOOT_4",
 						"BOOT_5","BOOT_6","BOOT_7","BOOT_12","BOOT_13",
@@ -1047,11 +1600,22 @@
 						"BOOT_14","BOOT_15","BOOT_16";
 			amlogic,enable-output=<1>;
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&conf_nand_state"
+//$$ MATCH "Nand_pin_1_match" = "&conf_nand_state"
+//$$ L2 PROP_STR 9 = "amlogic,pins"
+//$$ L2 PROP_U32 = "amlogic,pullup"
 		conf_nand_state: conf_nand{
 			amlogic,pins = "BOOT_0","BOOT_1","BOOT_2","BOOT_3","BOOT_4",
 						"BOOT_5","BOOT_6","BOOT_7","BOOT_16";
 			amlogic,pullup=<1>;
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&nand_base"
+//$$ MATCH "Nand_pin_1_match" = "&nand_base"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 4*2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 13 = "amlogic,pins"
 		nand_base: nand{
 			amlogic,setmask=<2 0xc3c0000>;
 			amlogic,clrmask=<	5 0xe
@@ -1062,111 +1626,62 @@
 						"BOOT_5","BOOT_6","BOOT_7","BOOT_12","BOOT_13",
 						"BOOT_14","BOOT_15","BOOT_16";
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&nand_ce0"
+//$$ MATCH "Nand_pin_1_match" = "&nand_ce0"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		nand_ce0: nand_ce0{
 			amlogic,setmask=<2 0x2000000>;
 			amlogic,pins = "BOOT_8";
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&nand_ce1"
+//$$ MATCH "Nand_pin_1_match" = "&nand_ce1"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		nand_ce1: nand_ce1{
 			amlogic,setmask=<2 0x1000000>;
 			amlogic,pins = "BOOT_9";
 		};
+		
+//$$ MATCH "Nand_pin_1_match" = "&nand_ce2"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		nand_ce2: nand_ce2{
 			amlogic,setmask=<2 0x800000>;
 			amlogic,pins = "BOOT_10";
 		};
+		
+//$$ MATCH "Nand_pin_1_match" = "&nand_ce3"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		nand_ce3: nand_ce3{
 			amlogic,setmask=<2 0x400000>;
 			amlogic,pins = "BOOT_11";
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&nand_rb0"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		nand_rb0: nand_rb0{
 			amlogic,setmask=<2 0x20000>;
 			amlogic,clrmask=<2 0x800000>;
 			amlogic,pins = "BOOT_10";
 		};
+		
+//$$ MATCH "Nand_pin_0_match" = "&nand_rb1"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		nand_rb1: nand_rb1{
 			amlogic,setmask=<2 0x10000>;
 			amlogic,clrmask=<2 0x400000>;
 			amlogic,pins = "BOOT_11";
 		};
+		
 
-		sdhc_b_pins:sdhc_b_pin{
-			amlogic,setmask=<2 0xfc00>;
-			amlogic,clrmask=<2 0xf0>;
-			amlogic,pins="CARD_0","CARD_1","CARD_2","CARD_3","CARD_4","CARD_5";
-		};
-		sdhc_c_pins:sdhc_c_pin{
-			amlogic,setmask=<6 0x3f000000>;
-			amlogic,clrmask=<4 0x6c000000 2 0x4c30000 3 0x80000000>;
-			amlogic,pins="BOOT_0","BOOT_1","BOOT_2","BOOT_3","BOOT_10","BOOT_11";
-		};
-		sdhc_a_pins:sdhc_a_pin{
-			amlogic,setmask=<8 0x3f>;
-			amlogic,clrmask=<5 0x6c00 >;
-			amlogic,pins="GPIOX_0","GPIOX_1","GPIOX_2","GPIOX_3","GPIOX_8","GPIOX_9";
-		};
-        
-        sdhc_sdio_all_pins:sdhc_sdio_all_pins{
-            amlogic,setmask=<5 0x00006c00>; /*0x00007c00 adds "GPIOX_4","GPIOX_5","GPIOX_6","GPIOX_7"; At the same time we should clrmask reg3_bit[27-30]*/
-            amlogic,clrmask=<2 0x000000f0           /*sdhc b*/
-                                4 0x7c000000        /*sdhc c*/
-                                8 0x0000003f>;      /*sdio a, because it uses the same pins with sdhc a*/
-            amlogic,pins="GPIOX_0","GPIOX_1","GPIOX_2","GPIOX_3","GPIOX_8","GPIOX_9";
-            amlogic,enable-output=<1>; /* 0:output, 1:input */
-            amlogic,pullup=<0>;
-        };
-        sdhc_sdio_clk_cmd_pins:sdhc_sdio_clk_cmd_pins{
-            amlogic,setmask=<5 0x00000c00>; /*0x00007c00 adds "GPIOX_4","GPIOX_5","GPIOX_6","GPIOX_7"; At the same time we should clrmask reg3_bit[27-30]*/
-            amlogic,clrmask=<2 0x000000f0           /*sdhc b*/
-                                4 0x7c000000        /*sdhc c*/
-                                8 0x0000003f>;      /*sdio a, because it uses the same pins with sdhc a*/
-            amlogic,pins="GPIOX_8","GPIOX_9";
-            amlogic,enable-output=<1>; /* 0:output, 1:input */
-            amlogic,pullup=<0>;
-        };
-        // sdhc_sd_init_pins:sdhc_sd_init_pins{
-            // amlogic,pins="CARD_0","CARD_1","CARD_2","CARD_3","CARD_4","CARD_5";
-            // amlogic,enable-output=<1>; [> 0:output, 1:input <]
-            // amlogic,pullup=<0>;
-        // };
-        sdhc_sd_all_pins:sdhc_sd_all_pins{
-            amlogic,setmask=<2 0x000000f0>;         /*sdhc b*/
-            amlogic,clrmask=<5 0x00007c00           /*sdhc a*/
-                                4 0x7c000000        /*sdhc c*/
-                                2 0x0000fc00>;      /*sdio b*/
-            amlogic,pins="CARD_0","CARD_1","CARD_2","CARD_3","CARD_4","CARD_5";
-            amlogic,enable-output=<1>; /* 0:output, 1:input */
-            amlogic,pullup=<0>;
-        };
-        sdhc_sd_clk_cmd_pins:sdhc_sd_clk_cmd_pins{
-            amlogic,setmask=<2 0x00000030>;         /*sdhc b*/
-            amlogic,clrmask=<5 0x00007c00           /*sdhc a*/
-                                4 0x7c000000        /*sdhc c*/
-                                2 0x0000fc00>;      /*sdio b*/
-            amlogic,pins="CARD_4","CARD_5"; /* CARD_4:CLK, CARD_5:CMD */
-            amlogic,enable-output=<1>; /* 0:output, 1:input */
-            amlogic,pullup=<0>;
-        };
-        sdhc_emmc_all_pins:sdhc_emmc_all_pins{
-            amlogic,setmask=<4 0x6c000000>; /*0x7c000000 adds "BOOT_4","BOOT_5","BOOT_6","BOOT_7"; At the same time we should clrmask reg2_bit[24-25]*/
-            amlogic,clrmask=<2 0x04c300f0           /*sdhc b & nand*/
-                                5 0x00007c00        /*sdhc a*/
-                                6 0x3f000000        /*sdio c*/
-                                3 0x80000000>;      /*I2C*/
-            amlogic,pins="BOOT_0","BOOT_1","BOOT_2","BOOT_3","BOOT_10","BOOT_11";
-            amlogic,enable-output=<1>; /* 0:output, 1:input */
-            amlogic,pullup=<0>;
-        };
-        sdhc_emmc_clk_cmd_pins:sdhc_emmc_clk_cmd_pins{
-            amlogic,setmask=<4 0x0c000000>; /*0x7c000000 adds "BOOT_4","BOOT_5","BOOT_6","BOOT_7"; At the same time we should clrmask reg2_bit[24-25]*/
-            amlogic,clrmask=<2 0x04c300f0           /*sdhc b & nand*/
-                                5 0x00007c00        /*sdhc a*/
-                                6 0x3f000000        /*sdio c*/
-                                3 0x80000000>;      /*I2C*/
-            amlogic,pins="BOOT_10","BOOT_11";
-            amlogic,enable-output=<1>; /* 0:output, 1:input */
-            amlogic,pullup=<0>;
-        };
-        
         sdio_all_pins:sdio_all_pins{
             amlogic,setmask=<8 0x0000003f>;         /*sdio a*/
             amlogic,clrmask=<6 0x3f000000           /*sdio c*/
@@ -1223,26 +1738,76 @@
             amlogic,enable-output=<1>; /* 0:output, 1:input */
             amlogic,pullup=<0>;
         };
-        
+//$$ MATCH "Card_pin_0_match" = "&sdhc_b_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 6 = "amlogic,pins"    
+               sdhc_b_pins:sdhc_b_pin{
+                       amlogic,setmask=<2 0xfc00>;
+                       amlogic,clrmask=<2 0xf0>;
+                       amlogic,pins="CARD_0","CARD_1","CARD_2","CARD_3","CARD_4","CARD_5";
+               };
+ 
+//$$ MATCH "Card_pin_1_match" = "&sdhc_c_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 6 = "amlogic,pins"    
+               sdhc_c_pins:sdhc_c_pin{
+                       amlogic,setmask=<6 0x3f000000>;
+                       amlogic,clrmask=<4 0x6c000000 2 0x4c30000 3 0x80000000>;
+                       amlogic,pins="BOOT_0","BOOT_1","BOOT_2","BOOT_3","BOOT_10","BOOT_11";
+               };
+
+//$$ MATCH "Card_pin_2_match" = "&sdhc_a_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 6 = "amlogic,pins"    
+               sdhc_a_pins:sdhc_a_pin{
+                       amlogic,setmask=<8 0x3f>;
+                       amlogic,clrmask=<5 0x6c00 >;
+                       amlogic,pins="GPIOX_0","GPIOX_1","GPIOX_2","GPIOX_3","GPIOX_8","GPIOX_9";
+               };
+		
+//$$ MATCH "Remote_pin_match" = "&remote_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR= "amlogic,pins"
 		remote_pins:remote_pin{
 			amlogic,setmask=<10 0x1>;
 			amlogic,pins="GPIOAO_7";
 		};
+		
+//$$ MATCH "wm8960_pin_match" = "&aml_i2s_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 4 = "amlogic,pins"	
 		aml_i2s_pins: aml_i2s_pins{
 			amlogic,setmask=<9 0xAB0>;
 			amlogic,clrmask=<9 0x440>;
 			amlogic,pins = "GPIOE_0","GPIOE_1","GPIOE_2","GPIOE_3";
 		};
+		
+//$$ MATCH "wm8960_pin_match" = "&config_aml_hp_det_pins"
+//$$ L2 PROP_STR= "amlogic,pins"	
+//$$ L2 PROP_U32 = "amlogic,pullup"	
 		config_aml_hp_det_pins: config_aml_hp_det_pins{
 			amlogic,pins = "GPIOA_19";
 			amlogic,pullup=<1>;
 		};
+
+//$$ MATCH "dummy_codec_audio_0_pin_match" = "&aml_dummy_codec_pins"
+//$$ L2 PROP_U32 2*2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 5 = "amlogic,pins"
 		aml_dummy_codec_pins: aml_dummy_codec_pins{
 			amlogic,setmask=<9 0x2B0
 							3 0x1000000>;
 			amlogic,clrmask=<9 0x380c4e>;
 			amlogic,pins = "GPIOE_1","GPIOE_2","GPIOE_3","GPIOE_4","GPIOC_9";
 		};
+//$$ MATCH "Bl_pin_0_match" = "&lcd_backlight_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR = "amlogic,pins"	
 		lcd_backlight_pins:lcd_backlight{
 			amlogic,setmask=<2 0x8>;
 			amlogic,clrmask=<1 0x10000000>;
@@ -1306,10 +1871,18 @@
 						"GPIOB_18","GPIOB_19","GPIOB_20","GPIOB_21","GPIOB_22","GPIOB_23";	//B2~B7
 			amlogic,enable-output=<1>;
 		};
+//$$ MATCH "Camera_pin_0_match" = "&aml_cam_gpio_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_STR = "amlogic,pins"
 		aml_cam_gpio_pins: aml_cam_gpio_pins{
 			amlogic,setmask=<9 0x1000>;
 			amlogic,pins = "GPIOZ_12";
 		};
+
+//$$ MATCH "Spi_pin_0_match" = "&aml_spi_nor_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 4 = "amlogic,pins"
 		aml_spi_nor_pins: aml_spi_nor_pins{
 			amlogic,setmask=<5 0xf>;
 			amlogic,clrmask=<2 0x380000>;
diff --git a/arch/arm/mach-meson6/aml_pin.dtd b/arch/arm/mach-meson6/aml_pin.dtd
old mode 100644
new mode 100755
index a770d5ffbd9e..64d55e53940c
--- a/arch/arm/mach-meson6/aml_pin.dtd
+++ b/arch/arm/mach-meson6/aml_pin.dtd
@@ -21,6 +21,16 @@
 			amlogic,pins="GPIOX_13", "GPIOX_14", "GPIOX_15", "GPIOX_16";
 		};
 		
+//$$ MATCH "meson_vcck_dvfs_pin_0_match" = "&aml_pwm_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR = "amlogic,pins"
+		aml_pwm_pins:aml_pwm{
+		    	amlogic,setmask=<2 0x4>;
+			amlogic,clrmask=<1 0x20000000>;
+			amlogic,pins="GPIOD_0";
+		};
+
 //$$ MATCH "I2C_AO_pin_match" = "&ao_i2c_master"
 //$$ L2 PROP_U32 2 = "amlogic,setmask"
 //$$ L2 PROP_U32 2 = "amlogic,clrmask"
@@ -143,35 +153,63 @@
 			amlogic,pins = "BOOT_11";
 		};
 		
-//$$ MATCH "Card_pin_0_match" = "&sdhc_b_pins"
-//$$ L2 PROP_U32 2 = "amlogic,setmask"
-//$$ L2 PROP_U32 2 = "amlogic,clrmask"
-//$$ L2 PROP_STR 6 = "amlogic,pins"	
-		sdhc_b_pins:sdhc_b_pin{
-			amlogic,setmask=<2 0xfc00>;
-			amlogic,clrmask=<2 0xf0>;
-			amlogic,pins="CARD_0","CARD_1","CARD_2","CARD_3","CARD_4","CARD_5";
-		};
 
-//$$ MATCH "Card_pin_1_match" = "&sdhc_c_pins"
-//$$ L2 PROP_U32 2 = "amlogic,setmask"
-//$$ L2 PROP_U32 2 = "amlogic,clrmask"
-//$$ L2 PROP_STR 6 = "amlogic,pins"	
-		sdhc_c_pins:sdhc_c_pin{
-			amlogic,setmask=<6 0x3f000000>;
-			amlogic,clrmask=<4 0x6c000000 2 0x4c30000 3 0x80000000>;
-			amlogic,pins="BOOT_0","BOOT_1","BOOT_2","BOOT_3","BOOT_10","BOOT_11";
-		};
-
-//$$ MATCH "Card_pin_2_match" = "&sdhc_a_pins"
-//$$ L2 PROP_U32 2 = "amlogic,setmask"
-//$$ L2 PROP_U32 2 = "amlogic,clrmask"
-//$$ L2 PROP_STR 6 = "amlogic,pins"	
-		sdhc_a_pins:sdhc_a_pin{
-			amlogic,setmask=<8 0x3f>;
-			amlogic,clrmask=<5 0x6c00 >;
-			amlogic,pins="GPIOX_0","GPIOX_1","GPIOX_2","GPIOX_3","GPIOX_8","GPIOX_9";
-		};
+        sdio_all_pins:sdio_all_pins{
+            amlogic,setmask=<8 0x0000003f>;         /*sdio a*/
+            amlogic,clrmask=<6 0x3f000000           /*sdio c*/
+                                2 0x0000fc00        /*sdio b*/
+                                5 0x00006c00>;      /*sdhc a*/
+            amlogic,pins = "GPIOX_0","GPIOX_1","GPIOX_2","GPIOX_3","GPIOX_8","GPIOX_9";
+            amlogic,enable-output=<1>; /* 0:output, 1:input */
+            amlogic,pullup=<0>;
+        };
+        sdio_clk_cmd_pins:sdio_clk_cmd_pins{
+            amlogic,setmask=<8 0x00000003>;         /*sdio a*/
+            amlogic,clrmask=<6 0x3f000000           /*sdio c*/
+                                2 0x0000fc00        /*sdio b*/
+                                5 0x00006c00>;      /*sdhc a*/
+            amlogic,pins = "GPIOX_8","GPIOX_9";
+            amlogic,enable-output=<1>; /* 0:output, 1:input */
+            amlogic,pullup=<0>;
+        };
+        sd_all_pins:sd_all_pins{
+            amlogic,setmask=<2 0x0000fc00>;         /*sdio b*/
+            amlogic,clrmask=<6 0x3f000000           /*sdio c*/
+                                8 0x0000003f        /*sdio a*/
+                                2 0x000000f0>;      /*sdhc b*/
+            amlogic,pins = "CARD_0","CARD_1","CARD_2","CARD_3","CARD_4","CARD_5";
+            amlogic,enable-output=<1>; /* 0:output, 1:input */
+            amlogic,pullup=<0>;
+        };
+        sd_clk_cmd_pins:sd_clk_cmd_pins{
+            amlogic,setmask=<2 0x00000c00>;         /*sdio b*/
+            amlogic,clrmask=<6 0x3f000000           /*sdio c*/
+                                8 0x0000003f        /*sdio a*/
+                                2 0x000000f0>;      /*sdhc b*/
+            amlogic,pins = "CARD_4","CARD_5"; /* CARD_4:CLK, CARD_5:CMD */
+            amlogic,enable-output=<1>; /* 0:output, 1:input */
+            amlogic,pullup=<0>;
+        };
+        emmc_all_pins:emmc_all_pins{
+            amlogic,setmask=<6 0x3f000000>;         /*sdio c, */
+            amlogic,clrmask=<2 0x04c3fc00           /*sdio b & nand*/
+                                8 0x0000003f        /*sdio a*/
+                                4 0x6c000000        /*sdhc c*/
+                                3 0x80000000>;      /*I2C*/
+            amlogic,pins = "BOOT_0","BOOT_1","BOOT_2","BOOT_3","BOOT_10","BOOT_11";
+            amlogic,enable-output=<1>; /* 0:output, 1:input */
+            amlogic,pullup=<0>;
+        };
+        emmc_clk_cmd_pins:emmc_clk_cmd_pins{
+            amlogic,setmask=<6 0x03000000>;         /*bit[24-25] */
+            amlogic,clrmask=<2 0x04c3fc00           /*sdio b & nand*/
+                                8 0x0000003f        /*sdio a*/
+                                4 0x6c000000        /*sdhc c*/
+                                3 0x80000000>;      /*I2C*/
+            amlogic,pins = "BOOT_10","BOOT_11";
+            amlogic,enable-output=<1>; /* 0:output, 1:input */
+            amlogic,pullup=<0>;
+        };
 
 //$$ MATCH "sdio_pin_0_match" = "&sd_pins"
 //$$ L2 PROP_U32 2 = "amlogic,setmask"
@@ -243,7 +281,17 @@
 			amlogic,pins = "GPIOA_19";
 			amlogic,pullup=<1>;
 		};
-		
+
+//$$ MATCH "dummy_codec_audio_0_pin_match" = "&aml_dummy_codec_pins"
+//$$ L2 PROP_U32 2*2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 5 = "amlogic,pins"
+		aml_dummy_codec_pins: aml_dummy_codec_pins{
+			amlogic,setmask=<9 0x2B0
+							3 0x1000000>;
+			amlogic,clrmask=<9 0x380c4e>;
+			amlogic,pins = "GPIOE_1","GPIOE_2","GPIOE_3","GPIOE_4","GPIOC_9";
+		};
 //$$ MATCH "Bl_pin_0_match" = "&lcd_backlight_pins"
 //$$ L2 PROP_U32 2 = "amlogic,setmask"
 //$$ L2 PROP_U32 2 = "amlogic,clrmask"
@@ -322,12 +370,22 @@
 			amlogic,enable-output=<1>;
 		};
 		
-//$$ MATCH "Camera_pin_match" = "&aml_cam_pins"
+//$$ MATCH "Camera_pin_0_match" = "&aml_cam_gpio_pins"
 //$$ L2 PROP_U32 2 = "amlogic,setmask"
 //$$ L2 PROP_STR = "amlogic,pins"
-		aml_cam_pins: aml_cam_pins{
+		aml_cam_gpio_pins: aml_cam_gpio_pins{
 			amlogic,setmask=<9 0x1000>;
 			amlogic,pins = "GPIOZ_12";
 		};
+
+//$$ MATCH "Spi_pin_0_match" = "&aml_spi_nor_pins"
+//$$ L2 PROP_U32 2 = "amlogic,setmask"
+//$$ L2 PROP_U32 2 = "amlogic,clrmask"
+//$$ L2 PROP_STR 4 = "amlogic,pins"
+		aml_spi_nor_pins: aml_spi_nor_pins{
+			amlogic,setmask=<5 0xf>;
+			amlogic,clrmask=<2 0x380000>;
+			amlogic,pins = "BOOT_12","BOOT_13","BOOT_14","BOOT_17";
+		};
 	};
 #endif
\ No newline at end of file
diff --git a/drivers/amlogic/amports/aml_encoder.dtd b/drivers/amlogic/amports/aml_encoder.dtd
index 70dd54097ce5..ab1375139987 100755
--- a/drivers/amlogic/amports/aml_encoder.dtd
+++ b/drivers/amlogic/amports/aml_encoder.dtd
@@ -1,11 +1,11 @@
 #ifdef CONFIG_AM_ENCODER
 //$$ DEVICE="amvenc_avc"
 //$$ L2 PROP_STR = "status"
-//$$ L3 PROP_U32 2 ="reg"
+//$$ L3 PROP_U32 ="reserve-memory"
     amvenc_avc{
 		compatible = "amlogic,amvenc_avc";
 		dev_name = "amvenc_avc.0";
 		status = "okay";
-		reg = <0x10c00000 0x00f00000>;
+		reserve-memory = <0x00f00000>;
 	};
 #endif
\ No newline at end of file
diff --git a/drivers/amlogic/amports/aml_stream.dtd b/drivers/amlogic/amports/aml_stream.dtd
index 62d89dde187b..f2a29ca96648 100755
--- a/drivers/amlogic/amports/aml_stream.dtd
+++ b/drivers/amlogic/amports/aml_stream.dtd
@@ -1,13 +1,12 @@
 #ifdef CONFIG_AM_STREAMING
 //$$ DEVICE="mesonstream"
 //$$ L2 PROP_STR = "status"
-//$$ L3 PROP_U32 4 ="reg"
+//$$ L3 PROP_U32 2 ="reserve-memory"
 	mesonstream{
 		compatible = "amlogic,mesonstream";
 		dev_name = "mesonstream.0";
 		status = "okay";
-		reg = <0x08300000 0x04000000
-			   0x0c300000 0x00a00000>;
+		reserve-memory = <0x04000000 0x00a00000>;
 	};
 
 #endif
\ No newline at end of file
diff --git a/drivers/amlogic/bluetooth/aml.dtd b/drivers/amlogic/bluetooth/aml.dtd
index faa898404d31..00e815f3964f 100755
--- a/drivers/amlogic/bluetooth/aml.dtd
+++ b/drivers/amlogic/bluetooth/aml.dtd
@@ -1,5 +1,5 @@
 #ifdef CONFIG_BT_DEVICE
-#ifdef CONFIG_ARCH_MESON8
+//#ifdef CONFIG_ARCH_MESON8
 //$$ DEVICE="bt-dev"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_STR = "gpio_reset"
@@ -9,5 +9,5 @@
         status = "ok";
         gpio_reset = "GPIOX_20";
     };
-#endif
+//#endif
 #endif
\ No newline at end of file
diff --git a/drivers/amlogic/deinterlace/aml.dtd b/drivers/amlogic/deinterlace/aml.dtd
index 38b654ce7a2e..d575103d01e3 100755
--- a/drivers/amlogic/deinterlace/aml.dtd
+++ b/drivers/amlogic/deinterlace/aml.dtd
@@ -1,11 +1,11 @@
 #ifdef CONFIG_DEINTERLACE
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
-//$$ L2 PROP_U32 2 = "reg"
+//$$ L2 PROP_U32 = "reserve-memory"
     deinterlace{
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
-		reg = <0x06200000 0x02300000>;
+		reserve-memory = <0x02300000>;
 	};
 #endif
\ No newline at end of file
diff --git a/drivers/amlogic/display/osd/aml.dtd b/drivers/amlogic/display/osd/aml.dtd
index 0964f439f612..63fe632c2b8d 100755
--- a/drivers/amlogic/display/osd/aml.dtd
+++ b/drivers/amlogic/display/osd/aml.dtd
@@ -1,20 +1,15 @@
 #ifdef CONFIG_FB_AM
 //$$ DEVICE = "mesonfb"
 //$$ L2 PROP_STR = "status"
-//$$ L3 PROP_U32 4 ="reg"
-//$$ L2 PROP_U32 = "rotation"
+//$$ L3 PROP_U32 2 ="reserve-memory"
 //$$ L2 PROP_U32 = "vmode"
 //$$ L2 PROP_U32 5 = "display_size_default"
-#ifdef CONFIG_ARCH_MESON8
 	mesonfb{
 		compatible = "amlogic,mesonfb";
 		dev_name = "mesonfb";
 		status = "okay";
-		reg = <0x05100000 0x01800000
-	   	 		0x06900000 0x00100000>;
-		rotation = <270>
-        vmode = <1>; /**0:VMODE_720P 1:VMODE_LCD  2:VMODE_LVDS_1080P 3:VMODE_1080P*/
+		reserve-memory = <0x01800000 0x00100000>;
+		vmode = <1>; /**0:VMODE_720P 1:VMODE_LCD  2:VMODE_LVDS_1080P 3:VMODE_1080P*/
 		display_size_default = <1024 768 1024 1536 32>;
 	};
 #endif
-#endif
diff --git a/drivers/amlogic/display/osd_ext/aml.dtd b/drivers/amlogic/display/osd_ext/aml.dtd
index a01fa709835c..36066a3b9443 100755
--- a/drivers/amlogic/display/osd_ext/aml.dtd
+++ b/drivers/amlogic/display/osd_ext/aml.dtd
@@ -1,17 +1,14 @@
 #ifdef CONFIG_AM_FB_EXT
 //$$ DEVICE = "mesonfb-ext"
 //$$ L2 PROP_STR = "status"
-//$$ L3 PROP_U32 4 ="reg"
+//$$ L3 PROP_U32 2 ="reserve-memory"
 //$$ L2 PROP_U32 5 = "display_size_default"
-#ifdef CONFIG_ARCH_MESON8
 	mesonfb-ext{
 		compatible = "amlogic,mesonfb-ext";
 		dev_name = "mesonfb-ext";
 		status = "ok";
-		reg = <0x06a00000 0x01800000
-	       	 0x08200000 0x00100000>;
+		reserve-memory = <0x01800000 0x00100000>;
 		display_size_default = <2048 1536 2048 3072 32>;
 	 
 	};
-#endif
 #endif
\ No newline at end of file
diff --git a/drivers/amlogic/input/keyboard/aml.dtd b/drivers/amlogic/input/keyboard/aml.dtd
index 489dcff2d4d5..880a4a5629cf 100755
--- a/drivers/amlogic/input/keyboard/aml.dtd
+++ b/drivers/amlogic/input/keyboard/aml.dtd
@@ -18,3 +18,21 @@
 		key_tolerance = <40 40>;
 	};
 #endif
+#ifdef CONFIG_KEY_INPUT_CUSTOM_AM
+//$$ DEVICE="key_input"
+//$$ L2 PROP_STR = "status"
+//$$ L2 PROP_U32 = "scan_period"
+//$$ L2 PROP_U32 = "fuzz_time"
+//$$ L2 PROP_U32 = "key_code_list"
+//$$ L2 PROP_U32 = "key_num"
+//$$ L2 PROP_U32 = "config"
+		key_input{
+		compatible = "amlogic,key_input";
+		status = "okay";
+		scan_period = <20>;
+		fuzz_time = <60>;
+		key_code_list = <116>;
+		key_num = <1>;
+		config = <0>;
+	};
+#endif
diff --git a/drivers/amlogic/mmc/aml.dtd b/drivers/amlogic/mmc/aml.dtd
index 3adba7c4934a..b86268b89789 100755
--- a/drivers/amlogic/mmc/aml.dtd
+++ b/drivers/amlogic/mmc/aml.dtd
@@ -1,5 +1,4 @@
 #ifdef CONFIG_MMC_AML
-#ifdef CONFIG_ARCH_MESON8
 //$$ DEVICE="aml_sdio"
 //$$ L2 PROP_STR = "status"
 //$$ L3 PROP_U32 2 ="reg"
@@ -109,5 +108,4 @@ sdio{
           card_type = <3>; /* 0:unknown, 1:mmc card(include eMMC), 2:sd card(include tSD), 3:sdio device(ie:sdio-wifi), 4:SD combo (IO+mem) card, 5:NON sdio device(means sd/mmc card), other:reserved */
         };
     };
-#endif
 #endif
\ No newline at end of file
diff --git a/drivers/amlogic/nand/aml.dtd b/drivers/amlogic/nand/aml.dtd
index f8ff36f4981b..f707af64e737 100755
--- a/drivers/amlogic/nand/aml.dtd
+++ b/drivers/amlogic/nand/aml.dtd
@@ -70,8 +70,41 @@
 			t_rhoh = <15>;
 			chip_num = <2>;
 			part_num = <7>;
+			partition = <&nand_partitions>;
 			rb_detect = <1>;
 		};
+				
+		nand_partitions:nand_partition{
+			logo{
+				offset=<0x0 0x4800000>;
+				size=<0x0 0x800000>;
+			};
+			aml_logo{
+				offset=<0x0 0x5800000>;
+				size=<0x0 0x800000>;
+			};
+			recovery{
+				offset=<0x0 0x6800000>;
+				size=<0x0 0x800000>;
+			};
+			boot{
+				offset=<0x0 0x8800000>;
+				size=<0x0 0x800000>;
+			};
+			system{
+				offset=<0x0 0xa800000>;
+				size=<0x0 0x40000000>;
+			};
+			cache{
+				offset=<0x0 0x4a800000>;
+				size=<0x0 0x20000000>;
+			};
+			userdata{
+				offset=<0xffffffff 0xffffffff>;
+				size=<0x0 0x0>;
+			};
+		};
+	};	
 
 	};	
 #endif
\ No newline at end of file
diff --git a/drivers/amlogic/power/meson_cs_dcdc_regulator/aml.dtd b/drivers/amlogic/power/meson_cs_dcdc_regulator/aml.dtd
index d203c7051f30..6c442982a7fb 100755
--- a/drivers/amlogic/power/meson_cs_dcdc_regulator/aml.dtd
+++ b/drivers/amlogic/power/meson_cs_dcdc_regulator/aml.dtd
@@ -1,57 +1,49 @@
 #ifdef CONFIG_MESON_CS_DCDC_REGULATOR
-//$$ DEVICE="meson-cs-regulator"
+//$$ DEVICE="meson_vcck_dvfs_driver"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 = "default_uV"
-//$$ L2 PROP_STR = "consumer_supplies-supply"
-//$$ L2 PROP_CHOICE "vcck_init_data_match" = "init-data"
-//$$ L2 PROP_CHOICE "vcck_opp_table_match" = "vcck-table"
-//$$ L2 PROP_U32 4*4 = "voltage_step_table"
-	meson-cs-regulator{
-		compatible = "amlogic,meson-cs-regulator";
-		dev_name = "meson-cs-regulator";
-		status = "ok";
-		default_uV = <1307000>;
-		consumer_supplies-supply = "vcck-armcore";
-		init-data = <&vcck_init_data>;
-		vcck-table = <&vcck_opp_table>;
-			
-		voltage_step_table = <
-			1307000 1298000 1277000 1255000
-			1234000 1212000 1190000 1169000
-			1147000 1126000 1104000 1082000
-			1061000 1039000 1018000  996000
-		>;
-
-//$$ MATCH "vcck_init_data_match" = <&vcck_init_data>
-//$$ L2 PROP_STR = "cons_name"
-//$$ L2 PROP_U32 = "min_uV"	
-//$$ L2 PROP_U32 = "max_uV"
-//$$ L2 PROP_U32 = "valid_ops_mask"
-//$$ L2 PROP_U32 = "num"
-//$$ L2 PROP_STR = "vcck_data-supply"
-		vcck_init_data: vcck_init_data{
-			cons_name = "vcck";
-			min_uV = <996000>;
-			max_uV = <1307000>;
-			valid_ops_mask = <0x9>; /**REGULATOR_CHANGE_VOLTAGE | REGULATOR_CHANGE_STATUS */
-			num = <1>;	/**the number of vcck_data-supply*/
-			vcck_data-supply = "vcck-armcore";	
-		};
-					
-//$$ MATCH "vcck_opp_table_match" = <&vcck_opp_table>
-//$$ L2 PROP_U32 = "num"
-//$$ L2 PROP_U32 7*3 = "table"
-		vcck_opp_table: vcck_opp_table{
-			num = <7>;
-			table = <
-			1500000 1307000 1307000
-			1320000 1298000 1298000
-			1200000 1212000 1212000
-			1080000 1147000 1147000
-			840000  1104000 1104000
-			600000  1039000 1039000
-			200000  996000  996000
-			>;
-		};
-	};
+//$$ L2 PROP_STR = "pinctrl-names"
+//$$ L2 PROP_CHOICE "meson_vcck_dvfs_pin_0_match" = "pinctrl-0"
+//$$ L2 PROP_U32 = "use_pwm"
+//$$ L2 PROP_U32 = "table_count"
+//$$ L2 PROP_U32 16*2 = "cs_voltage_table"
+	meson_vcck_dvfs_driver{
+        compatible = "amlogic, meson_vcck_dvfs";
+        dev_name = "meson_vcck_dvfs_driver";
+        status = "ok";
+        default_uV = <1280000>;
+        pinctrl-names = "default";
+        pinctrl-0 = <&aml_pwm_pins>;
+        use_pwm = <1>; 
+        table_count = <16>;
+        cs_voltage_table = <
+        /*   
+         * Note: This table is hardware depended, If your hardware use PWM method,
+         * then first line in this table is PWM register value, second line is
+         * voltage of VCCK according this PWM register value. If your platform use
+         * constant-current source to adjust vcck voltage, then the first line should 
+         * set to 0, means not valid, member 'use_pwm' in this node should set to 0.
+         *
+         *  ---- This table must be in ascending order by voltage ----
+         *    
+         *  PWM value       VCCK voltage 
+         */   
+            0x130009        1010000
+            0x12000a        1050000
+            0x11000b        1070000
+            0x10000c        1090000
+            0x0f000d        1110000
+            0x0e000e        1130000
+            0x0d000f        1150000
+            0x0c0010        1170000
+            0x0b0011        1190000
+            0x0a0012        1210000
+            0x090013        1220000
+            0x080014        1240000
+            0x070015        1270000
+            0x060016        1280000
+            0x050017        1300000
+            0x040018        1320000
+        >;   
+    };   
 #endif
\ No newline at end of file
diff --git a/drivers/amlogic/ppmgr/aml.dtd b/drivers/amlogic/ppmgr/aml.dtd
index 10ea3d0cc999..4c5b0e9ee394 100755
--- a/drivers/amlogic/ppmgr/aml.dtd
+++ b/drivers/amlogic/ppmgr/aml.dtd
@@ -1,11 +1,11 @@
 #ifdef CONFIG_POST_PROCESS_MANAGER
 //$$ DEVICE="ppmgr"
 //$$ L2 PROP_STR = "status"
-//$$ L3 PROP_U32 2 ="reg"
+//$$ L3 PROP_U32 ="reserve-memory"
     ppmgr{
 		compatible = "amlogic,ppmgr";
 		dev_name = "ppmgr";
 		status = "okay";
-		reg = <0x0cd00000 0x03f00000>;		
+		reserve-memory = <0x03f00000>;		
 	};
 #endif
\ No newline at end of file
diff --git a/drivers/amlogic/wifi/aml.dtd b/drivers/amlogic/wifi/aml.dtd
index 6b9bcbd82326..404acab4c520 100755
--- a/drivers/amlogic/wifi/aml.dtd
+++ b/drivers/amlogic/wifi/aml.dtd
@@ -6,7 +6,6 @@
 //$$ L2 PROP_STR = "irq_trigger_type"
 //$$ L2 PROP_STR = "power_on_pin"
 //$$ L2 PROP_STR = "clock_32k_pin"
-#ifdef CONFIG_ARCH_MESON8
     wifi{
 		compatible = "amlogic,aml_broadcm_wifi";
 		dev_name = "aml_broadcm_wifi";
@@ -18,7 +17,6 @@
 		clock_32k_pin = "GPIOX_10";
 	};
 #endif
-#endif
 
 #ifdef CONFIG_AM_WIFI
 //$$ DEVICE="wifi_power"
diff --git a/sound/soc/aml/m6/aml.dtd b/sound/soc/aml/m6/aml.dtd
old mode 100644
new mode 100755
index 7e3011a4642c..b5cbc64e31d6
--- a/sound/soc/aml/m6/aml.dtd
+++ b/sound/soc/aml/m6/aml.dtd
@@ -1,11 +1,11 @@
-#ifdef CONFIG_SND_AML_SOC
+#ifndef CONFIG_SND_AML_SOC
 //$$ DEVICE="audio_platform"
 //$$ L2 PROP_STR = "status"
-    audio_platform{
-        compatible = "amlogic,aml-audio";
-        dev_name = "aml-audio.0";
-        status = "okay";
-    };
+		audio_platform{
+			compatible = "amlogic,aml-audio";
+			dev_name = "aml-audio.0";
+			status = "okay";
+		};
 
 //$$ DEVICE="audio_dai"
 //$$ L2 PROP_STR = "status"
@@ -15,45 +15,24 @@
         status = "okay";
     };
 
-//$$ DEVICE="audio_m8_audio"
-//$$ L2 PROP_STR = "status"
-    audio_m8_audio{
-        compatible = "amlogic,m8_audio_codec";
-        dev_name = "aml_m8_codec.0";
+//$$ DEVICE="dummy_codec_audio"
+//$$ L2 PROP_STR = "status"	
+//$$ L2 PROP_STR = "pinctrl-names"
+//$$ L3 PROP_CHOICE "dummy_codec_audio_0_pin_match" = "pinctrl-0"
+	dummy_codec_audio{
         status = "okay";
+        compatible = "amlogic,aml_dummy_codec_audio";
+        dev_name = "aml_dummy_codec_audio.0";
+        pinctrl-names = "dummy_codec_audio";
+        pinctrl-0 = <&aml_dummy_codec_pins>;
     };
-#endif        
-
-#ifdef CONFIG_SND_AML_M8
-//$$ DEVICE="aml_m8_sound_card"
-//$$ L2 PROP_STR = "aml,sound_card"
-//$$ L2 PROP_STR = "aml,codec_dai"
-//$$ L2 PROP_STR 6*2 = "aml,audio-routing"
-//$$ L2 PROP_STR = "mute_gpio"
-//$$ L2 PROP_U32 5 = "hp_paraments"
-//$$ L2 PROP_STR = "status"
-//$$ L2 PROP_STR = "pinctrl-names"
-//$$ L2 PROP_CHOICE "Audio_pin_0_match" = "pinctrl-0"
-    aml_m8_sound_card{
-        compatible = "sound_card, aml_snd_m8";
-        aml,sound_card = "AML-M8AUDIO";
-        aml,codec_dai = "AML-M8";
-        aml,audio-routing =
-            "Ext Spk","LINEOUTL",
-            "Ext Spk","LINEOUTR",
-            "HP","HP_L",
-            "HP","HP_R",
-            "MICBIAS","MAIN MIC",
-            "LINPUT1","MICBIAS";
-        mute_gpio = "GPIOY_15";
-        //mute_inv;
-        hp_paraments = <800 713 300 5 1>;
-        pinctrl-names = "aml_snd_m8";
-        pinctrl-0 = <&audio_pins>;
+ 
+//$$ DEVICE="dummy_codec"
+//$$ L2 PROP_STR = "status"	 
+    dummy_codec{
         status = "okay";
-        
+        compatible = "amlogic,aml_dummy_codec";
+        dev_name = "dummy_codec.0";
     };
-#endif
-
-
 
+#endif        
-- 
2.19.0

