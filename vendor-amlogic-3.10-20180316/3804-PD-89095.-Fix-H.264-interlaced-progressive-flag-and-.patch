From 328753b8ffc57aa98f0abe7510e9620cd88246d9 Mon Sep 17 00:00:00 2001
From: timyao <tim.yao@amlogic.com>
Date: Mon, 24 Mar 2014 10:54:45 -0700
Subject: [PATCH 3804/5965] PD #89095. Fix H.264 interlaced/progressive flag
 and DI first frame weaving.

---
 .../amports/m6/ucode/h264/h264c_linux.h       | 46 +++++++++---------
 .../amports/m6/ucode/h264/h264data_linux.h    |  2 +-
 .../amports/m6/ucode/h264/h264mmc_linux.h     |  2 +-
 .../amports/m6/ucode/h264/h264slice_linux.h   |  2 +-
 .../amports/m6tv/ucode/h264/h264c_linux.h     | 48 +++++++++----------
 .../amports/m6tv/ucode/h264/h264data_linux.h  |  2 +-
 .../amports/m6tv/ucode/h264/h264mmc_linux.h   |  2 +-
 .../amports/m6tv/ucode/h264/h264slice_linux.h |  2 +-
 .../amports/m6tvd/ucode/h264/h264c_linux.h    | 48 +++++++++----------
 .../amports/m6tvd/ucode/h264/h264data_linux.h |  2 +-
 .../amports/m6tvd/ucode/h264/h264mmc_linux.h  |  2 +-
 .../m6tvd/ucode/h264/h264slice_linux.h        |  2 +-
 .../amports/m8/ucode/h264/h264c_linux.h       | 48 +++++++++----------
 .../amports/m8/ucode/h264/h264data_linux.h    |  2 +-
 .../amports/m8/ucode/h264/h264mmc_linux.h     |  2 +-
 .../amports/m8/ucode/h264/h264slice_linux.h   |  2 +-
 drivers/amlogic/amports/vh264.c               |  2 +-
 drivers/amlogic/deinterlace/deinterlace.c     |  2 +-
 18 files changed, 109 insertions(+), 109 deletions(-)

diff --git a/drivers/amlogic/amports/m6/ucode/h264/h264c_linux.h b/drivers/amlogic/amports/m6/ucode/h264/h264c_linux.h
index 6a72321a1ea9..ecbaf78da31d 100755
--- a/drivers/amlogic/amports/m6/ucode/h264/h264c_linux.h
+++ b/drivers/amlogic/amports/m6/ucode/h264/h264c_linux.h
@@ -172,12 +172,12 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c075c7,0x7c07607,0x7803a87,0xaa54047,0x0000000,0xc06fb00,0x80c2301,0xc06fb80,
 	0x0000000,0x7c07547,0x58101c7,0x7c07587,0x78021c7,0xaa2c007,0x7801f07,0xa6240c7,
 	0x0000000,0xc06f800,0x80c2301,0xc06f880,0x0000000,0x7c075c7,0x58101c7,0x7c07607,
-	0x780754f,0x78075d0,0xc079840,0x0000000,0x7802dc7,0xa608007,0xc781fc0,0x7801e87,
+	0x780754f,0x78075d0,0xc079840,0x0000000,0x7802dc7,0xa608007,0xc781f40,0x7801e87,
 	0x69fffc8,0xb803207,0x40011c7,0x6800147,0x7c01e87,0x7802d07,0x78023c8,0xb802207,
 	0xc7801c0,0x780188a,0x78018cb,0x680000c,0x78023cd,0xc07aa00,0x6800049,0x7801d08,
-	0x649cf09,0xaa28008,0x7803c0a,0xaa0800a,0xc781a40,0x4401208,0x7c01d08,0xaa08008,
-	0xc781940,0x9c09089,0x609cf09,0xa22c309,0x780204a,0xa62400a,0x7802e0a,0xaa1c00a,
-	0x7801f0a,0xaa0c0ca,0x680004a,0x680008a,0xc781640,0x7c01d0a,0x680000a,0x7c01d0a,
+	0x649cf09,0xaa28008,0x7803c0a,0xaa0800a,0xc7819c0,0x4401208,0x7c01d08,0xaa08008,
+	0xc7818c0,0x9c09089,0x609cf09,0xa22c309,0x780204a,0xa62400a,0x7802e0a,0xaa1c00a,
+	0x7801f0a,0xaa0c0ca,0x680004a,0x680008a,0xc7815c0,0x7c01d0a,0x680000a,0x7c01d0a,
 	0x688000a,0xc06d380,0x6c0444a,0x7803bc7,0xbe54107,0x68001ca,0x6031e0a,0x649ce09,
 	0xaa14009,0x0000000,0x6800009,0x609ce09,0x8007401,0x6431e09,0xbee4049,0x0000000,
 	0x649cf07,0xa2200c7,0x7801d87,0xaa18007,0x7801ec7,0xaa10087,0x6800207,0xc7ee740,
@@ -185,24 +185,24 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c02b07,0x6800007,0x7c02547,0x7c025c7,0x7c02607,0x7802c07,0x40011c7,0x7c024c7,
 	0x6800047,0x60e0c07,0x7c026c7,0x7c02507,0x68003c7,0x7c02807,0x6805c07,0x60c2107,
 	0x80c2170,0x6800087,0x7c02a47,0x6800018,0x7801ec7,0xa60c087,0x6800007,0x7c01e47,
-	0x7802fc7,0x7c03007,0x68003c7,0x7c02fc7,0x6800407,0x60c2407,0x6800007,0x7807048,
-	0x6804009,0x5403287,0x200a289,0x400128a,0x700028b,0x60c220b,0x400128a,0x700028b,
-	0x400128a,0x700028c,0x96102cc,0x60c220b,0x400128a,0x700028b,0x400128a,0x700028c,
-	0x96102cc,0x60c220b,0x40011c7,0xb8ee207,0x0000000,0x7801d07,0xaa08007,0xc7ed740,
-	0x6800007,0x7c01947,0x6a00007,0x60c3d07,0x7802dc7,0xa618007,0x0000000,0xc079640,
-	0x0000000,0xaa08007,0xc7ed480,0x7802047,0x7c02e07,0x7802007,0x7c02e47,0x7801ec7,
-	0x7c02087,0x7801f47,0x7c07347,0x7801f07,0x7c02407,0x7801f87,0x7c01fc7,0x780248a,
-	0xa6fc00a,0x0000000,0xc073cc0,0x0000000,0x7802dc7,0xaa10007,0x0000000,0xc073740,
-	0x0000000,0xc074080,0x0000000,0x7802087,0x6840009,0x682609a,0xaa1c087,0x6800008,
-	0x6822d5a,0xaa10147,0x6800048,0x6800088,0x6840009,0x7c02788,0x7c02689,0x6800007,
-	0x7c02a87,0x7802c8a,0x7802107,0xa630007,0x7802409,0xaa280c9,0x540128a,0x580128a,
-	0x6490707,0x9807087,0x98070c7,0x6090707,0x6495107,0x98073c7,0x6095107,0x7c023ca,
-	0x7802947,0x94421c9,0x7c02947,0xa634387,0x68000c9,0x6495107,0x94041c9,0x9807647,
-	0x6095107,0x6490707,0x9807447,0x6090707,0x7802087,0xaa0c087,0x6824f9a,0x68214da,
-	0x7803bc8,0x90821c8,0xaa18087,0x6800087,0x9482207,0x690000a,0xc06a540,0x6c0444a,
-	0xc786e00,0x7c03bc8,0x7802dc7,0xaa18007,0x0000000,0xc0780c0,0x0000000,0xaa08007,
-	0xc7ebf00,0x6800007,0x7803bc8,0x9082208,0xaa10008,0x684000a,0xc06a140,0x6c0444a,
-	0xc786a00,0x7c03bc7,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
+	0x68003c7,0x7c02fc7,0x6800407,0x60c2407,0x6800007,0x7807048,0x6804009,0x5403287,
+	0x200a289,0x400128a,0x700028b,0x60c220b,0x400128a,0x700028b,0x400128a,0x700028c,
+	0x96102cc,0x60c220b,0x400128a,0x700028b,0x400128a,0x700028c,0x96102cc,0x60c220b,
+	0x40011c7,0xb8ee207,0x0000000,0x7801d07,0xaa08007,0xc7ed7c0,0x6800007,0x7c01947,
+	0x6a00007,0x60c3d07,0x7802dc7,0xa618007,0x0000000,0xc0796c0,0x0000000,0xaa08007,
+	0xc7ed500,0x7802047,0x7c02e07,0x7802007,0x7c02e47,0x7801ec7,0x7c02087,0x7801f47,
+	0x7c07347,0x7801f07,0x7c02407,0x7801f87,0x7c01fc7,0x780248a,0xa6fc00a,0x0000000,
+	0xc073d40,0x0000000,0x7802dc7,0xaa10007,0x0000000,0xc0737c0,0x0000000,0xc074100,
+	0x0000000,0x7802087,0x6840009,0x682609a,0xaa1c087,0x6800008,0x6822d5a,0xaa10147,
+	0x6800048,0x6800088,0x6840009,0x7c02788,0x7c02689,0x6800007,0x7c02a87,0x7802c8a,
+	0x7802107,0xa630007,0x7802409,0xaa280c9,0x540128a,0x580128a,0x6490707,0x9807087,
+	0x98070c7,0x6090707,0x6495107,0x98073c7,0x6095107,0x7c023ca,0x7802947,0x94421c9,
+	0x7c02947,0xa634387,0x68000c9,0x6495107,0x94041c9,0x9807647,0x6095107,0x6490707,
+	0x9807447,0x6090707,0x7802087,0xaa0c087,0x6824f9a,0x68214da,0x7803bc8,0x90821c8,
+	0xaa18087,0x6800087,0x9482207,0x690000a,0xc06a5c0,0x6c0444a,0xc786e80,0x7c03bc8,
+	0x7802dc7,0xaa18007,0x0000000,0xc078140,0x0000000,0xaa08007,0xc7ebf80,0x6800007,
+	0x7803bc8,0x9082208,0xaa10008,0x684000a,0xc06a1c0,0x6c0444a,0xc786a80,0x7c03bc7,
+	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
@@ -335,7 +335,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c02e88,0x7802c48,0xb80b207,0x6800007,0x7c02cc7,0x7802d08,0x4002208,0x78023c9,
 	0xb805248,0x7c02d08,0x6800007,0xc7ff880,0x7c02e87,0x7801e07,0xb218a07,0x680004a,
 	0x7c01e4a,0x7c01d8a,0x680204a,0x7c0194a,0x7802cc7,0x95084c7,0x7802d09,0x94084c9,
-	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7edac0,0x0000000,0x7802c49,
+	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7eda40,0x0000000,0x7802c49,
 	0xb014489,0x6808008,0xa628712,0xc780a40,0x0000000,0x7802d0a,0xa20c04a,0x500128a,
 	0x40011c7,0x54011c7,0xc780a40,0x94011ca,0x40011c7,0xa418247,0x7802b09,0x7802d07,
 	0xa27c047,0x40021c9,0xc780380,0x6800007,0xaa7c712,0x7802d0a,0xa2bc04a,0x4001287,
diff --git a/drivers/amlogic/amports/m6/ucode/h264/h264data_linux.h b/drivers/amlogic/amports/m6/ucode/h264/h264data_linux.h
index 30b350fa0578..f0500bf5b3ee 100755
--- a/drivers/amlogic/amports/m6/ucode/h264/h264data_linux.h
+++ b/drivers/amlogic/amports/m6/ucode/h264/h264data_linux.h
@@ -79,7 +79,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c02e88,0x7802c48,0xb80b207,0x6800007,0x7c02cc7,0x7802d08,0x4002208,0x78023c9,
 	0xb805248,0x7c02d08,0x6800007,0xc7ff880,0x7c02e87,0x7801e07,0xb218a07,0x680004a,
 	0x7c01e4a,0x7c01d8a,0x680204a,0x7c0194a,0x7802cc7,0x95084c7,0x7802d09,0x94084c9,
-	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7edac0,0x0000000,0x7802c49,
+	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7eda40,0x0000000,0x7802c49,
 	0xb014489,0x6808008,0xa628712,0xc780a40,0x0000000,0x7802d0a,0xa20c04a,0x500128a,
 	0x40011c7,0x54011c7,0xc780a40,0x94011ca,0x40011c7,0xa418247,0x7802b09,0x7802d07,
 	0xa27c047,0x40021c9,0xc780380,0x6800007,0xaa7c712,0x7802d0a,0xa2bc04a,0x4001287,
diff --git a/drivers/amlogic/amports/m6/ucode/h264/h264mmc_linux.h b/drivers/amlogic/amports/m6/ucode/h264/h264mmc_linux.h
index 967466a30184..61308d38959b 100755
--- a/drivers/amlogic/amports/m6/ucode/h264/h264mmc_linux.h
+++ b/drivers/amlogic/amports/m6/ucode/h264/h264mmc_linux.h
@@ -26,7 +26,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0xc07e700,0x9481350,0xc07e880,0x94a1350,0x980d28d,0x7807200,0x2000300,0x7c07200,
 	0x649cf00,0xbe11000,0x6800040,0x78071c0,0x4001000,0x7c071c0,0x4006c4e,0x7807340,
 	0x7400c40,0x4007c4e,0x7400c51,0x94c234b,0x5801010,0x5409000,0x2c0d00d,0x7801e40,
-	0x7000381,0x9501040,0x7400381,0x7803000,0x9584340,0x900200d,0xa6100c0,0xbe0c30d,
+	0x7000381,0x9501040,0x7400381,0x7802fc0,0x9584340,0x900200d,0xa6100c0,0xbe0c30d,
 	0x6800000,0x9402340,0x9c0d20d,0x4001c4e,0xac03185,0xc780140,0x7400c4d,0x980d20d,
 	0xc780080,0x7400c4d,0x649cf00,0xa2440c0,0x900200d,0x680000b,0x940634b,0x7400c4d,
 	0xc001f00,0x780718d,0x40012cb,0xaa1c00b,0x6804080,0x609c000,0x609ce00,0x649cf00,
diff --git a/drivers/amlogic/amports/m6/ucode/h264/h264slice_linux.h b/drivers/amlogic/amports/m6/ucode/h264/h264slice_linux.h
index a6dfbc3881af..c0a49c12f21d 100755
--- a/drivers/amlogic/amports/m6/ucode/h264/h264slice_linux.h
+++ b/drivers/amlogic/amports/m6/ucode/h264/h264slice_linux.h
@@ -73,7 +73,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x6c0444a,0x680c009,0xc05a600,0x6a0400b,0xc05c140,0x80c2301,0xc05c1c0,0x0000000,
 	0x401a1c7,0x7802248,0x2007207,0x7c02387,0x7802287,0xaa40007,0x6800009,0xc05be80,
 	0x80c2301,0xaa30047,0x9402247,0xc05bd80,0x80c2301,0xc05be00,0x0000000,0x94c4247,
-	0xc05bc40,0x80c2301,0xc05bcc0,0x0000000,0x9444247,0x60c3109,0xc7efd00,0x0000000,
+	0xc05bc40,0x80c2301,0xc05bcc0,0x0000000,0x9444247,0x60c3109,0xc7efc80,0x0000000,
 	0xc064e40,0x0000000,0x680400f,0x780704e,0x780734d,0x780730c,0x78072c0,0x90a1040,
 	0x90c1c00,0x2c0bc01,0x7807188,0xaa0c00c,0xaa3c04c,0xc780900,0x5403c48,0x20313f1,
 	0x4001c71,0x7000c40,0x9061040,0x4005c71,0x7000c70,0xbe4c040,0xa248080,0xa4112c1,
diff --git a/drivers/amlogic/amports/m6tv/ucode/h264/h264c_linux.h b/drivers/amlogic/amports/m6tv/ucode/h264/h264c_linux.h
index 727e57d39daa..98c3d1987b57 100755
--- a/drivers/amlogic/amports/m6tv/ucode/h264/h264c_linux.h
+++ b/drivers/amlogic/amports/m6tv/ucode/h264/h264c_linux.h
@@ -176,11 +176,11 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x80c2301,0xc06f640,0x0000000,0x7c07547,0x58101c7,0x7c07587,0x78021c7,0xaa2c007,
 	0x7801f07,0xa6240c7,0x0000000,0xc06f2c0,0x80c2301,0xc06f340,0x0000000,0x7c075c7,
 	0x58101c7,0x7c07607,0x780754f,0x78075d0,0xc079840,0x0000000,0x7802dc7,0xa608007,
-	0xc781fc0,0x7801e87,0x69fffc8,0xb803207,0x40011c7,0x6800147,0x7c01e87,0x7802d07,
+	0xc781f40,0x7801e87,0x69fffc8,0xb803207,0x40011c7,0x6800147,0x7c01e87,0x7802d07,
 	0x78023c8,0xb802207,0xc7801c0,0x780188a,0x78018cb,0x680000c,0x78023cd,0xc07aa00,
-	0x6800049,0x7801d08,0x649cf09,0xaa28008,0x7803c0a,0xaa0800a,0xc781a40,0x4401208,
-	0x7c01d08,0xaa08008,0xc781940,0x9c09089,0x609cf09,0xa22c309,0x780204a,0xa62400a,
-	0x7802e0a,0xaa1c00a,0x7801f0a,0xaa0c0ca,0x680004a,0x680008a,0xc781640,0x7c01d0a,
+	0x6800049,0x7801d08,0x649cf09,0xaa28008,0x7803c0a,0xaa0800a,0xc7819c0,0x4401208,
+	0x7c01d08,0xaa08008,0xc7818c0,0x9c09089,0x609cf09,0xa22c309,0x780204a,0xa62400a,
+	0x7802e0a,0xaa1c00a,0x7801f0a,0xaa0c0ca,0x680004a,0x680008a,0xc7815c0,0x7c01d0a,
 	0x680000a,0x7c01d0a,0x688000a,0xc06ce40,0x6c0444a,0x7803bc7,0xbe54107,0x68001ca,
 	0x6031e0a,0x649ce09,0xaa14009,0x0000000,0x6800009,0x609ce09,0x8007401,0x6431e09,
 	0xbee4049,0x0000000,0x649cf07,0xa2200c7,0x7801d87,0xaa18007,0x7801ec7,0xaa10087,
@@ -188,25 +188,25 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c018d3,0x6803fc7,0x7c02b07,0x6800007,0x7c02547,0x7c025c7,0x7c02607,0x7802c07,
 	0x40011c7,0x7c024c7,0x6800047,0x60e0c07,0x7c026c7,0x7c02507,0x68003c7,0x7c02807,
 	0x6805c07,0x60c2107,0x80c2170,0x6800087,0x7c02a47,0x6800018,0x7801ec7,0xa60c087,
-	0x6800007,0x7c01e47,0x7802fc7,0x7c03007,0x68003c7,0x7c02fc7,0x6800407,0x60c2407,
-	0x6800007,0x7807048,0x6804009,0x5403287,0x200a289,0x400128a,0x700028b,0x60c220b,
-	0x400128a,0x700028b,0x400128a,0x700028c,0x96102cc,0x60c220b,0x400128a,0x700028b,
-	0x400128a,0x700028c,0x96102cc,0x60c220b,0x40011c7,0xb8ee207,0x0000000,0x7801d07,
-	0xaa08007,0xc7ed200,0x6800007,0x7c01947,0x6a00007,0x60c3d07,0x7802dc7,0xa618007,
-	0x0000000,0xc079640,0x0000000,0xaa08007,0xc7ecf40,0x7802047,0x7c02e07,0x7802007,
-	0x7c02e47,0x7801ec7,0x7c02087,0x7801f47,0x7c07347,0x7801f07,0x7c02407,0x7801f87,
-	0x7c01fc7,0x780248a,0xa6fc00a,0x0000000,0xc073880,0x0000000,0x7802dc7,0xaa10007,
-	0x0000000,0xc073300,0x0000000,0xc073c40,0x0000000,0x7802087,0x6840009,0x682609a,
-	0xaa1c087,0x6800008,0x6822d5a,0xaa10147,0x6800048,0x6800088,0x6840009,0x7c02788,
-	0x7c02689,0x6800007,0x7c02a87,0x7802c4a,0xb20c2ca,0x68004ca,0x6800c0a,0x6495107,
-	0x97061ca,0x6095107,0x7802c8a,0x7802107,0xa630007,0x7802409,0xaa280c9,0x540128a,
-	0x580128a,0x6490707,0x9807087,0x98070c7,0x6090707,0x6495107,0x98073c7,0x6095107,
-	0x7c023ca,0x7802947,0x94421c9,0x7c02947,0xa648387,0x68000c9,0x6495107,0x94041c9,
-	0x9807647,0x6800009,0x979d1c9,0x6095107,0x6490707,0x9807447,0x6090707,0x6498e07,
-	0x9807787,0x6098e07,0x7802087,0xaa0c087,0x6824f9a,0x68214da,0x7803bc8,0x90821c8,
-	0xaa18087,0x6800087,0x9482207,0x690000a,0xc069d00,0x6c0444a,0xc786480,0x7c03bc8,
-	0x7802dc7,0xaa18007,0x0000000,0xc077dc0,0x0000000,0xaa08007,0xc7eb6c0,0x6800007,
-	0x7803bc8,0x9082208,0xaa10008,0x684000a,0xc069900,0x6c0444a,0xc786080,0x7c03bc7,
+	0x6800007,0x7c01e47,0x68003c7,0x7c02fc7,0x6800407,0x60c2407,0x6800007,0x7807048,
+	0x6804009,0x5403287,0x200a289,0x400128a,0x700028b,0x60c220b,0x400128a,0x700028b,
+	0x400128a,0x700028c,0x96102cc,0x60c220b,0x400128a,0x700028b,0x400128a,0x700028c,
+	0x96102cc,0x60c220b,0x40011c7,0xb8ee207,0x0000000,0x7801d07,0xaa08007,0xc7ed280,
+	0x6800007,0x7c01947,0x6a00007,0x60c3d07,0x7802dc7,0xa618007,0x0000000,0xc0796c0,
+	0x0000000,0xaa08007,0xc7ecfc0,0x7802047,0x7c02e07,0x7802007,0x7c02e47,0x7801ec7,
+	0x7c02087,0x7801f47,0x7c07347,0x7801f07,0x7c02407,0x7801f87,0x7c01fc7,0x780248a,
+	0xa6fc00a,0x0000000,0xc073900,0x0000000,0x7802dc7,0xaa10007,0x0000000,0xc073380,
+	0x0000000,0xc073cc0,0x0000000,0x7802087,0x6840009,0x682609a,0xaa1c087,0x6800008,
+	0x6822d5a,0xaa10147,0x6800048,0x6800088,0x6840009,0x7c02788,0x7c02689,0x6800007,
+	0x7c02a87,0x7802c4a,0xb20c2ca,0x68004ca,0x6800c0a,0x6495107,0x97061ca,0x6095107,
+	0x7802c8a,0x7802107,0xa630007,0x7802409,0xaa280c9,0x540128a,0x580128a,0x6490707,
+	0x9807087,0x98070c7,0x6090707,0x6495107,0x98073c7,0x6095107,0x7c023ca,0x7802947,
+	0x94421c9,0x7c02947,0xa648387,0x68000c9,0x6495107,0x94041c9,0x9807647,0x6800009,
+	0x979d1c9,0x6095107,0x6490707,0x9807447,0x6090707,0x6498e07,0x9807787,0x6098e07,
+	0x7802087,0xaa0c087,0x6824f9a,0x68214da,0x7803bc8,0x90821c8,0xaa18087,0x6800087,
+	0x9482207,0x690000a,0xc069d80,0x6c0444a,0xc786500,0x7c03bc8,0x7802dc7,0xaa18007,
+	0x0000000,0xc077e40,0x0000000,0xaa08007,0xc7eb740,0x6800007,0x7803bc8,0x9082208,
+	0xaa10008,0x684000a,0xc069980,0x6c0444a,0xc786100,0x7c03bc7,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
@@ -335,7 +335,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c02e88,0x7802c48,0xb80b207,0x6800007,0x7c02cc7,0x7802d08,0x4002208,0x78023c9,
 	0xb805248,0x7c02d08,0x6800007,0xc7ff880,0x7c02e87,0x7801e07,0xb218a07,0x680004a,
 	0x7c01e4a,0x7c01d8a,0x680204a,0x7c0194a,0x7802cc7,0x95084c7,0x7802d09,0x94084c9,
-	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7ee140,0x0000000,0x7802c49,
+	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7ee0c0,0x0000000,0x7802c49,
 	0xb014489,0x6808008,0xa628712,0xc780a40,0x0000000,0x7802d0a,0xa20c04a,0x500128a,
 	0x40011c7,0x54011c7,0xc780a40,0x94011ca,0x40011c7,0xa418247,0x7802b09,0x7802d07,
 	0xa27c047,0x40021c9,0xc780380,0x6800007,0xaa7c712,0x7802d0a,0xa2bc04a,0x4001287,
diff --git a/drivers/amlogic/amports/m6tv/ucode/h264/h264data_linux.h b/drivers/amlogic/amports/m6tv/ucode/h264/h264data_linux.h
index 6cfe42b206a2..22e4eda3e30e 100755
--- a/drivers/amlogic/amports/m6tv/ucode/h264/h264data_linux.h
+++ b/drivers/amlogic/amports/m6tv/ucode/h264/h264data_linux.h
@@ -79,7 +79,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c02e88,0x7802c48,0xb80b207,0x6800007,0x7c02cc7,0x7802d08,0x4002208,0x78023c9,
 	0xb805248,0x7c02d08,0x6800007,0xc7ff880,0x7c02e87,0x7801e07,0xb218a07,0x680004a,
 	0x7c01e4a,0x7c01d8a,0x680204a,0x7c0194a,0x7802cc7,0x95084c7,0x7802d09,0x94084c9,
-	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7ee140,0x0000000,0x7802c49,
+	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7ee0c0,0x0000000,0x7802c49,
 	0xb014489,0x6808008,0xa628712,0xc780a40,0x0000000,0x7802d0a,0xa20c04a,0x500128a,
 	0x40011c7,0x54011c7,0xc780a40,0x94011ca,0x40011c7,0xa418247,0x7802b09,0x7802d07,
 	0xa27c047,0x40021c9,0xc780380,0x6800007,0xaa7c712,0x7802d0a,0xa2bc04a,0x4001287,
diff --git a/drivers/amlogic/amports/m6tv/ucode/h264/h264mmc_linux.h b/drivers/amlogic/amports/m6tv/ucode/h264/h264mmc_linux.h
index 967466a30184..61308d38959b 100755
--- a/drivers/amlogic/amports/m6tv/ucode/h264/h264mmc_linux.h
+++ b/drivers/amlogic/amports/m6tv/ucode/h264/h264mmc_linux.h
@@ -26,7 +26,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0xc07e700,0x9481350,0xc07e880,0x94a1350,0x980d28d,0x7807200,0x2000300,0x7c07200,
 	0x649cf00,0xbe11000,0x6800040,0x78071c0,0x4001000,0x7c071c0,0x4006c4e,0x7807340,
 	0x7400c40,0x4007c4e,0x7400c51,0x94c234b,0x5801010,0x5409000,0x2c0d00d,0x7801e40,
-	0x7000381,0x9501040,0x7400381,0x7803000,0x9584340,0x900200d,0xa6100c0,0xbe0c30d,
+	0x7000381,0x9501040,0x7400381,0x7802fc0,0x9584340,0x900200d,0xa6100c0,0xbe0c30d,
 	0x6800000,0x9402340,0x9c0d20d,0x4001c4e,0xac03185,0xc780140,0x7400c4d,0x980d20d,
 	0xc780080,0x7400c4d,0x649cf00,0xa2440c0,0x900200d,0x680000b,0x940634b,0x7400c4d,
 	0xc001f00,0x780718d,0x40012cb,0xaa1c00b,0x6804080,0x609c000,0x609ce00,0x649cf00,
diff --git a/drivers/amlogic/amports/m6tv/ucode/h264/h264slice_linux.h b/drivers/amlogic/amports/m6tv/ucode/h264/h264slice_linux.h
index f07fcf583e2e..b7adb3195d27 100755
--- a/drivers/amlogic/amports/m6tv/ucode/h264/h264slice_linux.h
+++ b/drivers/amlogic/amports/m6tv/ucode/h264/h264slice_linux.h
@@ -73,7 +73,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x6c0444a,0x680c009,0xc05a600,0x6a0400b,0xc05c280,0x80c2301,0xc05c300,0x0000000,
 	0x401a1c7,0x7802248,0x2007207,0x7c02387,0x7802287,0xaa40007,0x6800009,0xc05bfc0,
 	0x80c2301,0xaa30047,0x9402247,0xc05bec0,0x80c2301,0xc05bf40,0x0000000,0x94c4247,
-	0xc05bd80,0x80c2301,0xc05be00,0x0000000,0x9444247,0x60c3109,0xc7f0680,0x0000000,
+	0xc05bd80,0x80c2301,0xc05be00,0x0000000,0x9444247,0x60c3109,0xc7f0600,0x0000000,
 	0xc0654c0,0x0000000,0x680400f,0x780704e,0x780734d,0x780730c,0x78072c0,0x90a1040,
 	0x90c1c00,0x2c0bc01,0x7807188,0xaa0c00c,0xaa3c04c,0xc780900,0x5403c48,0x20313f1,
 	0x4001c71,0x7000c40,0x9061040,0x4005c71,0x7000c70,0xbe4c040,0xa248080,0xa4112c1,
diff --git a/drivers/amlogic/amports/m6tvd/ucode/h264/h264c_linux.h b/drivers/amlogic/amports/m6tvd/ucode/h264/h264c_linux.h
index 2caa999c2fcb..c3a1853b92f7 100755
--- a/drivers/amlogic/amports/m6tvd/ucode/h264/h264c_linux.h
+++ b/drivers/amlogic/amports/m6tvd/ucode/h264/h264c_linux.h
@@ -176,11 +176,11 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x80c2301,0xc06f640,0x0000000,0x7c07547,0x58101c7,0x7c07587,0x78021c7,0xaa2c007,
 	0x7801f07,0xa6240c7,0x0000000,0xc06f2c0,0x80c2301,0xc06f340,0x0000000,0x7c075c7,
 	0x58101c7,0x7c07607,0x780754f,0x78075d0,0xc079840,0x0000000,0x7802dc7,0xa608007,
-	0xc781fc0,0x7801e87,0x69fffc8,0xb803207,0x40011c7,0x6800147,0x7c01e87,0x7802d07,
+	0xc781f40,0x7801e87,0x69fffc8,0xb803207,0x40011c7,0x6800147,0x7c01e87,0x7802d07,
 	0x78023c8,0xb802207,0xc7801c0,0x780188a,0x78018cb,0x680000c,0x78023cd,0xc07aa00,
-	0x6800049,0x7801d08,0x649cf09,0xaa28008,0x7803c0a,0xaa0800a,0xc781a40,0x4401208,
-	0x7c01d08,0xaa08008,0xc781940,0x9c09089,0x609cf09,0xa22c309,0x780204a,0xa62400a,
-	0x7802e0a,0xaa1c00a,0x7801f0a,0xaa0c0ca,0x680004a,0x680008a,0xc781640,0x7c01d0a,
+	0x6800049,0x7801d08,0x649cf09,0xaa28008,0x7803c0a,0xaa0800a,0xc7819c0,0x4401208,
+	0x7c01d08,0xaa08008,0xc7818c0,0x9c09089,0x609cf09,0xa22c309,0x780204a,0xa62400a,
+	0x7802e0a,0xaa1c00a,0x7801f0a,0xaa0c0ca,0x680004a,0x680008a,0xc7815c0,0x7c01d0a,
 	0x680000a,0x7c01d0a,0x688000a,0xc06ce40,0x6c0444a,0x7803bc7,0xbe54107,0x68001ca,
 	0x6031e0a,0x649ce09,0xaa14009,0x0000000,0x6800009,0x609ce09,0x8007401,0x6431e09,
 	0xbee4049,0x0000000,0x649cf07,0xa2200c7,0x7801d87,0xaa18007,0x7801ec7,0xaa10087,
@@ -188,25 +188,25 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c018d3,0x6803fc7,0x7c02b07,0x6800007,0x7c02547,0x7c025c7,0x7c02607,0x7802c07,
 	0x40011c7,0x7c024c7,0x6800047,0x60e0c07,0x7c026c7,0x7c02507,0x68003c7,0x7c02807,
 	0x6805c07,0x60c2107,0x80c2170,0x6800087,0x7c02a47,0x6800018,0x7801ec7,0xa60c087,
-	0x6800007,0x7c01e47,0x7802fc7,0x7c03007,0x68003c7,0x7c02fc7,0x6800407,0x60c2407,
-	0x6800007,0x7807048,0x6804009,0x5403287,0x200a289,0x400128a,0x700028b,0x60c220b,
-	0x400128a,0x700028b,0x400128a,0x700028c,0x96102cc,0x60c220b,0x400128a,0x700028b,
-	0x400128a,0x700028c,0x96102cc,0x60c220b,0x40011c7,0xb8ee207,0x0000000,0x7801d07,
-	0xaa08007,0xc7ed200,0x6800007,0x7c01947,0x6a00007,0x60c3d07,0x7802dc7,0xa618007,
-	0x0000000,0xc079640,0x0000000,0xaa08007,0xc7ecf40,0x7802047,0x7c02e07,0x7802007,
-	0x7c02e47,0x7801ec7,0x7c02087,0x7801f47,0x7c07347,0x7801f07,0x7c02407,0x7801f87,
-	0x7c01fc7,0x780248a,0xa6fc00a,0x0000000,0xc073880,0x0000000,0x7802dc7,0xaa10007,
-	0x0000000,0xc073300,0x0000000,0xc073c40,0x0000000,0x7802087,0x6840009,0x682609a,
-	0xaa1c087,0x6800008,0x6822d5a,0xaa10147,0x6800048,0x6800088,0x6840009,0x7c02788,
-	0x7c02689,0x6800007,0x7c02a87,0x7802c4a,0xb20c2ca,0x68004ca,0x6800c0a,0x6495107,
-	0x97061ca,0x6095107,0x7802c8a,0x7802107,0xa630007,0x7802409,0xaa280c9,0x540128a,
-	0x580128a,0x6490707,0x9807087,0x98070c7,0x6090707,0x6495107,0x98073c7,0x6095107,
-	0x7c023ca,0x7802947,0x94421c9,0x7c02947,0xa648387,0x68000c9,0x6495107,0x94041c9,
-	0x9807647,0x6800009,0x979d1c9,0x6095107,0x6490707,0x9807447,0x6090707,0x6498e07,
-	0x9807787,0x6098e07,0x7802087,0xaa0c087,0x6824f9a,0x68214da,0x7803bc8,0x90821c8,
-	0xaa18087,0x6800087,0x9482207,0x690000a,0xc069d00,0x6c0444a,0xc786480,0x7c03bc8,
-	0x7802dc7,0xaa18007,0x0000000,0xc077dc0,0x0000000,0xaa08007,0xc7eb6c0,0x6800007,
-	0x7803bc8,0x9082208,0xaa10008,0x684000a,0xc069900,0x6c0444a,0xc786080,0x7c03bc7,
+	0x6800007,0x7c01e47,0x68003c7,0x7c02fc7,0x6800407,0x60c2407,0x6800007,0x7807048,
+	0x6804009,0x5403287,0x200a289,0x400128a,0x700028b,0x60c220b,0x400128a,0x700028b,
+	0x400128a,0x700028c,0x96102cc,0x60c220b,0x400128a,0x700028b,0x400128a,0x700028c,
+	0x96102cc,0x60c220b,0x40011c7,0xb8ee207,0x0000000,0x7801d07,0xaa08007,0xc7ed280,
+	0x6800007,0x7c01947,0x6a00007,0x60c3d07,0x7802dc7,0xa618007,0x0000000,0xc0796c0,
+	0x0000000,0xaa08007,0xc7ecfc0,0x7802047,0x7c02e07,0x7802007,0x7c02e47,0x7801ec7,
+	0x7c02087,0x7801f47,0x7c07347,0x7801f07,0x7c02407,0x7801f87,0x7c01fc7,0x780248a,
+	0xa6fc00a,0x0000000,0xc073900,0x0000000,0x7802dc7,0xaa10007,0x0000000,0xc073380,
+	0x0000000,0xc073cc0,0x0000000,0x7802087,0x6840009,0x682609a,0xaa1c087,0x6800008,
+	0x6822d5a,0xaa10147,0x6800048,0x6800088,0x6840009,0x7c02788,0x7c02689,0x6800007,
+	0x7c02a87,0x7802c4a,0xb20c2ca,0x68004ca,0x6800c0a,0x6495107,0x97061ca,0x6095107,
+	0x7802c8a,0x7802107,0xa630007,0x7802409,0xaa280c9,0x540128a,0x580128a,0x6490707,
+	0x9807087,0x98070c7,0x6090707,0x6495107,0x98073c7,0x6095107,0x7c023ca,0x7802947,
+	0x94421c9,0x7c02947,0xa648387,0x68000c9,0x6495107,0x94041c9,0x9807647,0x6800009,
+	0x979d1c9,0x6095107,0x6490707,0x9807447,0x6090707,0x6498e07,0x9807787,0x6098e07,
+	0x7802087,0xaa0c087,0x6824f9a,0x68214da,0x7803bc8,0x90821c8,0xaa18087,0x6800087,
+	0x9482207,0x690000a,0xc069d80,0x6c0444a,0xc786500,0x7c03bc8,0x7802dc7,0xaa18007,
+	0x0000000,0xc077e40,0x0000000,0xaa08007,0xc7eb740,0x6800007,0x7803bc8,0x9082208,
+	0xaa10008,0x684000a,0xc069980,0x6c0444a,0xc786100,0x7c03bc7,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
@@ -335,7 +335,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c02e88,0x7802c48,0xb80b207,0x6800007,0x7c02cc7,0x7802d08,0x4002208,0x78023c9,
 	0xb805248,0x7c02d08,0x6800007,0xc7ff880,0x7c02e87,0x7801e07,0xb218a07,0x680004a,
 	0x7c01e4a,0x7c01d8a,0x680204a,0x7c0194a,0x7802cc7,0x95084c7,0x7802d09,0x94084c9,
-	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7ee140,0x0000000,0x7802c49,
+	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7ee0c0,0x0000000,0x7802c49,
 	0xb014489,0x6808008,0xa628712,0xc780a40,0x0000000,0x7802d0a,0xa20c04a,0x500128a,
 	0x40011c7,0x54011c7,0xc780a40,0x94011ca,0x40011c7,0xa418247,0x7802b09,0x7802d07,
 	0xa27c047,0x40021c9,0xc780380,0x6800007,0xaa7c712,0x7802d0a,0xa2bc04a,0x4001287,
diff --git a/drivers/amlogic/amports/m6tvd/ucode/h264/h264data_linux.h b/drivers/amlogic/amports/m6tvd/ucode/h264/h264data_linux.h
index dc5dab0ff235..a612df1cc509 100755
--- a/drivers/amlogic/amports/m6tvd/ucode/h264/h264data_linux.h
+++ b/drivers/amlogic/amports/m6tvd/ucode/h264/h264data_linux.h
@@ -79,7 +79,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c02e88,0x7802c48,0xb80b207,0x6800007,0x7c02cc7,0x7802d08,0x4002208,0x78023c9,
 	0xb805248,0x7c02d08,0x6800007,0xc7ff880,0x7c02e87,0x7801e07,0xb218a07,0x680004a,
 	0x7c01e4a,0x7c01d8a,0x680204a,0x7c0194a,0x7802cc7,0x95084c7,0x7802d09,0x94084c9,
-	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7ee140,0x0000000,0x7802c49,
+	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7ee0c0,0x0000000,0x7802c49,
 	0xb014489,0x6808008,0xa628712,0xc780a40,0x0000000,0x7802d0a,0xa20c04a,0x500128a,
 	0x40011c7,0x54011c7,0xc780a40,0x94011ca,0x40011c7,0xa418247,0x7802b09,0x7802d07,
 	0xa27c047,0x40021c9,0xc780380,0x6800007,0xaa7c712,0x7802d0a,0xa2bc04a,0x4001287,
diff --git a/drivers/amlogic/amports/m6tvd/ucode/h264/h264mmc_linux.h b/drivers/amlogic/amports/m6tvd/ucode/h264/h264mmc_linux.h
index 967466a30184..61308d38959b 100755
--- a/drivers/amlogic/amports/m6tvd/ucode/h264/h264mmc_linux.h
+++ b/drivers/amlogic/amports/m6tvd/ucode/h264/h264mmc_linux.h
@@ -26,7 +26,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0xc07e700,0x9481350,0xc07e880,0x94a1350,0x980d28d,0x7807200,0x2000300,0x7c07200,
 	0x649cf00,0xbe11000,0x6800040,0x78071c0,0x4001000,0x7c071c0,0x4006c4e,0x7807340,
 	0x7400c40,0x4007c4e,0x7400c51,0x94c234b,0x5801010,0x5409000,0x2c0d00d,0x7801e40,
-	0x7000381,0x9501040,0x7400381,0x7803000,0x9584340,0x900200d,0xa6100c0,0xbe0c30d,
+	0x7000381,0x9501040,0x7400381,0x7802fc0,0x9584340,0x900200d,0xa6100c0,0xbe0c30d,
 	0x6800000,0x9402340,0x9c0d20d,0x4001c4e,0xac03185,0xc780140,0x7400c4d,0x980d20d,
 	0xc780080,0x7400c4d,0x649cf00,0xa2440c0,0x900200d,0x680000b,0x940634b,0x7400c4d,
 	0xc001f00,0x780718d,0x40012cb,0xaa1c00b,0x6804080,0x609c000,0x609ce00,0x649cf00,
diff --git a/drivers/amlogic/amports/m6tvd/ucode/h264/h264slice_linux.h b/drivers/amlogic/amports/m6tvd/ucode/h264/h264slice_linux.h
index f07fcf583e2e..b7adb3195d27 100755
--- a/drivers/amlogic/amports/m6tvd/ucode/h264/h264slice_linux.h
+++ b/drivers/amlogic/amports/m6tvd/ucode/h264/h264slice_linux.h
@@ -73,7 +73,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x6c0444a,0x680c009,0xc05a600,0x6a0400b,0xc05c280,0x80c2301,0xc05c300,0x0000000,
 	0x401a1c7,0x7802248,0x2007207,0x7c02387,0x7802287,0xaa40007,0x6800009,0xc05bfc0,
 	0x80c2301,0xaa30047,0x9402247,0xc05bec0,0x80c2301,0xc05bf40,0x0000000,0x94c4247,
-	0xc05bd80,0x80c2301,0xc05be00,0x0000000,0x9444247,0x60c3109,0xc7f0680,0x0000000,
+	0xc05bd80,0x80c2301,0xc05be00,0x0000000,0x9444247,0x60c3109,0xc7f0600,0x0000000,
 	0xc0654c0,0x0000000,0x680400f,0x780704e,0x780734d,0x780730c,0x78072c0,0x90a1040,
 	0x90c1c00,0x2c0bc01,0x7807188,0xaa0c00c,0xaa3c04c,0xc780900,0x5403c48,0x20313f1,
 	0x4001c71,0x7000c40,0x9061040,0x4005c71,0x7000c70,0xbe4c040,0xa248080,0xa4112c1,
diff --git a/drivers/amlogic/amports/m8/ucode/h264/h264c_linux.h b/drivers/amlogic/amports/m8/ucode/h264/h264c_linux.h
index 2caa999c2fcb..c3a1853b92f7 100755
--- a/drivers/amlogic/amports/m8/ucode/h264/h264c_linux.h
+++ b/drivers/amlogic/amports/m8/ucode/h264/h264c_linux.h
@@ -176,11 +176,11 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x80c2301,0xc06f640,0x0000000,0x7c07547,0x58101c7,0x7c07587,0x78021c7,0xaa2c007,
 	0x7801f07,0xa6240c7,0x0000000,0xc06f2c0,0x80c2301,0xc06f340,0x0000000,0x7c075c7,
 	0x58101c7,0x7c07607,0x780754f,0x78075d0,0xc079840,0x0000000,0x7802dc7,0xa608007,
-	0xc781fc0,0x7801e87,0x69fffc8,0xb803207,0x40011c7,0x6800147,0x7c01e87,0x7802d07,
+	0xc781f40,0x7801e87,0x69fffc8,0xb803207,0x40011c7,0x6800147,0x7c01e87,0x7802d07,
 	0x78023c8,0xb802207,0xc7801c0,0x780188a,0x78018cb,0x680000c,0x78023cd,0xc07aa00,
-	0x6800049,0x7801d08,0x649cf09,0xaa28008,0x7803c0a,0xaa0800a,0xc781a40,0x4401208,
-	0x7c01d08,0xaa08008,0xc781940,0x9c09089,0x609cf09,0xa22c309,0x780204a,0xa62400a,
-	0x7802e0a,0xaa1c00a,0x7801f0a,0xaa0c0ca,0x680004a,0x680008a,0xc781640,0x7c01d0a,
+	0x6800049,0x7801d08,0x649cf09,0xaa28008,0x7803c0a,0xaa0800a,0xc7819c0,0x4401208,
+	0x7c01d08,0xaa08008,0xc7818c0,0x9c09089,0x609cf09,0xa22c309,0x780204a,0xa62400a,
+	0x7802e0a,0xaa1c00a,0x7801f0a,0xaa0c0ca,0x680004a,0x680008a,0xc7815c0,0x7c01d0a,
 	0x680000a,0x7c01d0a,0x688000a,0xc06ce40,0x6c0444a,0x7803bc7,0xbe54107,0x68001ca,
 	0x6031e0a,0x649ce09,0xaa14009,0x0000000,0x6800009,0x609ce09,0x8007401,0x6431e09,
 	0xbee4049,0x0000000,0x649cf07,0xa2200c7,0x7801d87,0xaa18007,0x7801ec7,0xaa10087,
@@ -188,25 +188,25 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c018d3,0x6803fc7,0x7c02b07,0x6800007,0x7c02547,0x7c025c7,0x7c02607,0x7802c07,
 	0x40011c7,0x7c024c7,0x6800047,0x60e0c07,0x7c026c7,0x7c02507,0x68003c7,0x7c02807,
 	0x6805c07,0x60c2107,0x80c2170,0x6800087,0x7c02a47,0x6800018,0x7801ec7,0xa60c087,
-	0x6800007,0x7c01e47,0x7802fc7,0x7c03007,0x68003c7,0x7c02fc7,0x6800407,0x60c2407,
-	0x6800007,0x7807048,0x6804009,0x5403287,0x200a289,0x400128a,0x700028b,0x60c220b,
-	0x400128a,0x700028b,0x400128a,0x700028c,0x96102cc,0x60c220b,0x400128a,0x700028b,
-	0x400128a,0x700028c,0x96102cc,0x60c220b,0x40011c7,0xb8ee207,0x0000000,0x7801d07,
-	0xaa08007,0xc7ed200,0x6800007,0x7c01947,0x6a00007,0x60c3d07,0x7802dc7,0xa618007,
-	0x0000000,0xc079640,0x0000000,0xaa08007,0xc7ecf40,0x7802047,0x7c02e07,0x7802007,
-	0x7c02e47,0x7801ec7,0x7c02087,0x7801f47,0x7c07347,0x7801f07,0x7c02407,0x7801f87,
-	0x7c01fc7,0x780248a,0xa6fc00a,0x0000000,0xc073880,0x0000000,0x7802dc7,0xaa10007,
-	0x0000000,0xc073300,0x0000000,0xc073c40,0x0000000,0x7802087,0x6840009,0x682609a,
-	0xaa1c087,0x6800008,0x6822d5a,0xaa10147,0x6800048,0x6800088,0x6840009,0x7c02788,
-	0x7c02689,0x6800007,0x7c02a87,0x7802c4a,0xb20c2ca,0x68004ca,0x6800c0a,0x6495107,
-	0x97061ca,0x6095107,0x7802c8a,0x7802107,0xa630007,0x7802409,0xaa280c9,0x540128a,
-	0x580128a,0x6490707,0x9807087,0x98070c7,0x6090707,0x6495107,0x98073c7,0x6095107,
-	0x7c023ca,0x7802947,0x94421c9,0x7c02947,0xa648387,0x68000c9,0x6495107,0x94041c9,
-	0x9807647,0x6800009,0x979d1c9,0x6095107,0x6490707,0x9807447,0x6090707,0x6498e07,
-	0x9807787,0x6098e07,0x7802087,0xaa0c087,0x6824f9a,0x68214da,0x7803bc8,0x90821c8,
-	0xaa18087,0x6800087,0x9482207,0x690000a,0xc069d00,0x6c0444a,0xc786480,0x7c03bc8,
-	0x7802dc7,0xaa18007,0x0000000,0xc077dc0,0x0000000,0xaa08007,0xc7eb6c0,0x6800007,
-	0x7803bc8,0x9082208,0xaa10008,0x684000a,0xc069900,0x6c0444a,0xc786080,0x7c03bc7,
+	0x6800007,0x7c01e47,0x68003c7,0x7c02fc7,0x6800407,0x60c2407,0x6800007,0x7807048,
+	0x6804009,0x5403287,0x200a289,0x400128a,0x700028b,0x60c220b,0x400128a,0x700028b,
+	0x400128a,0x700028c,0x96102cc,0x60c220b,0x400128a,0x700028b,0x400128a,0x700028c,
+	0x96102cc,0x60c220b,0x40011c7,0xb8ee207,0x0000000,0x7801d07,0xaa08007,0xc7ed280,
+	0x6800007,0x7c01947,0x6a00007,0x60c3d07,0x7802dc7,0xa618007,0x0000000,0xc0796c0,
+	0x0000000,0xaa08007,0xc7ecfc0,0x7802047,0x7c02e07,0x7802007,0x7c02e47,0x7801ec7,
+	0x7c02087,0x7801f47,0x7c07347,0x7801f07,0x7c02407,0x7801f87,0x7c01fc7,0x780248a,
+	0xa6fc00a,0x0000000,0xc073900,0x0000000,0x7802dc7,0xaa10007,0x0000000,0xc073380,
+	0x0000000,0xc073cc0,0x0000000,0x7802087,0x6840009,0x682609a,0xaa1c087,0x6800008,
+	0x6822d5a,0xaa10147,0x6800048,0x6800088,0x6840009,0x7c02788,0x7c02689,0x6800007,
+	0x7c02a87,0x7802c4a,0xb20c2ca,0x68004ca,0x6800c0a,0x6495107,0x97061ca,0x6095107,
+	0x7802c8a,0x7802107,0xa630007,0x7802409,0xaa280c9,0x540128a,0x580128a,0x6490707,
+	0x9807087,0x98070c7,0x6090707,0x6495107,0x98073c7,0x6095107,0x7c023ca,0x7802947,
+	0x94421c9,0x7c02947,0xa648387,0x68000c9,0x6495107,0x94041c9,0x9807647,0x6800009,
+	0x979d1c9,0x6095107,0x6490707,0x9807447,0x6090707,0x6498e07,0x9807787,0x6098e07,
+	0x7802087,0xaa0c087,0x6824f9a,0x68214da,0x7803bc8,0x90821c8,0xaa18087,0x6800087,
+	0x9482207,0x690000a,0xc069d80,0x6c0444a,0xc786500,0x7c03bc8,0x7802dc7,0xaa18007,
+	0x0000000,0xc077e40,0x0000000,0xaa08007,0xc7eb740,0x6800007,0x7803bc8,0x9082208,
+	0xaa10008,0x684000a,0xc069980,0x6c0444a,0xc786100,0x7c03bc7,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
 	0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,0x0000000,
@@ -335,7 +335,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c02e88,0x7802c48,0xb80b207,0x6800007,0x7c02cc7,0x7802d08,0x4002208,0x78023c9,
 	0xb805248,0x7c02d08,0x6800007,0xc7ff880,0x7c02e87,0x7801e07,0xb218a07,0x680004a,
 	0x7c01e4a,0x7c01d8a,0x680204a,0x7c0194a,0x7802cc7,0x95084c7,0x7802d09,0x94084c9,
-	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7ee140,0x0000000,0x7802c49,
+	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7ee0c0,0x0000000,0x7802c49,
 	0xb014489,0x6808008,0xa628712,0xc780a40,0x0000000,0x7802d0a,0xa20c04a,0x500128a,
 	0x40011c7,0x54011c7,0xc780a40,0x94011ca,0x40011c7,0xa418247,0x7802b09,0x7802d07,
 	0xa27c047,0x40021c9,0xc780380,0x6800007,0xaa7c712,0x7802d0a,0xa2bc04a,0x4001287,
diff --git a/drivers/amlogic/amports/m8/ucode/h264/h264data_linux.h b/drivers/amlogic/amports/m8/ucode/h264/h264data_linux.h
index dc5dab0ff235..a612df1cc509 100755
--- a/drivers/amlogic/amports/m8/ucode/h264/h264data_linux.h
+++ b/drivers/amlogic/amports/m8/ucode/h264/h264data_linux.h
@@ -79,7 +79,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x7c02e88,0x7802c48,0xb80b207,0x6800007,0x7c02cc7,0x7802d08,0x4002208,0x78023c9,
 	0xb805248,0x7c02d08,0x6800007,0xc7ff880,0x7c02e87,0x7801e07,0xb218a07,0x680004a,
 	0x7c01e4a,0x7c01d8a,0x680204a,0x7c0194a,0x7802cc7,0x95084c7,0x7802d09,0x94084c9,
-	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7ee140,0x0000000,0x7802c49,
+	0x7801909,0xaa18009,0x4401249,0xa610009,0x7c01909,0xc7ee0c0,0x0000000,0x7802c49,
 	0xb014489,0x6808008,0xa628712,0xc780a40,0x0000000,0x7802d0a,0xa20c04a,0x500128a,
 	0x40011c7,0x54011c7,0xc780a40,0x94011ca,0x40011c7,0xa418247,0x7802b09,0x7802d07,
 	0xa27c047,0x40021c9,0xc780380,0x6800007,0xaa7c712,0x7802d0a,0xa2bc04a,0x4001287,
diff --git a/drivers/amlogic/amports/m8/ucode/h264/h264mmc_linux.h b/drivers/amlogic/amports/m8/ucode/h264/h264mmc_linux.h
index 967466a30184..61308d38959b 100755
--- a/drivers/amlogic/amports/m8/ucode/h264/h264mmc_linux.h
+++ b/drivers/amlogic/amports/m8/ucode/h264/h264mmc_linux.h
@@ -26,7 +26,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0xc07e700,0x9481350,0xc07e880,0x94a1350,0x980d28d,0x7807200,0x2000300,0x7c07200,
 	0x649cf00,0xbe11000,0x6800040,0x78071c0,0x4001000,0x7c071c0,0x4006c4e,0x7807340,
 	0x7400c40,0x4007c4e,0x7400c51,0x94c234b,0x5801010,0x5409000,0x2c0d00d,0x7801e40,
-	0x7000381,0x9501040,0x7400381,0x7803000,0x9584340,0x900200d,0xa6100c0,0xbe0c30d,
+	0x7000381,0x9501040,0x7400381,0x7802fc0,0x9584340,0x900200d,0xa6100c0,0xbe0c30d,
 	0x6800000,0x9402340,0x9c0d20d,0x4001c4e,0xac03185,0xc780140,0x7400c4d,0x980d20d,
 	0xc780080,0x7400c4d,0x649cf00,0xa2440c0,0x900200d,0x680000b,0x940634b,0x7400c4d,
 	0xc001f00,0x780718d,0x40012cb,0xaa1c00b,0x6804080,0x609c000,0x609ce00,0x649cf00,
diff --git a/drivers/amlogic/amports/m8/ucode/h264/h264slice_linux.h b/drivers/amlogic/amports/m8/ucode/h264/h264slice_linux.h
index f07fcf583e2e..b7adb3195d27 100755
--- a/drivers/amlogic/amports/m8/ucode/h264/h264slice_linux.h
+++ b/drivers/amlogic/amports/m8/ucode/h264/h264slice_linux.h
@@ -73,7 +73,7 @@ const u32 MicroCode[] __attribute__ ((aligned (8))) = {
 	0x6c0444a,0x680c009,0xc05a600,0x6a0400b,0xc05c280,0x80c2301,0xc05c300,0x0000000,
 	0x401a1c7,0x7802248,0x2007207,0x7c02387,0x7802287,0xaa40007,0x6800009,0xc05bfc0,
 	0x80c2301,0xaa30047,0x9402247,0xc05bec0,0x80c2301,0xc05bf40,0x0000000,0x94c4247,
-	0xc05bd80,0x80c2301,0xc05be00,0x0000000,0x9444247,0x60c3109,0xc7f0680,0x0000000,
+	0xc05bd80,0x80c2301,0xc05be00,0x0000000,0x9444247,0x60c3109,0xc7f0600,0x0000000,
 	0xc0654c0,0x0000000,0x680400f,0x780704e,0x780734d,0x780730c,0x78072c0,0x90a1040,
 	0x90c1c00,0x2c0bc01,0x7807188,0xaa0c00c,0xaa3c04c,0xc780900,0x5403c48,0x20313f1,
 	0x4001c71,0x7000c40,0x9061040,0x4005c71,0x7000c70,0xbe4c040,0xa248080,0xa4112c1,
diff --git a/drivers/amlogic/amports/vh264.c b/drivers/amlogic/amports/vh264.c
index 2bf260156429..d543ae58422c 100755
--- a/drivers/amlogic/amports/vh264.c
+++ b/drivers/amlogic/amports/vh264.c
@@ -1027,7 +1027,7 @@ static void vh264_isr(void)
                 }
             }
 
-            if ((!force_interlaced_frame) && (frame_mb_only || prog_frame || (pic_struct_present && pic_struct <= PIC_TRIPLE_FRAME))) {
+            if ((!force_interlaced_frame) && (prog_frame || (pic_struct_present && pic_struct <= PIC_TRIPLE_FRAME))) {
                 if (pic_struct_present) {
                     if (pic_struct == PIC_TOP_BOT_TOP || pic_struct == PIC_BOT_TOP_BOT) {
                         vf->duration += vf->duration >> 1;
diff --git a/drivers/amlogic/deinterlace/deinterlace.c b/drivers/amlogic/deinterlace/deinterlace.c
index c81ec107b567..4e418d32d1e1 100755
--- a/drivers/amlogic/deinterlace/deinterlace.c
+++ b/drivers/amlogic/deinterlace/deinterlace.c
@@ -291,7 +291,7 @@ static int frame_count = 0;
 static int provider_vframe_level = 0;
 static int frame_packing_mode = 1;
 static int disp_frame_count = 0;
-static int start_frame_drop_count = 0;
+static int start_frame_drop_count = 1;
 //static int start_frame_hold_count = 0;
 #if defined(CONFIG_ARCH_MESON2)
 static int pre_de_irq_check = 0;
-- 
2.19.0

