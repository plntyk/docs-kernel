From 710138d292f965444d47f3e69c401ccbb6c6e36a Mon Sep 17 00:00:00 2001
From: Tao Dong <tao.dong@amlogic.com>
Date: Thu, 9 Apr 2015 18:40:50 +0800
Subject: [PATCH 5557/5965] PD#105181: dtd: support native image player

Change-Id: I3985d08fa027246fbe1c5b41ad3402ceda0c3d96
---
 arch/arm/boot/dts/amlogic/meson8_k200a_1G.dtd | 25 ++++++++++----
 .../dts/amlogic/meson8_k200a_1G_hdmiin.dtd    | 25 ++++++++++----
 arch/arm/boot/dts/amlogic/meson8_k200a_2G.dtd | 32 +++++++++++++++---
 .../dts/amlogic/meson8_k200a_2G_hdmiin.dtd    | 32 +++++++++++++++---
 .../dts/amlogic/meson8_k200b_1G_emmc_sdhc.dtd |  8 ++---
 .../meson8_k200b_1G_emmc_sdhc_hdmiin.dtd      |  8 ++---
 .../dts/amlogic/meson8_k200b_1G_emmc_sdio.dtd | 25 ++++++++++----
 .../meson8_k200b_1G_emmc_sdio_hdmiin.dtd      | 25 ++++++++++----
 .../dts/amlogic/meson8_k200b_2G_emmc_sdhc.dtd | 30 +++++++++++++++--
 .../dts/amlogic/meson8_k200b_2G_emmc_sdio.dtd | 30 +++++++++++++++--
 arch/arm/boot/dts/amlogic/meson8b_m200_1G.dtd | 32 +++++++++++++++---
 .../boot/dts/amlogic/meson8b_m201C_512M.dtd   | 33 ++++++++++++++++---
 arch/arm/boot/dts/amlogic/meson8b_m201_1G.dtd | 31 ++++++++++++++---
 .../boot/dts/amlogic/meson8b_m202_512M.dtd    | 33 ++++++++++++++++---
 arch/arm/boot/dts/amlogic/meson8b_m203a.dtd   | 32 +++++++++++++++---
 arch/arm/boot/dts/amlogic/meson8b_m203b.dtd   | 32 +++++++++++++++---
 .../boot/dts/amlogic/meson8m2_n200C_1G.dtd    | 28 ++++++++++++++--
 .../boot/dts/amlogic/meson8m2_n200C_2G.dtd    | 32 +++++++++++++++---
 .../arm/boot/dts/amlogic/meson8m2_n200_1G.dtd | 30 +++++++++++++++--
 .../arm/boot/dts/amlogic/meson8m2_n200_2G.dtd | 32 +++++++++++++++---
 20 files changed, 466 insertions(+), 89 deletions(-)

diff --git a/arch/arm/boot/dts/amlogic/meson8_k200a_1G.dtd b/arch/arm/boot/dts/amlogic/meson8_k200a_1G.dtd
index 5c3008d279ad..13c53cbdd70f 100755
--- a/arch/arm/boot/dts/amlogic/meson8_k200a_1G.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8_k200a_1G.dtd
@@ -147,7 +147,14 @@ void root_func(){
 		4k2k_fb = <0>;
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
-	
+
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -155,6 +162,8 @@ void root_func(){
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
 		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
@@ -182,7 +191,9 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x04000000>; // 64M
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
 //		reserve-iomap = "true";
 		linux,contiguous-region = <&mem_4k2k_decoder>;
         };
@@ -193,12 +204,12 @@ void root_func(){
 //$$ L3 PROP_U32 2 ="reg"
     picdec{
 		compatible = "amlogic,picdec";
-		dev_name = "picdec";								
+		dev_name = "picdec";
 		status = "okay";
-        share-memory-name = "vdec0";
-        share-memory-offset = <0>;
-        share-memory-size = <0x04000000>; //64M
-	}; 
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8_k200a_1G_hdmiin.dtd b/arch/arm/boot/dts/amlogic/meson8_k200a_1G_hdmiin.dtd
index 29a980e1b969..d31f16d3a3c9 100755
--- a/arch/arm/boot/dts/amlogic/meson8_k200a_1G_hdmiin.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8_k200a_1G_hdmiin.dtd
@@ -147,7 +147,14 @@ void root_func(){
 		4k2k_fb = <0>;
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
-	
+
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -155,6 +162,8 @@ void root_func(){
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
 		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
@@ -182,7 +191,9 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x04000000>; // 64M
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
 //		reserve-iomap = "true";
 		linux,contiguous-region = <&mem_4k2k_decoder>;
         };
@@ -193,12 +204,12 @@ void root_func(){
 //$$ L3 PROP_U32 2 ="reg"
     picdec{
 		compatible = "amlogic,picdec";
-		dev_name = "picdec";								
+		dev_name = "picdec";
 		status = "okay";
-        share-memory-name = "vdec0";
-        share-memory-offset = <0>;
-        share-memory-size = <0x04000000>; //64M
-	}; 
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8_k200a_2G.dtd b/arch/arm/boot/dts/amlogic/meson8_k200a_2G.dtd
index 41d039d78b74..77f77b0bf1a0 100755
--- a/arch/arm/boot/dts/amlogic/meson8_k200a_2G.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8_k200a_2G.dtd
@@ -140,7 +140,14 @@ void root_func(){
 		4k2k_fb = <0>;
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
-	
+
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -148,6 +155,8 @@ void root_func(){
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
 		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
@@ -175,10 +184,25 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x10000000>;
-                reserve-iomap = "true";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+//		reserve-iomap = "true";
         };
-        
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
+
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
 //$$ MODULE="DISP&MM-PostProcess"
diff --git a/arch/arm/boot/dts/amlogic/meson8_k200a_2G_hdmiin.dtd b/arch/arm/boot/dts/amlogic/meson8_k200a_2G_hdmiin.dtd
index a365d1c9cd99..1ffb520db8ee 100755
--- a/arch/arm/boot/dts/amlogic/meson8_k200a_2G_hdmiin.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8_k200a_2G_hdmiin.dtd
@@ -140,7 +140,14 @@ void root_func(){
 		4k2k_fb = <0>;
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
-	
+
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -148,6 +155,8 @@ void root_func(){
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
 		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
@@ -175,10 +184,25 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x10000000>;
-                reserve-iomap = "true";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+//		reserve-iomap = "true";
         };
-        
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
+
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
 //$$ MODULE="DISP&MM-PostProcess"
diff --git a/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdhc.dtd b/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdhc.dtd
index 4693ecd329d5..a8c3c466a63c 100755
--- a/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdhc.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdhc.dtd
@@ -149,14 +149,14 @@ void root_func(){
 		4k2k_fb = <0>;
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
-	
+
 	continuemem{
                 compatible = "amlogic,contimuemem";
                 dev_name = "contimuemem";
                 reserve-memory = <0x06100000>; // 88M deinterlace+vdec
 	};
 
-	
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -206,12 +206,12 @@ void root_func(){
 //$$ L3 PROP_U32 2 ="reg"
     picdec{
 		compatible = "amlogic,picdec";
-		dev_name = "picdec";								
+		dev_name = "picdec";
 		status = "okay";
                 share-memory-name = "continuemem0";
                 share-memory-offset = <0x02100000>;
                 share-memory-size = <0x04000000>; //64M
-	}; 
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdhc_hdmiin.dtd b/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdhc_hdmiin.dtd
index 4883742b3f7d..565f897a0a36 100755
--- a/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdhc_hdmiin.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdhc_hdmiin.dtd
@@ -149,14 +149,14 @@ void root_func(){
 		4k2k_fb = <0>;
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
-	
+
 	continuemem{
                 compatible = "amlogic,contimuemem";
                 dev_name = "contimuemem";
                 reserve-memory = <0x06100000>; // 88M deinterlace+vdec
 	};
 
-	
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -206,12 +206,12 @@ void root_func(){
 //$$ L3 PROP_U32 2 ="reg"
     picdec{
 		compatible = "amlogic,picdec";
-		dev_name = "picdec";								
+		dev_name = "picdec";
 		status = "okay";
                 share-memory-name = "continuemem0";
                 share-memory-offset = <0x02100000>;
                 share-memory-size = <0x04000000>; //64M
-	}; 
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdio.dtd b/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdio.dtd
index 3493c4d10a9e..a0dd45830aa2 100755
--- a/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdio.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdio.dtd
@@ -149,7 +149,14 @@ void root_func(){
 		4k2k_fb = <0>;
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
-	
+
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -157,6 +164,8 @@ void root_func(){
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
 		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
@@ -184,7 +193,9 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x04000000>; // 64M
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
 //		reserve-iomap = "true";
 		linux,contiguous-region = <&mem_4k2k_decoder>;
         };
@@ -195,12 +206,12 @@ void root_func(){
 //$$ L3 PROP_U32 2 ="reg"
     picdec{
 		compatible = "amlogic,picdec";
-		dev_name = "picdec";								
+		dev_name = "picdec";
 		status = "okay";
-        share-memory-name = "vdec0";
-        share-memory-offset = <0>;
-        share-memory-size = <0x04000000>; //64M
-	}; 
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdio_hdmiin.dtd b/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdio_hdmiin.dtd
index b16b53064462..99b45dd89eba 100755
--- a/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdio_hdmiin.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8_k200b_1G_emmc_sdio_hdmiin.dtd
@@ -149,7 +149,14 @@ void root_func(){
 		4k2k_fb = <0>;
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
-	
+
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -157,6 +164,8 @@ void root_func(){
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
 		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
@@ -184,7 +193,9 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x04000000>; // 64M
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
 //		reserve-iomap = "true";
 		linux,contiguous-region = <&mem_4k2k_decoder>;
         };
@@ -195,12 +206,12 @@ void root_func(){
 //$$ L3 PROP_U32 2 ="reg"
     picdec{
 		compatible = "amlogic,picdec";
-		dev_name = "picdec";								
+		dev_name = "picdec";
 		status = "okay";
-        share-memory-name = "vdec0";
-        share-memory-offset = <0>;
-        share-memory-size = <0x04000000>; //64M
-	}; 
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8_k200b_2G_emmc_sdhc.dtd b/arch/arm/boot/dts/amlogic/meson8_k200b_2G_emmc_sdhc.dtd
index ca079eb17a80..e897cfa85447 100755
--- a/arch/arm/boot/dts/amlogic/meson8_k200b_2G_emmc_sdhc.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8_k200b_2G_emmc_sdhc.dtd
@@ -140,7 +140,14 @@ void root_func(){
 		4k2k_fb = <0>;
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
-	
+
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -148,6 +155,8 @@ void root_func(){
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
 		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
@@ -175,9 +184,24 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x10000000>;
-                reserve-iomap = "true";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+//		reserve-iomap = "true";
         };
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8_k200b_2G_emmc_sdio.dtd b/arch/arm/boot/dts/amlogic/meson8_k200b_2G_emmc_sdio.dtd
index 066dae80c7d5..ed250b499620 100755
--- a/arch/arm/boot/dts/amlogic/meson8_k200b_2G_emmc_sdio.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8_k200b_2G_emmc_sdio.dtd
@@ -140,7 +140,14 @@ void root_func(){
 		4k2k_fb = <0>;
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
-	
+
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -148,6 +155,8 @@ void root_func(){
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
 		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
@@ -175,9 +184,24 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x10000000>;
-                reserve-iomap = "true";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+//		reserve-iomap = "true";
         };
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8b_m200_1G.dtd b/arch/arm/boot/dts/amlogic/meson8b_m200_1G.dtd
index bac3caeed832..77a5eacc33ab 100644
--- a/arch/arm/boot/dts/amlogic/meson8b_m200_1G.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8b_m200_1G.dtd
@@ -138,13 +138,22 @@ void root_func(){
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
 
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
-    deinterlace{
+	deinterlace{
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
 		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
@@ -159,7 +168,7 @@ void root_func(){
 		dev_name = "mesonstream.0";
 		status = "okay";
 		reserve-memory = <0x02000000>; // 32M
-		reserve-iomap = "true";
+		//reserve-iomap = "true";
 	};
 
 /// ***************************************************************************************
@@ -172,9 +181,24 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x04000000>; // 64M
-                reserve-iomap = "true";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+//		reserve-iomap = "true";
         };
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8b_m201C_512M.dtd b/arch/arm/boot/dts/amlogic/meson8b_m201C_512M.dtd
index 2a254a98ee32..8a61a6305f6d 100755
--- a/arch/arm/boot/dts/amlogic/meson8b_m201C_512M.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8b_m201C_512M.dtd
@@ -139,15 +139,23 @@ void root_func(){
 		4k2k_fb = <0>;
 	        display_size_default = <1280 720 1280 1440 32>;  // osd0:8M, osd1:1m  1280*720*4*3 = 11,059,200
 	};
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
 
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
-    deinterlace{
+	deinterlace{
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
-		reserve-memory = <0x01800000>; //8x1920x1088x3/2=24M
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
+		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
 /// ***************************************************************************************
@@ -161,7 +169,7 @@ void root_func(){
 		dev_name = "mesonstream.0";
 		status = "okay";
 		reserve-memory = <0x00800000>;//10M,you can use 8M if memory isn't enough
-		reserve-iomap = "true";
+		//reserve-iomap = "true";
 	};
 
 /// ***************************************************************************************
@@ -174,9 +182,24 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x04000000>;//64M
-		reserve-iomap = "true";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+//		reserve-iomap = "true";
         };
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8b_m201_1G.dtd b/arch/arm/boot/dts/amlogic/meson8b_m201_1G.dtd
index 264345e03403..99695df35e3b 100755
--- a/arch/arm/boot/dts/amlogic/meson8b_m201_1G.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8b_m201_1G.dtd
@@ -138,14 +138,22 @@ void root_func(){
 		4k2k_fb = <0>;
 	        display_size_default = <1280 720 1280 1440 32>;  // osd0:8M, osd1:1m  1280*720*4*3 = 11,059,200
 	};
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
 
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
-    deinterlace{
+	deinterlace{
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
 		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
@@ -160,7 +168,7 @@ void root_func(){
 		dev_name = "mesonstream.0";
 		status = "okay";
 		reserve-memory = <0x02000000>; // 32M
-		reserve-iomap = "true";
+		//reserve-iomap = "true";
 	};
 
 /// ***************************************************************************************
@@ -173,9 +181,24 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x04000000>; // 64M
-                reserve-iomap = "true";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+//		reserve-iomap = "true";
         };
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8b_m202_512M.dtd b/arch/arm/boot/dts/amlogic/meson8b_m202_512M.dtd
index 7f13911a19ce..0db968258e17 100755
--- a/arch/arm/boot/dts/amlogic/meson8b_m202_512M.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8b_m202_512M.dtd
@@ -138,15 +138,23 @@ void root_func(){
 		4k2k_fb = <0>;
 	        display_size_default = <1280 720 1280 1440 32>;  // osd0:8M, osd1:1m  1280*720*4*3 = 11,059,200
 	};
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
 
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
-    deinterlace{
+	deinterlace{
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
-		reserve-memory = <0x01800000>; //8x1920x1088x3/2=24M
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
+		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
 /// ***************************************************************************************
@@ -160,7 +168,7 @@ void root_func(){
 		dev_name = "mesonstream.0";
 		status = "okay";
 		reserve-memory = <0x00800000>;//10M,you can use 8M if memory isn't enough
-		reserve-iomap = "true";
+		//reserve-iomap = "true";
 	};
 
 /// ***************************************************************************************
@@ -173,9 +181,24 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x04000000>;//64M
-		reserve-iomap = "true";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+//		reserve-iomap = "true";
         };
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8b_m203a.dtd b/arch/arm/boot/dts/amlogic/meson8b_m203a.dtd
index 0c72bdb3365a..e15cc3780bd3 100755
--- a/arch/arm/boot/dts/amlogic/meson8b_m203a.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8b_m203a.dtd
@@ -137,14 +137,22 @@ void root_func(){
 		4k2k_fb = <0>;
 	        display_size_default = <1280 720 1280 1440 32>;  // osd0:8M, osd1:1m  1280*720*4*3 = 11,059,200
 	};
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
 
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
-    deinterlace{
+	deinterlace{
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
 		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
@@ -159,7 +167,7 @@ void root_func(){
 		dev_name = "mesonstream.0";
 		status = "okay";
 		reserve-memory = <0x02000000>;//32M
-		reserve-iomap = "true";
+		//reserve-iomap = "true";
 	};
 
 /// ***************************************************************************************
@@ -172,9 +180,24 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x04000000>;//64M
-		reserve-iomap = "true";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+//		reserve-iomap = "true";
         };
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
@@ -187,6 +210,7 @@ void root_func(){
 		dev_name = "ppmgr";
 		status = "okay";
 		reserve-memory = <0x01000000>;//16M
+		reserve-iomap = "true";
 	};
 
 /// ***************************************************************************************
diff --git a/arch/arm/boot/dts/amlogic/meson8b_m203b.dtd b/arch/arm/boot/dts/amlogic/meson8b_m203b.dtd
index 2644e1dc3040..ec4574e055b5 100755
--- a/arch/arm/boot/dts/amlogic/meson8b_m203b.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8b_m203b.dtd
@@ -137,14 +137,22 @@ void root_func(){
 		4k2k_fb = <0>;
 	        display_size_default = <1280 720 1280 1440 32>;  // osd0:8M, osd1:1m  1280*720*4*3 = 11,059,200
 	};
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
 
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
-    deinterlace{
+	deinterlace{
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
 		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
@@ -159,7 +167,7 @@ void root_func(){
 		dev_name = "mesonstream.0";
 		status = "okay";
 		reserve-memory = <0x02000000>;//32M
-		reserve-iomap = "true";
+		//reserve-iomap = "true";
 	};
 
 /// ***************************************************************************************
@@ -172,9 +180,24 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x04000000>;//64M
-		reserve-iomap = "true";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+//		reserve-iomap = "true";
         };
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
@@ -187,6 +210,7 @@ void root_func(){
 		dev_name = "ppmgr";
 		status = "okay";
 		reserve-memory = <0x01000000>;//16M
+		reserve-iomap = "true";
 	};
 
 /// ***************************************************************************************
diff --git a/arch/arm/boot/dts/amlogic/meson8m2_n200C_1G.dtd b/arch/arm/boot/dts/amlogic/meson8m2_n200C_1G.dtd
index 9544eb05ea9c..6c31eac9774b 100755
--- a/arch/arm/boot/dts/amlogic/meson8m2_n200C_1G.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8m2_n200C_1G.dtd
@@ -148,6 +148,13 @@ void root_func(){
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
 
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -155,7 +162,9 @@ void root_func(){
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
-		reserve-memory = <0x01800000>; //8x1920x1088x3/2=24M
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
+		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
 /// ***************************************************************************************
@@ -182,10 +191,25 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x04000000>; // 64M
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
 //		reserve-iomap = "true";
 		linux,contiguous-region = <&mem_4k2k_decoder>;
         };
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8m2_n200C_2G.dtd b/arch/arm/boot/dts/amlogic/meson8m2_n200C_2G.dtd
index 15b0d4a1e3c6..dbd696a97581 100755
--- a/arch/arm/boot/dts/amlogic/meson8m2_n200C_2G.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8m2_n200C_2G.dtd
@@ -88,7 +88,7 @@ void root_func(){
 
         cma_0:region@0 {
            region_name = "cma_0";
-           reg = <0 0x02400000>;
+           reg = <0 0x01200000>;
            linux,contiguous-region;
         };
 	};
@@ -141,6 +141,13 @@ void root_func(){
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
 
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -148,7 +155,9 @@ void root_func(){
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
-		reserve-memory = <0x01800000>; //8x1920x1088x3/2=24M
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
+		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
 /// ***************************************************************************************
@@ -175,9 +184,24 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x10000000>;
-                reserve-iomap = "true";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+//		reserve-iomap = "true";
         };
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8m2_n200_1G.dtd b/arch/arm/boot/dts/amlogic/meson8m2_n200_1G.dtd
index 17fa4c727cda..659500977e26 100755
--- a/arch/arm/boot/dts/amlogic/meson8m2_n200_1G.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8m2_n200_1G.dtd
@@ -95,7 +95,7 @@ void root_func(){
 
         cma_0:region@0 {
            region_name = "cma_0";
-           reg = <0 0x02400000>;
+           reg = <0 0x01200000>;
            linux,contiguous-region;
         };
 	};
@@ -148,6 +148,13 @@ void root_func(){
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
 
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -155,7 +162,9 @@ void root_func(){
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
-		reserve-memory = <0x01800000>; //8x1920x1088x3/2=24M
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
+		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
 /// ***************************************************************************************
@@ -182,10 +191,25 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x04000000>; // 64M
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
 //		reserve-iomap = "true";
 		linux,contiguous-region = <&mem_4k2k_decoder>;
         };
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
diff --git a/arch/arm/boot/dts/amlogic/meson8m2_n200_2G.dtd b/arch/arm/boot/dts/amlogic/meson8m2_n200_2G.dtd
index 3c0adbfdade9..b8c396780b61 100755
--- a/arch/arm/boot/dts/amlogic/meson8m2_n200_2G.dtd
+++ b/arch/arm/boot/dts/amlogic/meson8m2_n200_2G.dtd
@@ -88,7 +88,7 @@ void root_func(){
 
         cma_0:region@0 {
            region_name = "cma_0";
-           reg = <0 0x02400000>;
+           reg = <0 0x01200000>;
            linux,contiguous-region;
         };
 	};
@@ -141,6 +141,13 @@ void root_func(){
  		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
 	};
 
+	continuemem{
+                compatible = "amlogic,contimuemem";
+                dev_name = "contimuemem";
+                reserve-memory = <0x06100000>; // 88M deinterlace+vdec
+	};
+
+
 //$$ DEVICE="deinterlace"
 //$$ L2 PROP_STR = "status"
 //$$ L2 PROP_U32 2 = "reg"
@@ -148,7 +155,9 @@ void root_func(){
 		compatible = "amlogic,deinterlace";
 		dev_name = "deinterlace";
 		status = "ok";
-		reserve-memory = <0x01800000>; //8x1920x1088x3/2=24M
+		share-memory-name = "continuemem0";
+                share-memory-offset = <0>;
+		reserve-memory = <0x02100000>; //10x1920x1088x3/2=33M
 	};
 
 /// ***************************************************************************************
@@ -175,9 +184,24 @@ void root_func(){
                 compatible = "amlogic,vdec";
                 dev_name = "vdec.0";
                 status = "okay";
-                reserve-memory = <0x10000000>;
-                reserve-iomap = "true";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+//		reserve-iomap = "true";
         };
+///	-	picture decoder
+//$$ MODULE="picture decoder"
+//$$ DEVICE="picdec"
+//$$ L2 PROP_STR = "status"
+//$$ L3 PROP_U32 2 ="reg"
+    picdec{
+		compatible = "amlogic,picdec";
+		dev_name = "picdec";
+		status = "okay";
+                share-memory-name = "continuemem0";
+                share-memory-offset = <0x02100000>;
+                share-memory-size = <0x04000000>; //64M
+	};
 
 /// ***************************************************************************************
 ///	-	DISP&MM-PostProcess
-- 
2.19.0

